function C1(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in n)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function x1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ag={exports:{}},hu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function I1(){if(H0)return hu;H0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return hu.Fragment=e,hu.jsx=t,hu.jsxs=t,hu}var $0;function D1(){return $0||($0=1,ag.exports=I1()),ag.exports}var U=D1(),og={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function O1(){if(q0)return xe;q0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function b(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,P={};function k(L,ie,de){this.props=L,this.context=ie,this.refs=P,this.updater=de||w}k.prototype.isReactComponent={},k.prototype.setState=function(L,ie){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ie,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function j(){}j.prototype=k.prototype;function G(L,ie,de){this.props=L,this.context=ie,this.refs=P,this.updater=de||w}var $=G.prototype=new j;$.constructor=G,x($,k.prototype),$.isPureReactComponent=!0;var te=Array.isArray,ne={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function V(L,ie,de,ue,ce,Ie){return de=Ie.ref,{$$typeof:n,type:L,key:ie,ref:de!==void 0?de:null,props:Ie}}function I(L,ie){return V(L.type,ie,void 0,void 0,void 0,L.props)}function C(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function O(L){var ie={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(de){return ie[de]})}var D=/\/+/g;function F(L,ie){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):ie.toString(36)}function N(){}function Se(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(N,N):(L.status="pending",L.then(function(ie){L.status==="pending"&&(L.status="fulfilled",L.value=ie)},function(ie){L.status==="pending"&&(L.status="rejected",L.reason=ie)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Le(L,ie,de,ue,ce){var Ie=typeof L;(Ie==="undefined"||Ie==="boolean")&&(L=null);var Ce=!1;if(L===null)Ce=!0;else switch(Ie){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(L.$$typeof){case n:case e:Ce=!0;break;case v:return Ce=L._init,Le(Ce(L._payload),ie,de,ue,ce)}}if(Ce)return ce=ce(L),Ce=ue===""?"."+F(L,0):ue,te(ce)?(de="",Ce!=null&&(de=Ce.replace(D,"$&/")+"/"),Le(ce,ie,de,"",function(ut){return ut})):ce!=null&&(C(ce)&&(ce=I(ce,de+(ce.key==null||L&&L.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+Ce)),ie.push(ce)),1;Ce=0;var vt=ue===""?".":ue+":";if(te(L))for(var ze=0;ze<L.length;ze++)ue=L[ze],Ie=vt+F(ue,ze),Ce+=Le(ue,ie,de,Ie,ce);else if(ze=b(L),typeof ze=="function")for(L=ze.call(L),ze=0;!(ue=L.next()).done;)ue=ue.value,Ie=vt+F(ue,ze++),Ce+=Le(ue,ie,de,Ie,ce);else if(Ie==="object"){if(typeof L.then=="function")return Le(Se(L),ie,de,ue,ce);throw ie=String(L),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function ae(L,ie,de){if(L==null)return L;var ue=[],ce=0;return Le(L,ue,"","",function(Ie){return ie.call(de,Ie,ce++)}),ue}function he(L){if(L._status===-1){var ie=L._result;ie=ie(),ie.then(function(de){(L._status===0||L._status===-1)&&(L._status=1,L._result=de)},function(de){(L._status===0||L._status===-1)&&(L._status=2,L._result=de)}),L._status===-1&&(L._status=0,L._result=ie)}if(L._status===1)return L._result.default;throw L._result}var Z=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function ve(){}return xe.Children={map:ae,forEach:function(L,ie,de){ae(L,function(){ie.apply(this,arguments)},de)},count:function(L){var ie=0;return ae(L,function(){ie++}),ie},toArray:function(L){return ae(L,function(ie){return ie})||[]},only:function(L){if(!C(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},xe.Component=k,xe.Fragment=t,xe.Profiler=a,xe.PureComponent=G,xe.StrictMode=i,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,xe.act=function(){throw Error("act(...) is not supported in production builds of React.")},xe.cache=function(L){return function(){return L.apply(null,arguments)}},xe.cloneElement=function(L,ie,de){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ue=x({},L.props),ce=L.key,Ie=void 0;if(ie!=null)for(Ce in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(ce=""+ie.key),ie)!le.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(ue[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=de;else if(1<Ce){for(var vt=Array(Ce),ze=0;ze<Ce;ze++)vt[ze]=arguments[ze+2];ue.children=vt}return V(L.type,ce,void 0,void 0,Ie,ue)},xe.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},xe.createElement=function(L,ie,de){var ue,ce={},Ie=null;if(ie!=null)for(ue in ie.key!==void 0&&(Ie=""+ie.key),ie)le.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=ie[ue]);var Ce=arguments.length-2;if(Ce===1)ce.children=de;else if(1<Ce){for(var vt=Array(Ce),ze=0;ze<Ce;ze++)vt[ze]=arguments[ze+2];ce.children=vt}if(L&&L.defaultProps)for(ue in Ce=L.defaultProps,Ce)ce[ue]===void 0&&(ce[ue]=Ce[ue]);return V(L,Ie,void 0,void 0,null,ce)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(L){return{$$typeof:d,render:L}},xe.isValidElement=C,xe.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:he}},xe.memo=function(L,ie){return{$$typeof:g,type:L,compare:ie===void 0?null:ie}},xe.startTransition=function(L){var ie=ne.T,de={};ne.T=de;try{var ue=L(),ce=ne.S;ce!==null&&ce(de,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ve,Z)}catch(Ie){Z(Ie)}finally{ne.T=ie}},xe.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},xe.use=function(L){return ne.H.use(L)},xe.useActionState=function(L,ie,de){return ne.H.useActionState(L,ie,de)},xe.useCallback=function(L,ie){return ne.H.useCallback(L,ie)},xe.useContext=function(L){return ne.H.useContext(L)},xe.useDebugValue=function(){},xe.useDeferredValue=function(L,ie){return ne.H.useDeferredValue(L,ie)},xe.useEffect=function(L,ie){return ne.H.useEffect(L,ie)},xe.useId=function(){return ne.H.useId()},xe.useImperativeHandle=function(L,ie,de){return ne.H.useImperativeHandle(L,ie,de)},xe.useInsertionEffect=function(L,ie){return ne.H.useInsertionEffect(L,ie)},xe.useLayoutEffect=function(L,ie){return ne.H.useLayoutEffect(L,ie)},xe.useMemo=function(L,ie){return ne.H.useMemo(L,ie)},xe.useOptimistic=function(L,ie){return ne.H.useOptimistic(L,ie)},xe.useReducer=function(L,ie,de){return ne.H.useReducer(L,ie,de)},xe.useRef=function(L){return ne.H.useRef(L)},xe.useState=function(L){return ne.H.useState(L)},xe.useSyncExternalStore=function(L,ie,de){return ne.H.useSyncExternalStore(L,ie,de)},xe.useTransition=function(){return ne.H.useTransition()},xe.version="19.0.0",xe}var G0;function wp(){return G0||(G0=1,og.exports=O1()),og.exports}var S=wp();const et=x1(S),Ug=C1({__proto__:null,default:et},[S]);var lg={exports:{}},du={},ug={exports:{}},cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y0;function N1(){return Y0||(Y0=1,function(n){function e(ae,he){var Z=ae.length;ae.push(he);e:for(;0<Z;){var ve=Z-1>>>1,L=ae[ve];if(0<a(L,he))ae[ve]=he,ae[Z]=L,Z=ve;else break e}}function t(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var he=ae[0],Z=ae.pop();if(Z!==he){ae[0]=Z;e:for(var ve=0,L=ae.length,ie=L>>>1;ve<ie;){var de=2*(ve+1)-1,ue=ae[de],ce=de+1,Ie=ae[ce];if(0>a(ue,Z))ce<L&&0>a(Ie,ue)?(ae[ve]=Ie,ae[ce]=Z,ve=ce):(ae[ve]=ue,ae[de]=Z,ve=de);else if(ce<L&&0>a(Ie,Z))ae[ve]=Ie,ae[ce]=Z,ve=ce;else break e}}return he}function a(ae,he){var Z=ae.sortIndex-he.sortIndex;return Z!==0?Z:ae.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,T=null,b=3,w=!1,x=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function $(ae){for(var he=t(g);he!==null;){if(he.callback===null)i(g);else if(he.startTime<=ae)i(g),he.sortIndex=he.expirationTime,e(m,he);else break;he=t(g)}}function te(ae){if(P=!1,$(ae),!x)if(t(m)!==null)x=!0,Se();else{var he=t(g);he!==null&&Le(te,he.startTime-ae)}}var ne=!1,le=-1,V=5,I=-1;function C(){return!(n.unstable_now()-I<V)}function O(){if(ne){var ae=n.unstable_now();I=ae;var he=!0;try{e:{x=!1,P&&(P=!1,j(le),le=-1),w=!0;var Z=b;try{t:{for($(ae),T=t(m);T!==null&&!(T.expirationTime>ae&&C());){var ve=T.callback;if(typeof ve=="function"){T.callback=null,b=T.priorityLevel;var L=ve(T.expirationTime<=ae);if(ae=n.unstable_now(),typeof L=="function"){T.callback=L,$(ae),he=!0;break t}T===t(m)&&i(m),$(ae)}else i(m);T=t(m)}if(T!==null)he=!0;else{var ie=t(g);ie!==null&&Le(te,ie.startTime-ae),he=!1}}break e}finally{T=null,b=Z,w=!1}he=void 0}}finally{he?D():ne=!1}}}var D;if(typeof G=="function")D=function(){G(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,N=F.port2;F.port1.onmessage=O,D=function(){N.postMessage(null)}}else D=function(){k(O,0)};function Se(){ne||(ne=!0,D())}function Le(ae,he){le=k(function(){ae(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ae){ae.callback=null},n.unstable_continueExecution=function(){x||w||(x=!0,Se())},n.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ae?Math.floor(1e3/ae):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(ae){switch(b){case 1:case 2:case 3:var he=3;break;default:he=b}var Z=b;b=he;try{return ae()}finally{b=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ae,he){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var Z=b;b=ae;try{return he()}finally{b=Z}},n.unstable_scheduleCallback=function(ae,he,Z){var ve=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ve+Z:ve):Z=ve,ae){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Z+L,ae={id:v++,callback:he,priorityLevel:ae,startTime:Z,expirationTime:L,sortIndex:-1},Z>ve?(ae.sortIndex=Z,e(g,ae),t(m)===null&&ae===t(g)&&(P?(j(le),le=-1):P=!0,Le(te,Z-ve))):(ae.sortIndex=L,e(m,ae),x||w||(x=!0,Se())),ae},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(ae){var he=b;return function(){var Z=b;b=he;try{return ae.apply(this,arguments)}finally{b=Z}}}}(cg)),cg}var K0;function M1(){return K0||(K0=1,ug.exports=N1()),ug.exports}var fg={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function P1(){if(Q0)return Xt;Q0=1;var n=wp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xt.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},Xt.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},Xt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Xt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Xt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:w}):v==="script"&&i.d.X(m,{crossOrigin:T,integrity:b,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Xt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Xt.requestFormReset=function(m){i.d.r(m)},Xt.unstable_batchedUpdates=function(m,g){return m(g)},Xt.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},Xt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var W0;function lb(){if(W0)return fg.exports;W0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fg.exports=P1(),fg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function k1(){if(X0)return du;X0=1;var n=M1(),e=wp(),t=lb();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),te=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function le(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function I(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case P:return"Suspense";case k:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case w:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case x:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return s=r.displayName||null,s!==null?s:I(r.type)||"Memo";case G:s=r._payload,r=r._init;try{return I(r(s))}catch{}}return null}var C=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,D,F;function N(r){if(D===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);D=s&&s[1]||"",F=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+D+r+F}var Se=!1;function Le(r,s){if(!r||Se)return"";Se=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var K=W}Reflect.construct(r,[],re)}else{try{re.call()}catch(W){K=W}r.call(re.prototype)}}else{try{throw Error()}catch(W){K=W}(re=r())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],A=p[1];if(E&&A){var M=E.split(`
`),z=A.split(`
`);for(h=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(u===M.length||h===z.length)for(u=M.length-1,h=z.length-1;1<=u&&0<=h&&M[u]!==z[h];)h--;for(;1<=u&&0<=h;u--,h--)if(M[u]!==z[h]){if(u!==1||h!==1)do if(u--,h--,0>h||M[u]!==z[h]){var X=`
`+M[u].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=u&&0<=h);break}}}finally{Se=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?N(o):""}function ae(r){switch(r.tag){case 26:case 27:case 5:return N(r.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return r=Le(r.type,!1),r;case 11:return r=Le(r.type.render,!1),r;case 1:return r=Le(r.type,!0),r;default:return""}}function he(r){try{var s="";do s+=ae(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Z(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function ve(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function L(r){if(Z(r)!==r)throw Error(i(188))}function ie(r){var s=r.alternate;if(!s){if(s=Z(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return L(h),r;if(p===u)return L(h),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=p;else{for(var E=!1,A=h.child;A;){if(A===o){E=!0,o=h,u=p;break}if(A===u){E=!0,u=h,o=p;break}A=A.sibling}if(!E){for(A=p.child;A;){if(A===o){E=!0,o=p,u=h;break}if(A===u){E=!0,u=p,o=h;break}A=A.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function de(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=de(r),s!==null)return s;r=r.sibling}return null}var ue=Array.isArray,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Ce=[],vt=-1;function ze(r){return{current:r}}function ut(r){0>vt||(r.current=Ce[vt],Ce[vt]=null,vt--)}function Qe(r,s){vt++,Ce[vt]=r.current,r.current=s}var sn=ze(null),Fr=ze(null),On=ze(null),Ri=ze(null);function Ci(r,s){switch(Qe(On,s),Qe(Fr,r),Qe(sn,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?v0(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=v0(r),s=_0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ut(sn),Qe(sn,s)}function Br(){ut(sn),ut(Fr),ut(On)}function ol(r){r.memoizedState!==null&&Qe(Ri,r);var s=sn.current,o=_0(s,r.type);s!==o&&(Qe(Fr,r),Qe(sn,o))}function ka(r){Fr.current===r&&(ut(sn),ut(Fr)),Ri.current===r&&(ut(Ri),ou._currentValue=Ie)}var Va=Object.prototype.hasOwnProperty,ks=n.unstable_scheduleCallback,La=n.unstable_cancelCallback,ld=n.unstable_shouldYield,ll=n.unstable_requestPaint,pn=n.unstable_now,hc=n.unstable_getCurrentPriorityLevel,St=n.unstable_ImmediatePriority,Mt=n.unstable_UserBlockingPriority,zr=n.unstable_NormalPriority,dc=n.unstable_LowPriority,ul=n.unstable_IdlePriority,ud=n.log,Vs=n.unstable_setDisableYieldValue,xi=null,Qt=null;function cl(r){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(xi,r,void 0,(r.current.flags&128)===128)}catch{}}function cr(r){if(typeof ud=="function"&&Vs(r),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(xi,r)}catch{}}var an=Math.clz32?Math.clz32:gc,fl=Math.log,mc=Math.LN2;function gc(r){return r>>>=0,r===0?32:31-(fl(r)/mc|0)|0}var fr=128,Ii=4194304;function Jn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Nn(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,h=r.suspendedLanes,p=r.pingedLanes,E=r.warmLanes;r=r.finishedLanes!==0;var A=o&134217727;return A!==0?(o=A&~h,o!==0?u=Jn(o):(p&=A,p!==0?u=Jn(p):r||(E=A&~E,E!==0&&(u=Jn(E))))):(A=o&~h,A!==0?u=Jn(A):p!==0?u=Jn(p):r||(E=o&~E,E!==0&&(u=Jn(E)))),u===0?0:s!==0&&s!==u&&(s&h)===0&&(h=u&-u,E=s&-s,h>=E||h===32&&(E&4194176)!==0)?s:u}function Di(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ua(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hl(){var r=fr;return fr<<=1,(fr&4194176)===0&&(fr=128),r}function Oi(){var r=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),r}function ja(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function gt(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function pc(r,s,o,u,h,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,M=r.expirationTimes,z=r.hiddenUpdates;for(o=E&~o;0<o;){var X=31-an(o),re=1<<X;A[X]=0,M[X]=-1;var K=z[X];if(K!==null)for(z[X]=null,X=0;X<K.length;X++){var W=K[X];W!==null&&(W.lane&=-536870913)}o&=~re}u!==0&&Ni(r,u,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~s))}function Ni(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-an(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Mi(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-an(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function yc(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function vc(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:L0(r.type))}function Pi(r,s){var o=ce.p;try{return ce.p=r,s()}finally{ce.p=o}}var hr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+hr,At="__reactProps$"+hr,Hr="__reactContainer$"+hr,Ls="__reactEvents$"+hr,Fa="__reactListeners$"+hr,dr="__reactHandles$"+hr,dl="__reactResources$"+hr,ki="__reactMarker$"+hr;function Us(r){delete r[Pt],delete r[At],delete r[Ls],delete r[Fa],delete r[dr]}function er(r){var s=r[Pt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Hr]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=b0(r);r!==null;){if(o=r[Pt])return o;r=b0(r)}return s}r=o,o=r.parentNode}return null}function $r(r){if(r=r[Pt]||r[Hr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Vi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Li(r){var s=r[dl];return s||(s=r[dl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function st(r){r[ki]=!0}var ml=new Set,Ba={};function bn(r,s){yn(r,s),yn(r+"Capture",s)}function yn(r,s){for(Ba[r]=s,r=0;r<s.length;r++)ml.add(s[r])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},pl={};function _c(r){return Va.call(pl,r)?!0:Va.call(gl,r)?!1:cd.test(r)?pl[r]=!0:(gl[r]=!0,!1)}function Ui(r,s,o){if(_c(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function ji(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Mn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function on(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ec(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fd(r){var s=Ec(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function js(r){r._valueTracker||(r._valueTracker=fd(r))}function yl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Ec(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function za(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var qr=/[\n"\\]/g;function ct(r){return r.replace(qr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fi(r,s,o,u,h,p,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+on(s)):r.value!==""+on(s)&&(r.value=""+on(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?Ha(r,E,on(s)):o!=null?Ha(r,E,on(o)):u!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+on(A):r.removeAttribute("name")}function Fs(r,s,o,u,h,p,E,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+on(o):"",s=s!=null?""+on(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Ha(r,s,o){s==="number"&&za(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function He(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+on(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Bs(r,s,o){if(s!=null&&(s=""+on(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+on(o):""}function Bi(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(ue(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=on(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Pn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var hd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||hd.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Tc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&vl(r,h,u)}else for(var p in s)s.hasOwnProperty(p)&&vl(r,p,s[p])}function _l(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(r){return md.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var kn=null;function $a(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gr=null,Yr=null;function Kr(r){var s=$r(r);if(s&&(r=s.stateNode)){var o=r[At]||null;e:switch(r=s.stateNode,s.type){case"input":if(Fi(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ct(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[At]||null;if(!h)throw Error(i(90));Fi(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&yl(u)}break e;case"textarea":Bs(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&He(r,!!o.multiple,s,!1)}}}var El=!1;function bc(r,s,o){if(El)return r(s,o);El=!0;try{var u=r(s);return u}finally{if(El=!1,(Gr!==null||Yr!==null)&&(mf(),Gr&&(s=Gr,r=Yr,Yr=Gr=null,Kr(s),r)))for(s=0;s<r.length;s++)Kr(r[s])}}function zs(r,s){var o=r.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Vn=!1;if(wn)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Vn=!1}var gr=null,zi=null,Qr=null;function Tl(){if(Qr)return Qr;var r,s=zi,o=s.length,u,h="value"in gr?gr.value:gr.textContent,p=h.length;for(r=0;r<o&&s[r]===h[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===h[p-u];u++);return Qr=h.slice(r,1<u?1-u:void 0)}function pr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function yr(){return!0}function bl(){return!1}function kt(r){function s(o,u,h,p,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?yr:bl,this.isPropagationStopped=bl,this}return O(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),s}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qa=kt(Ge),$s=O({},Ge,{view:0,detail:0}),wc=kt($s),Ga,Ya,vr,qs=O({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vr&&(vr&&r.type==="mousemove"?(Ga=r.screenX-vr.screenX,Ya=r.screenY-vr.screenY):Ya=Ga=0,vr=r),Ga)},movementY:function(r){return"movementY"in r?r.movementY:Ya}}),Ln=kt(qs),Sc=O({},qs,{dataTransfer:0}),gd=kt(Sc),Gs=O({},$s,{relatedTarget:0}),Ka=kt(Gs),wl=O({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=kt(wl),Ac=O({},Ge,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wa=kt(Ac),pd=O({},Ge,{data:0}),Sl=kt(pd),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Al(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Cc[r])?!!s[r]:!1}function Ks(){return Al}var xc=O({},$s,{key:function(r){if(r.key){var s=Ys[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=pr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Rc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(r){return r.type==="keypress"?pr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?pr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xa=kt(xc),Ic=O({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=kt(Ic),Wr=O({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),Dc=kt(Wr),Oc=O({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nc=kt(Oc),Mc=O({},qs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Za=kt(Mc),ln=O({},Ge,{newState:0,oldState:0}),Pc=kt(ln),kc=[9,13,27,32],_r=wn&&"CompositionEvent"in window,f=null;wn&&"documentMode"in document&&(f=document.documentMode);var y=wn&&"TextEvent"in window&&!f,_=wn&&(!_r||f&&8<f&&11>=f),R=" ",q=!1;function Q(r,s){switch(r){case"keyup":return kc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ue=!1;function Rt(r,s){switch(r){case"compositionend":return oe(s);case"keypress":return s.which!==32?null:(q=!0,R);case"textInput":return r=s.data,r===R&&q?null:r;default:return null}}function je(r,s){if(Ue)return r==="compositionend"||!_r&&Q(r,s)?(r=Tl(),Qr=zi=gr=null,Ue=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Vt[r.type]:s==="textarea"}function Xr(r,s,o,u){Gr?Yr?Yr.push(u):Yr=[u]:Gr=u,s=_f(s,"onChange"),0<s.length&&(o=new qa("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var zt=null,Er=null;function Cl(r){d0(r,0)}function Vc(r){var s=Vi(r);if(yl(s))return r}function zy(r,s){if(r==="change")return s}var Hy=!1;if(wn){var yd;if(wn){var vd="oninput"in document;if(!vd){var $y=document.createElement("div");$y.setAttribute("oninput","return;"),vd=typeof $y.oninput=="function"}yd=vd}else yd=!1;Hy=yd&&(!document.documentMode||9<document.documentMode)}function qy(){zt&&(zt.detachEvent("onpropertychange",Gy),Er=zt=null)}function Gy(r){if(r.propertyName==="value"&&Vc(Er)){var s=[];Xr(s,Er,r,$a(r)),bc(Cl,s)}}function rR(r,s,o){r==="focusin"?(qy(),zt=s,Er=o,zt.attachEvent("onpropertychange",Gy)):r==="focusout"&&qy()}function iR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vc(Er)}function sR(r,s){if(r==="click")return Vc(s)}function aR(r,s){if(r==="input"||r==="change")return Vc(s)}function oR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Sn=typeof Object.is=="function"?Object.is:oR;function xl(r,s){if(Sn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Va.call(s,h)||!Sn(r[h],s[h]))return!1}return!0}function Yy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ky(r,s){var o=Yy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yy(o)}}function Qy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Qy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Wy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=za(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=za(r.document)}return s}function _d(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function lR(r,s){var o=Wy(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Qy(s.ownerDocument.documentElement,s)){if(u!==null&&_d(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=s.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!o.extend&&p>u&&(h=u,u=p,p=h),h=Ky(s,p);var E=Ky(s,u);h&&E&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),p>u?(o.addRange(r),o.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var uR=wn&&"documentMode"in document&&11>=document.documentMode,Ja=null,Ed=null,Il=null,Td=!1;function Xy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Td||Ja==null||Ja!==za(u)||(u=Ja,"selectionStart"in u&&_d(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Il&&xl(Il,u)||(Il=u,u=_f(Ed,"onSelect"),0<u.length&&(s=new qa("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ja)))}function Qs(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var eo={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},bd={},Zy={};wn&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Ws(r){if(bd[r])return bd[r];if(!eo[r])return r;var s=eo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Zy)return bd[r]=s[o];return r}var Jy=Ws("animationend"),ev=Ws("animationiteration"),tv=Ws("animationstart"),cR=Ws("transitionrun"),fR=Ws("transitionstart"),hR=Ws("transitioncancel"),nv=Ws("transitionend"),rv=new Map,iv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function tr(r,s){rv.set(r,s),bn(s,[r])}var Un=[],to=0,wd=0;function Lc(){for(var r=to,s=wd=to=0;s<r;){var o=Un[s];Un[s++]=null;var u=Un[s];Un[s++]=null;var h=Un[s];Un[s++]=null;var p=Un[s];if(Un[s++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}p!==0&&sv(o,h,p)}}function Uc(r,s,o,u){Un[to++]=r,Un[to++]=s,Un[to++]=o,Un[to++]=u,wd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Sd(r,s,o,u){return Uc(r,s,o,u),jc(r)}function Hi(r,s){return Uc(r,null,null,s),jc(r)}function sv(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;h&&s!==null&&r.tag===3&&(p=r.stateNode,h=31-an(o),p=p.hiddenUpdates,r=p[h],r===null?p[h]=[s]:r.push(s),s.lane=o|536870912)}function jc(r){if(50<eu)throw eu=0,Dm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var no={},av=new WeakMap;function jn(r,s){if(typeof r=="object"&&r!==null){var o=av.get(r);return o!==void 0?o:(s={value:r,source:s,stack:he(s)},av.set(r,s),s)}return{value:r,source:s,stack:he(s)}}var ro=[],io=0,Fc=null,Bc=0,Fn=[],Bn=0,Xs=null,Zr=1,Jr="";function Zs(r,s){ro[io++]=Bc,ro[io++]=Fc,Fc=r,Bc=s}function ov(r,s,o){Fn[Bn++]=Zr,Fn[Bn++]=Jr,Fn[Bn++]=Xs,Xs=r;var u=Zr;r=Jr;var h=32-an(u)-1;u&=~(1<<h),o+=1;var p=32-an(s)+h;if(30<p){var E=h-h%5;p=(u&(1<<E)-1).toString(32),u>>=E,h-=E,Zr=1<<32-an(s)+h|o<<h|u,Jr=p+r}else Zr=1<<p|o<<h|u,Jr=r}function Ad(r){r.return!==null&&(Zs(r,1),ov(r,1,0))}function Rd(r){for(;r===Fc;)Fc=ro[--io],ro[io]=null,Bc=ro[--io],ro[io]=null;for(;r===Xs;)Xs=Fn[--Bn],Fn[Bn]=null,Jr=Fn[--Bn],Fn[Bn]=null,Zr=Fn[--Bn],Fn[Bn]=null}var un=null,Ht=null,$e=!1,nr=null,Tr=!1,Cd=Error(i(519));function Js(r){var s=Error(i(418,""));throw Nl(jn(s,r)),Cd}function lv(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Pt]=r,s[At]=u,o){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(o=0;o<nu.length;o++)ke(nu[o],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),Fs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),js(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),Bi(s,u.value,u.defaultValue,u.children),js(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||y0(s.textContent,o)?(u.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),u.onScroll!=null&&ke("scroll",s),u.onScrollEnd!=null&&ke("scrollend",s),u.onClick!=null&&(s.onclick=Ef),s=!0):s=!1,s||Js(r)}function uv(r){for(un=r.return;un;)switch(un.tag){case 3:case 27:Tr=!0;return;case 5:case 13:Tr=!1;return;default:un=un.return}}function Dl(r){if(r!==un)return!1;if(!$e)return uv(r),$e=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ym(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&Ht&&Js(r),uv(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Ht=ir(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Ht=null}}else Ht=un?ir(r.stateNode.nextSibling):null;return!0}function Ol(){Ht=un=null,$e=!1}function Nl(r){nr===null?nr=[r]:nr.push(r)}var Ml=Error(i(460)),cv=Error(i(474)),xd={then:function(){}};function fv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function zc(){}function hv(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(zc,zc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Ml?Error(i(483)):r;default:if(typeof s.status=="string")s.then(zc,zc);else{if(r=tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===Ml?Error(i(483)):r}throw Pl=s,Ml}}var Pl=null;function dv(){if(Pl===null)throw Error(i(459));var r=Pl;return Pl=null,r}var so=null,kl=0;function Hc(r){var s=kl;return kl+=1,so===null&&(so=[]),hv(so,r,s)}function Vl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function $c(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function mv(r){var s=r._init;return s(r._payload)}function gv(r){function s(H,B){if(r){var Y=H.deletions;Y===null?(H.deletions=[B],H.flags|=16):Y.push(B)}}function o(H,B){if(!r)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function u(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function h(H,B){return H=ts(H,B),H.index=0,H.sibling=null,H}function p(H,B,Y){return H.index=Y,r?(Y=H.alternate,Y!==null?(Y=Y.index,Y<B?(H.flags|=33554434,B):Y):(H.flags|=33554434,B)):(H.flags|=1048576,B)}function E(H){return r&&H.alternate===null&&(H.flags|=33554434),H}function A(H,B,Y,J){return B===null||B.tag!==6?(B=bm(Y,H.mode,J),B.return=H,B):(B=h(B,Y),B.return=H,B)}function M(H,B,Y,J){var me=Y.type;return me===m?X(H,B,Y.props.children,J,Y.key):B!==null&&(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===G&&mv(me)===B.type)?(B=h(B,Y.props),Vl(B,Y),B.return=H,B):(B=uf(Y.type,Y.key,Y.props,null,H.mode,J),Vl(B,Y),B.return=H,B)}function z(H,B,Y,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=wm(Y,H.mode,J),B.return=H,B):(B=h(B,Y.children||[]),B.return=H,B)}function X(H,B,Y,J,me){return B===null||B.tag!==7?(B=ua(Y,H.mode,J,me),B.return=H,B):(B=h(B,Y),B.return=H,B)}function re(H,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=bm(""+B,H.mode,Y),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case c:return Y=uf(B.type,B.key,B.props,null,H.mode,Y),Vl(Y,B),Y.return=H,Y;case d:return B=wm(B,H.mode,Y),B.return=H,B;case G:var J=B._init;return B=J(B._payload),re(H,B,Y)}if(ue(B)||le(B))return B=ua(B,H.mode,Y,null),B.return=H,B;if(typeof B.then=="function")return re(H,Hc(B),Y);if(B.$$typeof===w)return re(H,af(H,B),Y);$c(H,B)}return null}function K(H,B,Y,J){var me=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return me!==null?null:A(H,B,""+Y,J);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case c:return Y.key===me?M(H,B,Y,J):null;case d:return Y.key===me?z(H,B,Y,J):null;case G:return me=Y._init,Y=me(Y._payload),K(H,B,Y,J)}if(ue(Y)||le(Y))return me!==null?null:X(H,B,Y,J,null);if(typeof Y.then=="function")return K(H,B,Hc(Y),J);if(Y.$$typeof===w)return K(H,B,af(H,Y),J);$c(H,Y)}return null}function W(H,B,Y,J,me){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return H=H.get(Y)||null,A(B,H,""+J,me);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return H=H.get(J.key===null?Y:J.key)||null,M(B,H,J,me);case d:return H=H.get(J.key===null?Y:J.key)||null,z(B,H,J,me);case G:var Oe=J._init;return J=Oe(J._payload),W(H,B,Y,J,me)}if(ue(J)||le(J))return H=H.get(Y)||null,X(B,H,J,me,null);if(typeof J.then=="function")return W(H,B,Y,Hc(J),me);if(J.$$typeof===w)return W(H,B,Y,af(B,J),me);$c(B,J)}return null}function ge(H,B,Y,J){for(var me=null,Oe=null,ye=B,Ee=B=0,jt=null;ye!==null&&Ee<Y.length;Ee++){ye.index>Ee?(jt=ye,ye=null):jt=ye.sibling;var qe=K(H,ye,Y[Ee],J);if(qe===null){ye===null&&(ye=jt);break}r&&ye&&qe.alternate===null&&s(H,ye),B=p(qe,B,Ee),Oe===null?me=qe:Oe.sibling=qe,Oe=qe,ye=jt}if(Ee===Y.length)return o(H,ye),$e&&Zs(H,Ee),me;if(ye===null){for(;Ee<Y.length;Ee++)ye=re(H,Y[Ee],J),ye!==null&&(B=p(ye,B,Ee),Oe===null?me=ye:Oe.sibling=ye,Oe=ye);return $e&&Zs(H,Ee),me}for(ye=u(ye);Ee<Y.length;Ee++)jt=W(ye,H,Ee,Y[Ee],J),jt!==null&&(r&&jt.alternate!==null&&ye.delete(jt.key===null?Ee:jt.key),B=p(jt,B,Ee),Oe===null?me=jt:Oe.sibling=jt,Oe=jt);return r&&ye.forEach(function(ls){return s(H,ls)}),$e&&Zs(H,Ee),me}function Ae(H,B,Y,J){if(Y==null)throw Error(i(151));for(var me=null,Oe=null,ye=B,Ee=B=0,jt=null,qe=Y.next();ye!==null&&!qe.done;Ee++,qe=Y.next()){ye.index>Ee?(jt=ye,ye=null):jt=ye.sibling;var ls=K(H,ye,qe.value,J);if(ls===null){ye===null&&(ye=jt);break}r&&ye&&ls.alternate===null&&s(H,ye),B=p(ls,B,Ee),Oe===null?me=ls:Oe.sibling=ls,Oe=ls,ye=jt}if(qe.done)return o(H,ye),$e&&Zs(H,Ee),me;if(ye===null){for(;!qe.done;Ee++,qe=Y.next())qe=re(H,qe.value,J),qe!==null&&(B=p(qe,B,Ee),Oe===null?me=qe:Oe.sibling=qe,Oe=qe);return $e&&Zs(H,Ee),me}for(ye=u(ye);!qe.done;Ee++,qe=Y.next())qe=W(ye,H,Ee,qe.value,J),qe!==null&&(r&&qe.alternate!==null&&ye.delete(qe.key===null?Ee:qe.key),B=p(qe,B,Ee),Oe===null?me=qe:Oe.sibling=qe,Oe=qe);return r&&ye.forEach(function(R1){return s(H,R1)}),$e&&Zs(H,Ee),me}function dt(H,B,Y,J){if(typeof Y=="object"&&Y!==null&&Y.type===m&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case c:e:{for(var me=Y.key;B!==null;){if(B.key===me){if(me=Y.type,me===m){if(B.tag===7){o(H,B.sibling),J=h(B,Y.props.children),J.return=H,H=J;break e}}else if(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===G&&mv(me)===B.type){o(H,B.sibling),J=h(B,Y.props),Vl(J,Y),J.return=H,H=J;break e}o(H,B);break}else s(H,B);B=B.sibling}Y.type===m?(J=ua(Y.props.children,H.mode,J,Y.key),J.return=H,H=J):(J=uf(Y.type,Y.key,Y.props,null,H.mode,J),Vl(J,Y),J.return=H,H=J)}return E(H);case d:e:{for(me=Y.key;B!==null;){if(B.key===me)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){o(H,B.sibling),J=h(B,Y.children||[]),J.return=H,H=J;break e}else{o(H,B);break}else s(H,B);B=B.sibling}J=wm(Y,H.mode,J),J.return=H,H=J}return E(H);case G:return me=Y._init,Y=me(Y._payload),dt(H,B,Y,J)}if(ue(Y))return ge(H,B,Y,J);if(le(Y)){if(me=le(Y),typeof me!="function")throw Error(i(150));return Y=me.call(Y),Ae(H,B,Y,J)}if(typeof Y.then=="function")return dt(H,B,Hc(Y),J);if(Y.$$typeof===w)return dt(H,B,af(H,Y),J);$c(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(o(H,B.sibling),J=h(B,Y),J.return=H,H=J):(o(H,B),J=bm(Y,H.mode,J),J.return=H,H=J),E(H)):o(H,B)}return function(H,B,Y,J){try{kl=0;var me=dt(H,B,Y,J);return so=null,me}catch(ye){if(ye===Ml)throw ye;var Oe=qn(29,ye,null,H.mode);return Oe.lanes=J,Oe.return=H,Oe}finally{}}}var ea=gv(!0),pv=gv(!1),ao=ze(null),qc=ze(0);function yv(r,s){r=ci,Qe(qc,r),Qe(ao,s),ci=r|s.baseLanes}function Id(){Qe(qc,ci),Qe(ao,ao.current)}function Dd(){ci=qc.current,ut(ao),ut(qc)}var zn=ze(null),br=null;function $i(r){var s=r.alternate;Qe(xt,xt.current&1),Qe(zn,r),br===null&&(s===null||ao.current!==null||s.memoizedState!==null)&&(br=r)}function vv(r){if(r.tag===22){if(Qe(xt,xt.current),Qe(zn,r),br===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(br=r)}}else qi()}function qi(){Qe(xt,xt.current),Qe(zn,zn.current)}function ei(r){ut(zn),br===r&&(br=null),ut(xt)}var xt=ze(0);function Gc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var dR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},mR=n.unstable_scheduleCallback,gR=n.unstable_NormalPriority,It={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Od(){return{controller:new dR,data:new Map,refCount:0}}function Ll(r){r.refCount--,r.refCount===0&&mR(gR,function(){r.controller.abort()})}var Ul=null,Nd=0,oo=0,lo=null;function pR(r,s){if(Ul===null){var o=Ul=[];Nd=0,oo=Um(),lo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Nd++,s.then(_v,_v),s}function _v(){if(--Nd===0&&Ul!==null){lo!==null&&(lo.status="fulfilled");var r=Ul;Ul=null,oo=0,lo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function yR(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Ev=C.S;C.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&pR(r,s),Ev!==null&&Ev(r,s)};var ta=ze(null);function Md(){var r=ta.current;return r!==null?r:tt.pooledCache}function Yc(r,s){s===null?Qe(ta,ta.current):Qe(ta,s.pool)}function Tv(){var r=Md();return r===null?null:{parent:It._currentValue,pool:r}}var Gi=0,De=null,Xe=null,_t=null,Kc=!1,uo=!1,na=!1,Qc=0,jl=0,co=null,vR=0;function pt(){throw Error(i(321))}function Pd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Sn(r[o],s[o]))return!1;return!0}function kd(r,s,o,u,h,p){return Gi=p,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,C.H=r===null||r.memoizedState===null?ra:Yi,na=!1,p=o(u,h),na=!1,uo&&(p=wv(s,o,u,h)),bv(r),p}function bv(r){C.H=wr;var s=Xe!==null&&Xe.next!==null;if(Gi=0,_t=Xe=De=null,Kc=!1,jl=0,co=null,s)throw Error(i(300));r===null||Lt||(r=r.dependencies,r!==null&&sf(r)&&(Lt=!0))}function wv(r,s,o,u){De=r;var h=0;do{if(uo&&(co=null),jl=0,uo=!1,25<=h)throw Error(i(301));if(h+=1,_t=Xe=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}C.H=ia,p=s(o,u)}while(uo);return p}function _R(){var r=C.H,s=r.useState()[0];return s=typeof s.then=="function"?Fl(s):s,r=r.useState()[0],(Xe!==null?Xe.memoizedState:null)!==r&&(De.flags|=1024),s}function Vd(){var r=Qc!==0;return Qc=0,r}function Ld(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Ud(r){if(Kc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kc=!1}Gi=0,_t=Xe=De=null,uo=!1,jl=Qc=0,co=null}function vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?De.memoizedState=_t=r:_t=_t.next=r,_t}function Et(){if(Xe===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=Xe.next;var s=_t===null?De.memoizedState:_t.next;if(s!==null)_t=s,Xe=r;else{if(r===null)throw De.alternate===null?Error(i(467)):Error(i(310));Xe=r,r={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?De.memoizedState=_t=r:_t=_t.next=r}return _t}var Wc;Wc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Fl(r){var s=jl;return jl+=1,co===null&&(co=[]),r=hv(co,r,s),s=De,(_t===null?s.memoizedState:_t.next)===null&&(s=s.alternate,C.H=s===null||s.memoizedState===null?ra:Yi),r}function Xc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Fl(r);if(r.$$typeof===w)return Wt(r)}throw Error(i(438,String(r)))}function jd(r){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Wc(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=te;return s.index++,o}function ti(r,s){return typeof s=="function"?s(r):s}function Zc(r){var s=Et();return Fd(s,Xe,r)}function Fd(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,p=u.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}s.baseQueue=h=p,u.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{s=h.next;var A=E=null,M=null,z=s,X=!1;do{var re=z.lane&-536870913;if(re!==z.lane?(Fe&re)===re:(Gi&re)===re){var K=z.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),re===oo&&(X=!0);else if((Gi&K)===K){z=z.next,K===oo&&(X=!0);continue}else re={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(A=M=re,E=p):M=M.next=re,De.lanes|=K,ns|=K;re=z.action,na&&o(p,re),p=z.hasEagerState?z.eagerState:o(p,re)}else K={lane:re,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},M===null?(A=M=K,E=p):M=M.next=K,De.lanes|=re,ns|=re;z=z.next}while(z!==null&&z!==s);if(M===null?E=p:M.next=A,!Sn(p,r.memoizedState)&&(Lt=!0,X&&(o=lo,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=M,u.lastRenderedState=p}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Bd(r){var s=Et(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,p=s.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do p=r(p,E.action),E=E.next;while(E!==h);Sn(p,s.memoizedState)||(Lt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function Sv(r,s,o){var u=De,h=Et(),p=$e;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Sn((Xe||h).memoizedState,o);if(E&&(h.memoizedState=o,Lt=!0),h=h.queue,$d(Cv.bind(null,u,h,r),[r]),h.getSnapshot!==s||E||_t!==null&&_t.memoizedState.tag&1){if(u.flags|=2048,fo(9,Rv.bind(null,u,h,o,s),{destroy:void 0},null),tt===null)throw Error(i(349));p||(Gi&60)!==0||Av(u,s,o)}return o}function Av(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=Wc(),De.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Rv(r,s,o,u){s.value=o,s.getSnapshot=u,xv(s)&&Iv(r)}function Cv(r,s,o){return o(function(){xv(s)&&Iv(r)})}function xv(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Sn(r,o)}catch{return!0}}function Iv(r){var s=Hi(r,2);s!==null&&cn(s,r,2)}function zd(r){var s=vn();if(typeof r=="function"){var o=r;if(r=o(),na){cr(!0);try{o()}finally{cr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:r},s}function Dv(r,s,o,u){return r.baseState=o,Fd(r,Xe,typeof u=="function"?u:ti)}function ER(r,s,o,u,h){if(tf(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};C.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,Ov(s,p)):(p.next=o.next,s.pending=o.next=p)}}function Ov(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var p=C.T,E={};C.T=E;try{var A=o(h,u),M=C.S;M!==null&&M(E,A),Nv(r,s,A)}catch(z){Hd(r,s,z)}finally{C.T=p}}else try{p=o(h,u),Nv(r,s,p)}catch(z){Hd(r,s,z)}}function Nv(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Mv(r,s,u)},function(u){return Hd(r,s,u)}):Mv(r,s,o)}function Mv(r,s,o){s.status="fulfilled",s.value=o,Pv(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Ov(r,o)))}function Hd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Pv(s),s=s.next;while(s!==u)}r.action=null}function Pv(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function kv(r,s){return s}function Vv(r,s){if($e){var o=tt.formState;if(o!==null){e:{var u=De;if($e){if(Ht){t:{for(var h=Ht,p=Tr;h.nodeType!==8;){if(!p){h=null;break t}if(h=ir(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Ht=ir(h.nextSibling),u=h.data==="F!";break e}}Js(u)}u=!1}u&&(s=o[0])}}return o=vn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kv,lastRenderedState:s},o.queue=u,o=e_.bind(null,De,u),u.dispatch=o,u=zd(!1),p=Qd.bind(null,De,!1,u.queue),u=vn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=ER.bind(null,De,h,p,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function Lv(r){var s=Et();return Uv(s,Xe,r)}function Uv(r,s,o){s=Fd(r,s,kv)[0],r=Zc(ti)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Fl(s):s;var u=Et(),h=u.queue,p=h.dispatch;return o!==u.memoizedState&&(De.flags|=2048,fo(9,TR.bind(null,h,o),{destroy:void 0},null)),[s,p,r]}function TR(r,s){r.action=s}function jv(r){var s=Et(),o=Xe;if(o!==null)return Uv(s,o,r);Et(),s=s.memoizedState,o=Et();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function fo(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=De.updateQueue,s===null&&(s=Wc(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Fv(){return Et().memoizedState}function Jc(r,s,o,u){var h=vn();De.flags|=r,h.memoizedState=fo(1|s,o,{destroy:void 0},u===void 0?null:u)}function ef(r,s,o,u){var h=Et();u=u===void 0?null:u;var p=h.memoizedState.inst;Xe!==null&&u!==null&&Pd(u,Xe.memoizedState.deps)?h.memoizedState=fo(s,o,p,u):(De.flags|=r,h.memoizedState=fo(1|s,o,p,u))}function Bv(r,s){Jc(8390656,8,r,s)}function $d(r,s){ef(2048,8,r,s)}function zv(r,s){return ef(4,2,r,s)}function Hv(r,s){return ef(4,4,r,s)}function $v(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function qv(r,s,o){o=o!=null?o.concat([r]):null,ef(4,4,$v.bind(null,s,r),o)}function qd(){}function Gv(r,s){var o=Et();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Pd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function Yv(r,s){var o=Et();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Pd(s,u[1]))return u[0];if(u=r(),na){cr(!0);try{r()}finally{cr(!1)}}return o.memoizedState=[u,s],u}function Gd(r,s,o){return o===void 0||(Gi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=Q_(),De.lanes|=r,ns|=r,o)}function Kv(r,s,o,u){return Sn(o,s)?o:ao.current!==null?(r=Gd(r,o,u),Sn(r,s)||(Lt=!0),r):(Gi&42)===0?(Lt=!0,r.memoizedState=o):(r=Q_(),De.lanes|=r,ns|=r,s)}function Qv(r,s,o,u,h){var p=ce.p;ce.p=p!==0&&8>p?p:8;var E=C.T,A={};C.T=A,Qd(r,!1,s,o);try{var M=h(),z=C.S;if(z!==null&&z(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=yR(M,u);Bl(r,s,X,xn(r))}else Bl(r,s,u,xn(r))}catch(re){Bl(r,s,{then:function(){},status:"rejected",reason:re},xn())}finally{ce.p=p,C.T=E}}function bR(){}function Yd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=Wv(r).queue;Qv(r,h,s,Ie,o===null?bR:function(){return Xv(r),o(u)})}function Wv(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:Ie},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Xv(r){var s=Wv(r).next.queue;Bl(r,s,{},xn())}function Kd(){return Wt(ou)}function Zv(){return Et().memoizedState}function Jv(){return Et().memoizedState}function wR(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=xn();r=Wi(o);var u=Xi(s,r,o);u!==null&&(cn(u,s,o),$l(u,s,o)),s={cache:Od()},r.payload=s;return}s=s.return}}function SR(r,s,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},tf(r)?t_(s,o):(o=Sd(r,s,o,u),o!==null&&(cn(o,r,u),n_(o,s,u)))}function e_(r,s,o){var u=xn();Bl(r,s,o,u)}function Bl(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(tf(r))t_(s,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,A=p(E,o);if(h.hasEagerState=!0,h.eagerState=A,Sn(A,E))return Uc(r,s,h,0),tt===null&&Lc(),!1}catch{}finally{}if(o=Sd(r,s,h,u),o!==null)return cn(o,r,u),n_(o,s,u),!0}return!1}function Qd(r,s,o,u){if(u={lane:2,revertLane:Um(),action:u,hasEagerState:!1,eagerState:null,next:null},tf(r)){if(s)throw Error(i(479))}else s=Sd(r,o,u,2),s!==null&&cn(s,r,2)}function tf(r){var s=r.alternate;return r===De||s!==null&&s===De}function t_(r,s){uo=Kc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function n_(r,s,o){if((o&4194176)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Mi(r,o)}}var wr={readContext:Wt,use:Xc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};wr.useCacheRefresh=pt,wr.useMemoCache=pt,wr.useHostTransitionStatus=pt,wr.useFormState=pt,wr.useActionState=pt,wr.useOptimistic=pt;var ra={readContext:Wt,use:Xc,useCallback:function(r,s){return vn().memoizedState=[r,s===void 0?null:s],r},useContext:Wt,useEffect:Bv,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Jc(4194308,4,$v.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Jc(4194308,4,r,s)},useInsertionEffect:function(r,s){Jc(4,2,r,s)},useMemo:function(r,s){var o=vn();s=s===void 0?null:s;var u=r();if(na){cr(!0);try{r()}finally{cr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=vn();if(o!==void 0){var h=o(s);if(na){cr(!0);try{o(s)}finally{cr(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=SR.bind(null,De,r),[u.memoizedState,r]},useRef:function(r){var s=vn();return r={current:r},s.memoizedState=r},useState:function(r){r=zd(r);var s=r.queue,o=e_.bind(null,De,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:qd,useDeferredValue:function(r,s){var o=vn();return Gd(o,r,s)},useTransition:function(){var r=zd(!1);return r=Qv.bind(null,De,r.queue,!0,!1),vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=De,h=vn();if($e){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),tt===null)throw Error(i(349));(Fe&60)!==0||Av(u,s,o)}h.memoizedState=o;var p={value:o,getSnapshot:s};return h.queue=p,Bv(Cv.bind(null,u,p,r),[r]),u.flags|=2048,fo(9,Rv.bind(null,u,p,o,s),{destroy:void 0},null),o},useId:function(){var r=vn(),s=tt.identifierPrefix;if($e){var o=Jr,u=Zr;o=(u&~(1<<32-an(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Qc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=vR++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return vn().memoizedState=wR.bind(null,De)}};ra.useMemoCache=jd,ra.useHostTransitionStatus=Kd,ra.useFormState=Vv,ra.useActionState=Vv,ra.useOptimistic=function(r){var s=vn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Qd.bind(null,De,!0,o),o.dispatch=s,[r,s]};var Yi={readContext:Wt,use:Xc,useCallback:Gv,useContext:Wt,useEffect:$d,useImperativeHandle:qv,useInsertionEffect:zv,useLayoutEffect:Hv,useMemo:Yv,useReducer:Zc,useRef:Fv,useState:function(){return Zc(ti)},useDebugValue:qd,useDeferredValue:function(r,s){var o=Et();return Kv(o,Xe.memoizedState,r,s)},useTransition:function(){var r=Zc(ti)[0],s=Et().memoizedState;return[typeof r=="boolean"?r:Fl(r),s]},useSyncExternalStore:Sv,useId:Zv};Yi.useCacheRefresh=Jv,Yi.useMemoCache=jd,Yi.useHostTransitionStatus=Kd,Yi.useFormState=Lv,Yi.useActionState=Lv,Yi.useOptimistic=function(r,s){var o=Et();return Dv(o,Xe,r,s)};var ia={readContext:Wt,use:Xc,useCallback:Gv,useContext:Wt,useEffect:$d,useImperativeHandle:qv,useInsertionEffect:zv,useLayoutEffect:Hv,useMemo:Yv,useReducer:Bd,useRef:Fv,useState:function(){return Bd(ti)},useDebugValue:qd,useDeferredValue:function(r,s){var o=Et();return Xe===null?Gd(o,r,s):Kv(o,Xe.memoizedState,r,s)},useTransition:function(){var r=Bd(ti)[0],s=Et().memoizedState;return[typeof r=="boolean"?r:Fl(r),s]},useSyncExternalStore:Sv,useId:Zv};ia.useCacheRefresh=Jv,ia.useMemoCache=jd,ia.useHostTransitionStatus=Kd,ia.useFormState=jv,ia.useActionState=jv,ia.useOptimistic=function(r,s){var o=Et();return Xe!==null?Dv(o,Xe,r,s):(o.baseState=r,[r,o.queue.dispatch])};function Wd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:O({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Xd={isMounted:function(r){return(r=r._reactInternals)?Z(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=xn(),h=Wi(u);h.payload=s,o!=null&&(h.callback=o),s=Xi(r,h,u),s!==null&&(cn(s,r,u),$l(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=xn(),h=Wi(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Xi(r,h,u),s!==null&&(cn(s,r,u),$l(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=xn(),u=Wi(o);u.tag=2,s!=null&&(u.callback=s),s=Xi(r,u,o),s!==null&&(cn(s,r,o),$l(s,r,o))}};function r_(r,s,o,u,h,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):s.prototype&&s.prototype.isPureReactComponent?!xl(o,u)||!xl(h,p):!0}function i_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Xd.enqueueReplaceState(s,s.state,null)}function sa(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=O({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var nf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function s_(r){nf(r)}function a_(r){console.error(r)}function o_(r){nf(r)}function rf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function l_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zd(r,s,o){return o=Wi(o),o.tag=3,o.payload={element:null},o.callback=function(){rf(r,s)},o}function u_(r){return r=Wi(r),r.tag=3,r}function c_(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;r.payload=function(){return h(p)},r.callback=function(){l_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){l_(s,o,u),typeof h!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function AR(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Hl(s,o,h,!0),o=zn.current,o!==null){switch(o.tag){case 13:return br===null?Mm():o.alternate===null&&ht===0&&(ht=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===xd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),km(r,u,h)),!1;case 22:return o.flags|=65536,u===xd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),km(r,u,h)),!1}throw Error(i(435,o.tag))}return km(r,u,h),Mm(),!1}if($e)return s=zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==Cd&&(r=Error(i(422),{cause:u}),Nl(jn(r,o)))):(u!==Cd&&(s=Error(i(423),{cause:u}),Nl(jn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=jn(u,o),h=Zd(r.stateNode,u,h),dm(r,h),ht!==4&&(ht=2)),!1;var p=Error(i(520),{cause:u});if(p=jn(p,o),Zl===null?Zl=[p]:Zl.push(p),ht!==4&&(ht=2),s===null)return!0;u=jn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Zd(o.stateNode,u,r),dm(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(rs===null||!rs.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=u_(h),c_(h,r,o,u),dm(o,h),!1}o=o.return}while(o!==null);return!1}var f_=Error(i(461)),Lt=!1;function $t(r,s,o,u){s.child=r===null?pv(s,null,o,u):ea(s,r.child,o,u)}function h_(r,s,o,u,h){o=o.render;var p=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return oa(s),u=kd(r,s,o,E,p,h),A=Vd(),r!==null&&!Lt?(Ld(r,s,h),ni(r,s,h)):($e&&A&&Ad(s),s.flags|=1,$t(r,s,u,h),s.child)}function d_(r,s,o,u,h){if(r===null){var p=o.type;return typeof p=="function"&&!Tm(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,m_(r,s,p,u,h)):(r=uf(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!om(r,h)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:xl,o(E,u)&&r.ref===s.ref)return ni(r,s,h)}return s.flags|=1,r=ts(p,u),r.ref=s.ref,r.return=s,s.child=r}function m_(r,s,o,u,h){if(r!==null){var p=r.memoizedProps;if(xl(p,u)&&r.ref===s.ref)if(Lt=!1,s.pendingProps=u=p,om(r,h))(r.flags&131072)!==0&&(Lt=!0);else return s.lanes=r.lanes,ni(r,s,h)}return Jd(r,s,o,u,h)}function g_(r,s,o){var u=s.pendingProps,h=u.children,p=(s.stateNode._pendingVisibility&2)!==0,E=r!==null?r.memoizedState:null;if(zl(r,s),u.mode==="hidden"||p){if((s.flags&128)!==0){if(u=E!==null?E.baseLanes|o:o,r!==null){for(h=s.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;s.childLanes=p&~u}else s.childLanes=0,s.child=null;return p_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Yc(s,E!==null?E.cachePool:null),E!==null?yv(s,E):Id(),vv(s);else return s.lanes=s.childLanes=536870912,p_(r,s,E!==null?E.baseLanes|o:o,o)}else E!==null?(Yc(s,E.cachePool),yv(s,E),qi(),s.memoizedState=null):(r!==null&&Yc(s,null),Id(),qi());return $t(r,s,h,o),s.child}function p_(r,s,o,u){var h=Md();return h=h===null?null:{parent:It._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Yc(s,null),Id(),vv(s),r!==null&&Hl(r,s,u,!0),null}function zl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Jd(r,s,o,u,h){return oa(s),o=kd(r,s,o,u,void 0,h),u=Vd(),r!==null&&!Lt?(Ld(r,s,h),ni(r,s,h)):($e&&u&&Ad(s),s.flags|=1,$t(r,s,o,h),s.child)}function y_(r,s,o,u,h,p){return oa(s),s.updateQueue=null,o=wv(s,u,o,h),bv(r),u=Vd(),r!==null&&!Lt?(Ld(r,s,p),ni(r,s,p)):($e&&u&&Ad(s),s.flags|=1,$t(r,s,o,p),s.child)}function v_(r,s,o,u,h){if(oa(s),s.stateNode===null){var p=no,E=o.contextType;typeof E=="object"&&E!==null&&(p=Wt(E)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Xd,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},fm(s),E=o.contextType,p.context=typeof E=="object"&&E!==null?Wt(E):no,p.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Wd(s,o,E,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Xd.enqueueReplaceState(p,p.state,null),Gl(s,u,p,h),ql(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){p=s.stateNode;var A=s.memoizedProps,M=sa(o,A);p.props=M;var z=p.context,X=o.contextType;E=no,typeof X=="object"&&X!==null&&(E=Wt(X));var re=o.getDerivedStateFromProps;X=typeof re=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||z!==E)&&i_(s,p,u,E),Qi=!1;var K=s.memoizedState;p.state=K,Gl(s,u,p,h),ql(),z=s.memoizedState,A||K!==z||Qi?(typeof re=="function"&&(Wd(s,o,re,u),z=s.memoizedState),(M=Qi||r_(s,o,M,u,K,z,E))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=z),p.props=u,p.state=z,p.context=E,u=M):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,hm(r,s),E=s.memoizedProps,X=sa(o,E),p.props=X,re=s.pendingProps,K=p.context,z=o.contextType,M=no,typeof z=="object"&&z!==null&&(M=Wt(z)),A=o.getDerivedStateFromProps,(z=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==re||K!==M)&&i_(s,p,u,M),Qi=!1,K=s.memoizedState,p.state=K,Gl(s,u,p,h),ql();var W=s.memoizedState;E!==re||K!==W||Qi||r!==null&&r.dependencies!==null&&sf(r.dependencies)?(typeof A=="function"&&(Wd(s,o,A,u),W=s.memoizedState),(X=Qi||r_(s,o,X,u,K,W,M)||r!==null&&r.dependencies!==null&&sf(r.dependencies))?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,M)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),p.props=u,p.state=W,p.context=M,u=X):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),u=!1)}return p=u,zl(r,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&u?(s.child=ea(s,r.child,null,h),s.child=ea(s,null,o,h)):$t(r,s,o,h),s.memoizedState=p.state,r=s.child):r=ni(r,s,h),r}function __(r,s,o,u){return Ol(),s.flags|=256,$t(r,s,o,u),s.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(r){return{baseLanes:r,cachePool:Tv()}}function nm(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Gn),r}function E_(r,s,o){var u=s.pendingProps,h=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(xt.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if($e){if(h?$i(s):qi(),$e){var A=Ht,M;if(M=A){e:{for(M=A,A=Tr;M.nodeType!==8;){if(!A){A=null;break e}if(M=ir(M.nextSibling),M===null){A=null;break e}}A=M}A!==null?(s.memoizedState={dehydrated:A,treeContext:Xs!==null?{id:Zr,overflow:Jr}:null,retryLane:536870912},M=qn(18,null,null,0),M.stateNode=A,M.return=s,s.child=M,un=s,Ht=null,M=!0):M=!1}M||Js(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?s.lanes=16:s.lanes=536870912,null;ei(s)}return A=u.children,u=u.fallback,h?(qi(),h=s.mode,A=im({mode:"hidden",children:A},h),u=ua(u,h,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,h=s.child,h.memoizedState=tm(o),h.childLanes=nm(r,E,o),s.memoizedState=em,u):($i(s),rm(s,A))}if(M=r.memoizedState,M!==null&&(A=M.dehydrated,A!==null)){if(p)s.flags&256?($i(s),s.flags&=-257,s=sm(r,s,o)):s.memoizedState!==null?(qi(),s.child=r.child,s.flags|=128,s=null):(qi(),h=u.fallback,A=s.mode,u=im({mode:"visible",children:u.children},A),h=ua(h,A,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,ea(s,r.child,null,o),u=s.child,u.memoizedState=tm(o),u.childLanes=nm(r,E,o),s.memoizedState=em,s=h);else if($i(s),A.data==="$!"){if(E=A.nextSibling&&A.nextSibling.dataset,E)var z=E.dgst;E=z,u=Error(i(419)),u.stack="",u.digest=E,Nl({value:u,source:null,stack:null}),s=sm(r,s,o)}else if(Lt||Hl(r,s,o,!1),E=(o&r.childLanes)!==0,Lt||E){if(E=tt,E!==null){if(u=o&-o,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==M.retryLane)throw M.retryLane=u,Hi(r,u),cn(E,r,u),f_}A.data==="$?"||Mm(),s=sm(r,s,o)}else A.data==="$?"?(s.flags|=128,s.child=r.child,s=FR.bind(null,r),A._reactRetry=s,s=null):(r=M.treeContext,Ht=ir(A.nextSibling),un=s,$e=!0,nr=null,Tr=!1,r!==null&&(Fn[Bn++]=Zr,Fn[Bn++]=Jr,Fn[Bn++]=Xs,Zr=r.id,Jr=r.overflow,Xs=s),s=rm(s,u.children),s.flags|=4096);return s}return h?(qi(),h=u.fallback,A=s.mode,M=r.child,z=M.sibling,u=ts(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&31457280,z!==null?h=ts(z,h):(h=ua(h,A,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,A=r.child.memoizedState,A===null?A=tm(o):(M=A.cachePool,M!==null?(z=It._currentValue,M=M.parent!==z?{parent:z,pool:z}:M):M=Tv(),A={baseLanes:A.baseLanes|o,cachePool:M}),h.memoizedState=A,h.childLanes=nm(r,E,o),s.memoizedState=em,u):($i(s),o=r.child,r=o.sibling,o=ts(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function rm(r,s){return s=im({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function im(r,s){return G_(r,s,0,null)}function sm(r,s,o){return ea(s,r.child,null,o),r=rm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function T_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),um(r.return,s,o)}function am(r,s,o,u,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function b_(r,s,o){var u=s.pendingProps,h=u.revealOrder,p=u.tail;if($t(r,s,u.children,o),u=xt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&T_(r,o,s);else if(r.tag===19)T_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Qe(xt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&Gc(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),am(s,!1,h,o,p);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Gc(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}am(s,!0,o,null,p);break;case"together":am(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ni(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ns|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Hl(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=ts(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=ts(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function om(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&sf(r)))}function RR(r,s,o){switch(s.tag){case 3:Ci(s,s.stateNode.containerInfo),Ki(s,It,r.memoizedState.cache),Ol();break;case 27:case 5:ol(s);break;case 4:Ci(s,s.stateNode.containerInfo);break;case 10:Ki(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?($i(s),s.flags|=128,null):(o&s.child.childLanes)!==0?E_(r,s,o):($i(s),r=ni(r,s,o),r!==null?r.sibling:null);$i(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Hl(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return b_(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(xt,xt.current),u)break;return null;case 22:case 23:return s.lanes=0,g_(r,s,o);case 24:Ki(s,It,r.memoizedState.cache)}return ni(r,s,o)}function w_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Lt=!0;else{if(!om(r,o)&&(s.flags&128)===0)return Lt=!1,RR(r,s,o);Lt=(r.flags&131072)!==0}else Lt=!1,$e&&(s.flags&1048576)!==0&&ov(s,Bc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")Tm(u)?(r=sa(u,r),s.tag=1,s=v_(null,s,u,r,o)):(s.tag=0,s=Jd(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===x){s.tag=11,s=h_(null,s,u,r,o);break e}else if(h===j){s.tag=14,s=d_(null,s,u,r,o);break e}}throw s=I(u)||u,Error(i(306,s,""))}}return s;case 0:return Jd(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=sa(u,s.pendingProps),v_(r,s,u,h,o);case 3:e:{if(Ci(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var p=s.pendingProps;h=s.memoizedState,u=h.element,hm(r,s),Gl(s,p,null,o);var E=s.memoizedState;if(p=E.cache,Ki(s,It,p),p!==h.cache&&cm(s,[It],o,!0),ql(),p=E.element,h.isDehydrated)if(h={element:p,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=__(r,s,p,o);break e}else if(p!==u){u=jn(Error(i(424)),s),Nl(u),s=__(r,s,p,o);break e}else for(Ht=ir(s.stateNode.containerInfo.firstChild),un=s,$e=!0,nr=null,Tr=!0,o=pv(s,null,p,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ol(),p===u){s=ni(r,s,o);break e}$t(r,s,p,o)}s=s.child}return s;case 26:return zl(r,s),r===null?(o=R0(s.type,null,s.pendingProps,null))?s.memoizedState=o:$e||(o=s.type,r=s.pendingProps,u=Tf(On.current).createElement(o),u[Pt]=s,u[At]=r,qt(u,o,r),st(u),s.stateNode=u):s.memoizedState=R0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ol(s),r===null&&$e&&(u=s.stateNode=w0(s.type,s.pendingProps,On.current),un=s,Tr=!0,Ht=ir(u.firstChild)),u=s.pendingProps.children,r!==null||$e?$t(r,s,u,o):s.child=ea(s,null,u,o),zl(r,s),s.child;case 5:return r===null&&$e&&((h=u=Ht)&&(u=n1(u,s.type,s.pendingProps,Tr),u!==null?(s.stateNode=u,un=s,Ht=ir(u.firstChild),Tr=!1,h=!0):h=!1),h||Js(s)),ol(s),h=s.type,p=s.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,Ym(h,p)?u=null:E!==null&&Ym(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=kd(r,s,_R,null,null,o),ou._currentValue=h),zl(r,s),$t(r,s,u,o),s.child;case 6:return r===null&&$e&&((r=o=Ht)&&(o=r1(o,s.pendingProps,Tr),o!==null?(s.stateNode=o,un=s,Ht=null,r=!0):r=!1),r||Js(s)),null;case 13:return E_(r,s,o);case 4:return Ci(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=ea(s,null,u,o):$t(r,s,u,o),s.child;case 11:return h_(r,s,s.type,s.pendingProps,o);case 7:return $t(r,s,s.pendingProps,o),s.child;case 8:return $t(r,s,s.pendingProps.children,o),s.child;case 12:return $t(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ki(s,s.type,u.value),$t(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,oa(s),h=Wt(h),u=u(h),s.flags|=1,$t(r,s,u,o),s.child;case 14:return d_(r,s,s.type,s.pendingProps,o);case 15:return m_(r,s,s.type,s.pendingProps,o);case 19:return b_(r,s,o);case 22:return g_(r,s,o);case 24:return oa(s),u=Wt(It),r===null?(h=Md(),h===null&&(h=tt,p=Od(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),s.memoizedState={parent:u,cache:h},fm(s),Ki(s,It,h)):((r.lanes&o)!==0&&(hm(r,s),Gl(s,null,null,o),ql()),h=r.memoizedState,p=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Ki(s,It,u)):(u=p.cache,Ki(s,It,u),u!==h.cache&&cm(s,[It],o,!0))),$t(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var lm=ze(null),aa=null,ri=null;function Ki(r,s,o){Qe(lm,s._currentValue),s._currentValue=o}function ii(r){r._currentValue=lm.current,ut(lm)}function um(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function cm(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=h;for(var M=0;M<s.length;M++)if(A.context===s[M]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),um(p.return,o,r),u||(E=null);break e}p=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),um(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Hl(r,s,o,u){r=null;for(var h=s,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=h.type;Sn(h.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(h===Ri.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(ou):r=[ou])}h=h.return}r!==null&&cm(s,r,o,u),s.flags|=262144}function sf(r){for(r=r.firstContext;r!==null;){if(!Sn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function oa(r){aa=r,ri=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Wt(r){return S_(aa,r)}function af(r,s){return aa===null&&oa(r),S_(r,s)}function S_(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ri===null){if(r===null)throw Error(i(308));ri=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else ri=ri.next=s;return o}var Qi=!1;function fm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Wi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Xi(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ot&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=jc(r),sv(r,null,o),s}return Uc(r,u,s,o),jc(r)}function $l(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Mi(r,o)}}function dm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?h=p=s:p=p.next=s}else h=p=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var mm=!1;function ql(){if(mm){var r=lo;if(r!==null)throw r}}function Gl(r,s,o,u){mm=!1;var h=r.updateQueue;Qi=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var M=A,z=M.next;M.next=null,E===null?p=z:E.next=z,E=M;var X=r.alternate;X!==null&&(X=X.updateQueue,A=X.lastBaseUpdate,A!==E&&(A===null?X.firstBaseUpdate=z:A.next=z,X.lastBaseUpdate=M))}if(p!==null){var re=h.baseState;E=0,X=z=M=null,A=p;do{var K=A.lane&-536870913,W=K!==A.lane;if(W?(Fe&K)===K:(u&K)===K){K!==0&&K===oo&&(mm=!0),X!==null&&(X=X.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ge=r,Ae=A;K=s;var dt=o;switch(Ae.tag){case 1:if(ge=Ae.payload,typeof ge=="function"){re=ge.call(dt,re,K);break e}re=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ae.payload,K=typeof ge=="function"?ge.call(dt,re,K):ge,K==null)break e;re=O({},re,K);break e;case 2:Qi=!0}}K=A.callback,K!==null&&(r.flags|=64,W&&(r.flags|=8192),W=h.callbacks,W===null?h.callbacks=[K]:W.push(K))}else W={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},X===null?(z=X=W,M=re):X=X.next=W,E|=K;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;W=A,A=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);X===null&&(M=re),h.baseState=M,h.firstBaseUpdate=z,h.lastBaseUpdate=X,p===null&&(h.shared.lanes=0),ns|=E,r.lanes=E,r.memoizedState=re}}function A_(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function R_(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)A_(o[r],s)}function Yl(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==h)}}catch(A){Je(s,s.return,A)}}function Zi(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&r)===r){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=s;var M=o;try{A()}catch(z){Je(h,M,z)}}}u=u.next}while(u!==p)}}catch(z){Je(s,s.return,z)}}function C_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{R_(s,o)}catch(u){Je(r,r.return,u)}}}function x_(r,s,o){o.props=sa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Je(r,s,u)}}function la(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(p){Je(r,s,p)}}function An(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){Je(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Je(r,s,h)}else o.current=null}function I_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){Je(r,r.return,h)}}function D_(r,s,o){try{var u=r.stateNode;XR(u,r.type,o,s),u[At]=s}catch(h){Je(r,r.return,h)}}function O_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function gm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||O_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pm(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ef));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(pm(r,s,o),r=r.sibling;r!==null;)pm(r,s,o),r=r.sibling}function of(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(of(r,s,o),r=r.sibling;r!==null;)of(r,s,o),r=r.sibling}var si=!1,ft=!1,ym=!1,N_=typeof WeakSet=="function"?WeakSet:Set,Ut=null,M_=!1;function CR(r,s){if(r=r.containerInfo,qm=Cf,r=Wy(r),_d(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,A=-1,M=-1,z=0,X=0,re=r,K=null;t:for(;;){for(var W;re!==o||h!==0&&re.nodeType!==3||(A=E+h),re!==p||u!==0&&re.nodeType!==3||(M=E+u),re.nodeType===3&&(E+=re.nodeValue.length),(W=re.firstChild)!==null;)K=re,re=W;for(;;){if(re===r)break t;if(K===o&&++z===h&&(A=E),K===p&&++X===u&&(M=E),(W=re.nextSibling)!==null)break;re=K,K=re.parentNode}re=W}o=A===-1||M===-1?null:{start:A,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gm={focusedElem:r,selectionRange:o},Cf=!1,Ut=s;Ut!==null;)if(s=Ut,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ut=r;else for(;Ut!==null;){switch(s=Ut,p=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=s,h=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ge=sa(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(ge,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ae){Je(o,o.return,Ae)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Wm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Wm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Ut=r;break}Ut=s.return}return ge=M_,M_=!1,ge}function P_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:oi(r,o),u&4&&Yl(5,o);break;case 1:if(oi(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(A){Je(o,o.return,A)}else{var h=sa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(A){Je(o,o.return,A)}}u&64&&C_(o),u&512&&la(o,o.return);break;case 3:if(oi(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{R_(u,r)}catch(A){Je(o,o.return,A)}}break;case 26:oi(r,o),u&512&&la(o,o.return);break;case 27:case 5:oi(r,o),s===null&&u&4&&I_(o),u&512&&la(o,o.return);break;case 12:oi(r,o);break;case 13:oi(r,o),u&4&&L_(r,o);break;case 22:if(h=o.memoizedState!==null||si,!h){s=s!==null&&s.memoizedState!==null||ft;var p=si,E=ft;si=h,(ft=s)&&!E?Ji(r,o,(o.subtreeFlags&8772)!==0):oi(r,o),si=p,ft=E}u&512&&(o.memoizedProps.mode==="manual"?la(o,o.return):An(o,o.return));break;default:oi(r,o)}}function k_(r){var s=r.alternate;s!==null&&(r.alternate=null,k_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Us(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Tt=null,Rn=!1;function ai(r,s,o){for(o=o.child;o!==null;)V_(r,s,o),o=o.sibling}function V_(r,s,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(xi,o)}catch{}switch(o.tag){case 26:ft||An(o,s),ai(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ft||An(o,s);var u=Tt,h=Rn;for(Tt=o.stateNode,ai(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Us(o),Tt=u,Rn=h;break;case 5:ft||An(o,s);case 6:h=Tt;var p=Rn;if(Tt=null,ai(r,s,o),Tt=h,Rn=p,Tt!==null)if(Rn)try{r=Tt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(E){Je(o,s,E)}else try{Tt.removeChild(o.stateNode)}catch(E){Je(o,s,E)}break;case 18:Tt!==null&&(Rn?(s=Tt,o=o.stateNode,s.nodeType===8?Qm(s.parentNode,o):s.nodeType===1&&Qm(s,o),fu(s)):Qm(Tt,o.stateNode));break;case 4:u=Tt,h=Rn,Tt=o.stateNode.containerInfo,Rn=!0,ai(r,s,o),Tt=u,Rn=h;break;case 0:case 11:case 14:case 15:ft||Zi(2,o,s),ft||Zi(4,o,s),ai(r,s,o);break;case 1:ft||(An(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&x_(o,s,u)),ai(r,s,o);break;case 21:ai(r,s,o);break;case 22:ft||An(o,s),ft=(u=ft)||o.memoizedState!==null,ai(r,s,o),ft=u;break;default:ai(r,s,o)}}function L_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{fu(r)}catch(o){Je(s,s.return,o)}}function xR(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new N_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new N_),s;default:throw Error(i(435,r.tag))}}function vm(r,s){var o=xR(r);s.forEach(function(u){var h=BR.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Hn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],p=r,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:case 5:Tt=A.stateNode,Rn=!1;break e;case 3:Tt=A.stateNode.containerInfo,Rn=!0;break e;case 4:Tt=A.stateNode.containerInfo,Rn=!0;break e}A=A.return}if(Tt===null)throw Error(i(160));V_(p,E,h),Tt=null,Rn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)U_(s,r),s=s.sibling}var rr=null;function U_(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Hn(s,r),$n(r),u&4&&(Zi(3,r,r.return),Yl(3,r),Zi(5,r,r.return));break;case 1:Hn(s,r),$n(r),u&512&&(ft||o===null||An(o,o.return)),u&64&&si&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=rr;if(Hn(s,r),$n(r),u&512&&(ft||o===null||An(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[ki]||p[Pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),qt(p,u,o),p[Pt]=r,st(p),u=p;break e;case"link":var E=I0("link","href",h).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(p=E[A],p.getAttribute("href")===(o.href==null?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}p=h.createElement(u),qt(p,u,o),h.head.appendChild(p);break;case"meta":if(E=I0("meta","content",h).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(p=E[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}p=h.createElement(u),qt(p,u,o),h.head.appendChild(p);break;default:throw Error(i(468,u))}p[Pt]=r,st(p),u=p}r.stateNode=u}else D0(h,r.type,r.stateNode);else r.stateNode=x0(h,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?D0(h,r.type,r.stateNode):x0(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&D_(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){h=r.stateNode,p=r.memoizedProps;try{for(var M=h.firstChild;M;){var z=M.nextSibling,X=M.nodeName;M[ki]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&M.rel.toLowerCase()==="stylesheet"||h.removeChild(M),M=z}for(var re=r.type,K=h.attributes;K.length;)h.removeAttributeNode(K[0]);qt(h,re,p),h[Pt]=r,h[At]=p}catch(ge){Je(r,r.return,ge)}}case 5:if(Hn(s,r),$n(r),u&512&&(ft||o===null||An(o,o.return)),r.flags&32){h=r.stateNode;try{Pn(h,"")}catch(ge){Je(r,r.return,ge)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,D_(r,h,o!==null?o.memoizedProps:h)),u&1024&&(ym=!0);break;case 6:if(Hn(s,r),$n(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(ge){Je(r,r.return,ge)}}break;case 3:if(Sf=null,h=rr,rr=bf(s.containerInfo),Hn(s,r),rr=h,$n(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{fu(s.containerInfo)}catch(ge){Je(r,r.return,ge)}ym&&(ym=!1,j_(r));break;case 4:u=rr,rr=bf(r.stateNode.containerInfo),Hn(s,r),$n(r),rr=u;break;case 12:Hn(s,r),$n(r);break;case 13:Hn(s,r),$n(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Cm=pn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,vm(r,u)));break;case 22:if(u&512&&(ft||o===null||An(o,o.return)),M=r.memoizedState!==null,z=o!==null&&o.memoizedState!==null,X=si,re=ft,si=X||M,ft=re||z,Hn(s,r),ft=re,si=X,$n(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=M?s._visibility&-2:s._visibility|1,M&&(s=si||ft,o===null||z||s||ho(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){z=o=s;try{if(h=z.stateNode,M)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=z.stateNode,A=z.memoizedProps.style;var W=A!=null&&A.hasOwnProperty("display")?A.display:null;E.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(ge){Je(z,z.return,ge)}}}else if(s.tag===6){if(o===null){z=s;try{z.stateNode.nodeValue=M?"":z.memoizedProps}catch(ge){Je(z,z.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,vm(r,o))));break;case 19:Hn(s,r),$n(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,vm(r,u)));break;case 21:break;default:Hn(s,r),$n(r)}}function $n(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(O_(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var h=u.stateNode,p=gm(r);of(r,p,h);break;case 5:var E=u.stateNode;u.flags&32&&(Pn(E,""),u.flags&=-33);var A=gm(r);of(r,A,E);break;case 3:case 4:var M=u.stateNode.containerInfo,z=gm(r);pm(r,z,M);break;default:throw Error(i(161))}}}catch(X){Je(r,r.return,X)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function j_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;j_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function oi(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)P_(r,s.alternate,s),s=s.sibling}function ho(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Zi(4,s,s.return),ho(s);break;case 1:An(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&x_(s,s.return,o),ho(s);break;case 26:case 27:case 5:An(s,s.return),ho(s);break;case 22:An(s,s.return),s.memoizedState===null&&ho(s);break;default:ho(s)}r=r.sibling}}function Ji(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:Ji(h,p,o),Yl(4,p);break;case 1:if(Ji(h,p,o),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Je(u,u.return,z)}if(u=p,h=u.updateQueue,h!==null){var A=u.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)A_(M[h],A)}catch(z){Je(u,u.return,z)}}o&&E&64&&C_(p),la(p,p.return);break;case 26:case 27:case 5:Ji(h,p,o),o&&u===null&&E&4&&I_(p),la(p,p.return);break;case 12:Ji(h,p,o);break;case 13:Ji(h,p,o),o&&E&4&&L_(h,p);break;case 22:p.memoizedState===null&&Ji(h,p,o),la(p,p.return);break;default:Ji(h,p,o)}s=s.sibling}}function _m(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Ll(o))}function Em(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ll(r))}function es(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)F_(r,s,o,u),s=s.sibling}function F_(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:es(r,s,o,u),h&2048&&Yl(9,s);break;case 3:es(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ll(r)));break;case 12:if(h&2048){es(r,s,o,u),r=s.stateNode;try{var p=s.memoizedProps,E=p.id,A=p.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){Je(s,s.return,M)}}else es(r,s,o,u);break;case 23:break;case 22:p=s.stateNode,s.memoizedState!==null?p._visibility&4?es(r,s,o,u):Kl(r,s):p._visibility&4?es(r,s,o,u):(p._visibility|=4,mo(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&_m(s.alternate,s);break;case 24:es(r,s,o,u),h&2048&&Em(s.alternate,s);break;default:es(r,s,o,u)}}function mo(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=r,E=s,A=o,M=u,z=E.flags;switch(E.tag){case 0:case 11:case 15:mo(p,E,A,M,h),Yl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&4?mo(p,E,A,M,h):Kl(p,E):(X._visibility|=4,mo(p,E,A,M,h)),h&&z&2048&&_m(E.alternate,E);break;case 24:mo(p,E,A,M,h),h&&z&2048&&Em(E.alternate,E);break;default:mo(p,E,A,M,h)}s=s.sibling}}function Kl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Kl(o,u),h&2048&&_m(u.alternate,u);break;case 24:Kl(o,u),h&2048&&Em(u.alternate,u);break;default:Kl(o,u)}s=s.sibling}}var Ql=8192;function go(r){if(r.subtreeFlags&Ql)for(r=r.child;r!==null;)B_(r),r=r.sibling}function B_(r){switch(r.tag){case 26:go(r),r.flags&Ql&&r.memoizedState!==null&&p1(rr,r.memoizedState,r.memoizedProps);break;case 5:go(r);break;case 3:case 4:var s=rr;rr=bf(r.stateNode.containerInfo),go(r),rr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Ql,Ql=16777216,go(r),Ql=s):go(r));break;default:go(r)}}function z_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Wl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ut=u,$_(u,r)}z_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)H_(r),r=r.sibling}function H_(r){switch(r.tag){case 0:case 11:case 15:Wl(r),r.flags&2048&&Zi(9,r,r.return);break;case 3:Wl(r);break;case 12:Wl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,lf(r)):Wl(r);break;default:Wl(r)}}function lf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ut=u,$_(u,r)}z_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Zi(8,s,s.return),lf(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,lf(s));break;default:lf(s)}r=r.sibling}}function $_(r,s){for(;Ut!==null;){var o=Ut;switch(o.tag){case 0:case 11:case 15:Zi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ll(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ut=u;else e:for(o=r;Ut!==null;){u=Ut;var h=u.sibling,p=u.return;if(k_(u),u===o){Ut=null;break e}if(h!==null){h.return=p,Ut=h;break e}Ut=p}}}function IR(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,s,o,u){return new IR(r,s,o,u)}function Tm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ts(r,s){var o=r.alternate;return o===null?(o=qn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function q_(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function uf(r,s,o,u,h,p){var E=0;if(u=r,typeof r=="function")Tm(r)&&(E=1);else if(typeof r=="string")E=m1(r,o,sn.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case m:return ua(o.children,h,p,s);case g:E=8,h|=24;break;case v:return r=qn(12,o,s,h|2),r.elementType=v,r.lanes=p,r;case P:return r=qn(13,o,s,h),r.elementType=P,r.lanes=p,r;case k:return r=qn(19,o,s,h),r.elementType=k,r.lanes=p,r;case $:return G_(o,h,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case w:E=10;break e;case b:E=9;break e;case x:E=11;break e;case j:E=14;break e;case G:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=qn(E,o,s,h),s.elementType=r,s.type=u,s.lanes=p,s}function ua(r,s,o,u){return r=qn(7,r,u,s),r.lanes=o,r}function G_(r,s,o,u){r=qn(22,r,u,s),r.elementType=$,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=h._current;if(p===null)throw Error(i(456));if((h._pendingVisibility&2)===0){var E=Hi(p,2);E!==null&&(h._pendingVisibility|=2,cn(E,p,2))}},attach:function(){var p=h._current;if(p===null)throw Error(i(456));if((h._pendingVisibility&2)!==0){var E=Hi(p,2);E!==null&&(h._pendingVisibility&=-3,cn(E,p,2))}}};return r.stateNode=h,r}function bm(r,s,o){return r=qn(6,r,null,s),r.lanes=o,r}function wm(r,s,o){return s=qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function li(r){r.flags|=4}function Y_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!O0(s)){if(s=zn.current,s!==null&&((Fe&4194176)===Fe?br!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==br))throw Pl=xd,cv;r.flags|=8192}}function cf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Oi():536870912,r.lanes|=s,yo|=s)}function Xl(r,s){if(!$e)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function at(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function DR(r,s,o){var u=s.pendingProps;switch(Rd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return at(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ii(It),Br(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Dl(s)?li(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nr!==null&&(Om(nr),nr=null))),at(s),null;case 26:return o=s.memoizedState,r===null?(li(s),o!==null?(at(s),Y_(s,o)):(at(s),s.flags&=-16777217)):o?o!==r.memoizedState?(li(s),at(s),Y_(s,o)):(at(s),s.flags&=-16777217):(r.memoizedProps!==u&&li(s),at(s),s.flags&=-16777217),null;case 27:ka(s),o=On.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&li(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return at(s),null}r=sn.current,Dl(s)?lv(s):(r=w0(h,u,o),s.stateNode=r,li(s))}return at(s),null;case 5:if(ka(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&li(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return at(s),null}if(r=sn.current,Dl(s))lv(s);else{switch(h=Tf(On.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Pt]=s,r[At]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(qt(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&li(s)}}return at(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&li(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=On.current,Dl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=un,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Pt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||y0(r.nodeValue,o)),r||Js(s)}else r=Tf(r).createTextNode(u),r[Pt]=s,s.stateNode=r}return at(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Dl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Pt]=s}else Ol(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),h=!1}else nr!==null&&(Om(nr),nr=null),h=!0;if(!h)return s.flags&256?(ei(s),s):(ei(s),null)}if(ei(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),cf(s,s.updateQueue),at(s),null;case 4:return Br(),r===null&&zm(s.stateNode.containerInfo),at(s),null;case 10:return ii(s.type),at(s),null;case 19:if(ut(xt),h=s.memoizedState,h===null)return at(s),null;if(u=(s.flags&128)!==0,p=h.rendering,p===null)if(u)Xl(h,!1);else{if(ht!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=Gc(r),p!==null){for(s.flags|=128,Xl(h,!1),r=p.updateQueue,s.updateQueue=r,cf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)q_(o,r),o=o.sibling;return Qe(xt,xt.current&1|2),s.child}r=r.sibling}h.tail!==null&&pn()>ff&&(s.flags|=128,u=!0,Xl(h,!1),s.lanes=4194304)}else{if(!u)if(r=Gc(p),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,cf(s,r),Xl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!$e)return at(s),null}else 2*pn()-h.renderingStartTime>ff&&o!==536870912&&(s.flags|=128,u=!0,Xl(h,!1),s.lanes=4194304);h.isBackwards?(p.sibling=s.child,s.child=p):(r=h.last,r!==null?r.sibling=p:s.child=p,h.last=p)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=pn(),s.sibling=null,r=xt.current,Qe(xt,u?r&1|2:r&1),s):(at(s),null);case 22:case 23:return ei(s),Dd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),o=s.updateQueue,o!==null&&cf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ut(ta),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ii(It),at(s),null;case 25:return null}throw Error(i(156,s.tag))}function OR(r,s){switch(Rd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ii(It),Br(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ka(s),null;case 13:if(ei(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Ol()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ut(xt),null;case 4:return Br(),null;case 10:return ii(s.type),null;case 22:case 23:return ei(s),Dd(),r!==null&&ut(ta),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ii(It),null;case 25:return null;default:return null}}function K_(r,s){switch(Rd(s),s.tag){case 3:ii(It),Br();break;case 26:case 27:case 5:ka(s);break;case 4:Br();break;case 13:ei(s);break;case 19:ut(xt);break;case 10:ii(s.type);break;case 22:case 23:ei(s),Dd(),r!==null&&ut(ta);break;case 24:ii(It)}}var NR={getCacheForType:function(r){var s=Wt(It),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},MR=typeof WeakMap=="function"?WeakMap:Map,ot=0,tt=null,Ne=null,Fe=0,nt=0,Cn=null,ui=!1,po=!1,Sm=!1,ci=0,ht=0,ns=0,ca=0,Am=0,Gn=0,yo=0,Zl=null,Sr=null,Rm=!1,Cm=0,ff=1/0,hf=null,rs=null,df=!1,fa=null,Jl=0,xm=0,Im=null,eu=0,Dm=null;function xn(){if((ot&2)!==0&&Fe!==0)return Fe&-Fe;if(C.T!==null){var r=oo;return r!==0?r:Um()}return vc()}function Q_(){Gn===0&&(Gn=(Fe&536870912)===0||$e?hl():536870912);var r=zn.current;return r!==null&&(r.flags|=32),Gn}function cn(r,s,o){(r===tt&&nt===2||r.cancelPendingCommit!==null)&&(vo(r,0),fi(r,Fe,Gn,!1)),gt(r,o),((ot&2)===0||r!==tt)&&(r===tt&&((ot&2)===0&&(ca|=o),ht===4&&fi(r,Fe,Gn,!1)),Ar(r))}function W_(r,s,o){if((ot&6)!==0)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||Di(r,s),h=u?VR(r,s):Pm(r,s,!0),p=u;do{if(h===0){po&&!u&&fi(r,s,0,!1);break}else if(h===6)fi(r,s,0,!ui);else{if(o=r.current.alternate,p&&!PR(o)){h=Pm(r,s,!1),p=!1;continue}if(h===2){if(p=s,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=r;h=Zl;var M=A.current.memoizedState.isDehydrated;if(M&&(vo(A,E).flags|=256),E=Pm(A,E,!1),E!==2){if(Sm&&!M){A.errorRecoveryDisabledLanes|=p,ca|=p,h=4;break e}p=Sr,Sr=h,p!==null&&Om(p)}h=E}if(p=!1,h!==2)continue}}if(h===1){vo(r,0),fi(r,s,0,!0);break}e:{switch(u=r,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){fi(u,s,Gn,!ui);break e}break;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(p=Cm+300-pn(),10<p)){if(fi(u,s,Gn,!ui),Nn(u,0)!==0)break e;u.timeoutHandle=E0(X_.bind(null,u,o,Sr,hf,Rm,s,Gn,ca,yo,ui,2,-0,0),p);break e}X_(u,o,Sr,hf,Rm,s,Gn,ca,yo,ui,0,-0,0)}}break}while(!0);Ar(r)}function Om(r){Sr===null?Sr=r:Sr.push.apply(Sr,r)}function X_(r,s,o,u,h,p,E,A,M,z,X,re,K){var W=s.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(au={stylesheets:null,count:0,unsuspend:g1},B_(s),s=y1(),s!==null)){r.cancelPendingCommit=s(i0.bind(null,r,o,u,h,E,A,M,1,re,K)),fi(r,p,E,!z);return}i0(r,o,u,h,E,A,M,X,re,K)}function PR(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Sn(p(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fi(r,s,o,u){s&=~Am,s&=~ca,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var p=31-an(h),E=1<<p;u[p]=-1,h&=~E}o!==0&&Ni(r,o,s)}function mf(){return(ot&6)===0?(tu(0),!1):!0}function Nm(){if(Ne!==null){if(nt===0)var r=Ne.return;else r=Ne,ri=aa=null,Ud(r),so=null,kl=0,r=Ne;for(;r!==null;)K_(r.alternate,r),r=r.return;Ne=null}}function vo(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,JR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Nm(),tt=r,Ne=o=ts(r.current,null),Fe=s,nt=0,Cn=null,ui=!1,po=Di(r,s),Sm=!1,yo=Gn=Am=ca=ns=ht=0,Sr=Zl=null,Rm=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-an(u),p=1<<h;s|=r[h],u&=~p}return ci=s,Lc(),o}function Z_(r,s){De=null,C.H=wr,s===Ml?(s=dv(),nt=3):s===cv?(s=dv(),nt=4):nt=s===f_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,Ne===null&&(ht=1,rf(r,jn(s,r.current)))}function J_(){var r=C.H;return C.H=wr,r===null?wr:r}function e0(){var r=C.A;return C.A=NR,r}function Mm(){ht=4,ui||(Fe&4194176)!==Fe&&zn.current!==null||(po=!0),(ns&134217727)===0&&(ca&134217727)===0||tt===null||fi(tt,Fe,Gn,!1)}function Pm(r,s,o){var u=ot;ot|=2;var h=J_(),p=e0();(tt!==r||Fe!==s)&&(hf=null,vo(r,s)),s=!1;var E=ht;e:do try{if(nt!==0&&Ne!==null){var A=Ne,M=Cn;switch(nt){case 8:Nm(),E=6;break e;case 3:case 2:case 6:zn.current===null&&(s=!0);var z=nt;if(nt=0,Cn=null,_o(r,A,M,z),o&&po){E=0;break e}break;default:z=nt,nt=0,Cn=null,_o(r,A,M,z)}}kR(),E=ht;break}catch(X){Z_(r,X)}while(!0);return s&&r.shellSuspendCounter++,ri=aa=null,ot=u,C.H=h,C.A=p,Ne===null&&(tt=null,Fe=0,Lc()),E}function kR(){for(;Ne!==null;)t0(Ne)}function VR(r,s){var o=ot;ot|=2;var u=J_(),h=e0();tt!==r||Fe!==s?(hf=null,ff=pn()+500,vo(r,s)):po=Di(r,s);e:do try{if(nt!==0&&Ne!==null){s=Ne;var p=Cn;t:switch(nt){case 1:nt=0,Cn=null,_o(r,s,p,1);break;case 2:if(fv(p)){nt=0,Cn=null,n0(s);break}s=function(){nt===2&&tt===r&&(nt=7),Ar(r)},p.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:fv(p)?(nt=0,Cn=null,n0(s)):(nt=0,Cn=null,_o(r,s,p,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var A=Ne;if(!E||O0(E)){nt=0,Cn=null;var M=A.sibling;if(M!==null)Ne=M;else{var z=A.return;z!==null?(Ne=z,gf(z)):Ne=null}break t}}nt=0,Cn=null,_o(r,s,p,5);break;case 6:nt=0,Cn=null,_o(r,s,p,6);break;case 8:Nm(),ht=6;break e;default:throw Error(i(462))}}LR();break}catch(X){Z_(r,X)}while(!0);return ri=aa=null,C.H=u,C.A=h,ot=o,Ne!==null?0:(tt=null,Fe=0,Lc(),ht)}function LR(){for(;Ne!==null&&!ld();)t0(Ne)}function t0(r){var s=w_(r.alternate,r,ci);r.memoizedProps=r.pendingProps,s===null?gf(r):Ne=s}function n0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=y_(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=y_(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:Ud(s);default:K_(o,s),s=Ne=q_(s,ci),s=w_(o,s,ci)}r.memoizedProps=r.pendingProps,s===null?gf(r):Ne=s}function _o(r,s,o,u){ri=aa=null,Ud(s),so=null,kl=0;var h=s.return;try{if(AR(r,h,s,o,Fe)){ht=1,rf(r,jn(o,r.current)),Ne=null;return}}catch(p){if(h!==null)throw Ne=h,p;ht=1,rf(r,jn(o,r.current)),Ne=null;return}s.flags&32768?($e||u===1?r=!0:po||(Fe&536870912)!==0?r=!1:(ui=r=!0,(u===2||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),r0(s,r)):gf(s)}function gf(r){var s=r;do{if((s.flags&32768)!==0){r0(s,ui);return}r=s.return;var o=DR(s.alternate,s,ci);if(o!==null){Ne=o;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=r}while(s!==null);ht===0&&(ht=5)}function r0(r,s){do{var o=OR(r.alternate,r);if(o!==null){o.flags&=32767,Ne=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ne=r;return}Ne=r=o}while(r!==null);ht=6,Ne=null}function i0(r,s,o,u,h,p,E,A,M,z){var X=C.T,re=ce.p;try{ce.p=2,C.T=null,UR(r,s,o,u,re,h,p,E,A,M,z)}finally{C.T=X,ce.p=re}}function UR(r,s,o,u,h,p,E,A){do Eo();while(fa!==null);if((ot&6)!==0)throw Error(i(327));var M=r.finishedWork;if(u=r.finishedLanes,M===null)return null;if(r.finishedWork=null,r.finishedLanes=0,M===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var z=M.lanes|M.childLanes;if(z|=wd,pc(r,u,z,p,E,A),r===tt&&(Ne=tt=null,Fe=0),(M.subtreeFlags&10256)===0&&(M.flags&10256)===0||df||(df=!0,xm=z,Im=o,zR(zr,function(){return Eo(),null})),o=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||o?(o=C.T,C.T=null,p=ce.p,ce.p=2,E=ot,ot|=4,CR(r,M),U_(M,r),lR(Gm,r.containerInfo),Cf=!!qm,Gm=qm=null,r.current=M,P_(r,M.alternate,M),ll(),ot=E,ce.p=p,C.T=o):r.current=M,df?(df=!1,fa=r,Jl=u):s0(r,z),z=r.pendingLanes,z===0&&(rs=null),cl(M.stateNode),Ar(r),s!==null)for(h=r.onRecoverableError,M=0;M<s.length;M++)z=s[M],h(z.value,{componentStack:z.stack});return(Jl&3)!==0&&Eo(),z=r.pendingLanes,(u&4194218)!==0&&(z&42)!==0?r===Dm?eu++:(eu=0,Dm=r):eu=0,tu(0),null}function s0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Ll(s)))}function Eo(){if(fa!==null){var r=fa,s=xm;xm=0;var o=yc(Jl),u=C.T,h=ce.p;try{if(ce.p=32>o?32:o,C.T=null,fa===null)var p=!1;else{o=Im,Im=null;var E=fa,A=Jl;if(fa=null,Jl=0,(ot&6)!==0)throw Error(i(331));var M=ot;if(ot|=4,H_(E.current),F_(E,E.current,A,o),ot=M,tu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(xi,E)}catch{}p=!0}return p}finally{ce.p=h,C.T=u,s0(r,s)}}return!1}function a0(r,s,o){s=jn(o,s),s=Zd(r.stateNode,s,2),r=Xi(r,s,2),r!==null&&(gt(r,2),Ar(r))}function Je(r,s,o){if(r.tag===3)a0(r,r,o);else for(;s!==null;){if(s.tag===3){a0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(rs===null||!rs.has(u))){r=jn(o,r),o=u_(2),u=Xi(s,o,2),u!==null&&(c_(o,u,s,r),gt(u,2),Ar(u));break}}s=s.return}}function km(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new MR;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(Sm=!0,h.add(o),r=jR.bind(null,r,s,o),s.then(r,r))}function jR(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,tt===r&&(Fe&o)===o&&(ht===4||ht===3&&(Fe&62914560)===Fe&&300>pn()-Cm?(ot&2)===0&&vo(r,0):Am|=o,yo===Fe&&(yo=0)),Ar(r)}function o0(r,s){s===0&&(s=Oi()),r=Hi(r,s),r!==null&&(gt(r,s),Ar(r))}function FR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),o0(r,o)}function BR(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),o0(r,o)}function zR(r,s){return ks(r,s)}var pf=null,To=null,Vm=!1,yf=!1,Lm=!1,ha=0;function Ar(r){r!==To&&r.next===null&&(To===null?pf=To=r:To=To.next=r),yf=!0,Vm||(Vm=!0,$R(HR))}function tu(r,s){if(!Lm&&yf){Lm=!0;do for(var o=!1,u=pf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var E=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-an(42|r)+1)-1,p&=h&~(E&~A),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(o=!0,c0(u,p))}else p=Fe,p=Nn(u,u===tt?p:0),(p&3)===0||Di(u,p)||(o=!0,c0(u,p));u=u.next}while(o);Lm=!1}}function HR(){yf=Vm=!1;var r=0;ha!==0&&(ZR()&&(r=ha),ha=0);for(var s=pn(),o=null,u=pf;u!==null;){var h=u.next,p=l0(u,s);p===0?(u.next=null,o===null?pf=h:o.next=h,h===null&&(To=o)):(o=u,(r!==0||(p&3)!==0)&&(yf=!0)),u=h}tu(r)}function l0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-an(p),A=1<<E,M=h[E];M===-1?((A&o)===0||(A&u)!==0)&&(h[E]=Ua(A,s)):M<=s&&(r.expiredLanes|=A),p&=~A}if(s=tt,o=Fe,o=Nn(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&nt===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&La(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Di(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&La(u),yc(o)){case 2:case 8:o=Mt;break;case 32:o=zr;break;case 268435456:o=ul;break;default:o=zr}return u=u0.bind(null,r),o=ks(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&La(u),r.callbackPriority=2,r.callbackNode=null,2}function u0(r,s){var o=r.callbackNode;if(Eo()&&r.callbackNode!==o)return null;var u=Fe;return u=Nn(r,r===tt?u:0),u===0?null:(W_(r,u,s),l0(r,pn()),r.callbackNode!=null&&r.callbackNode===o?u0.bind(null,r):null)}function c0(r,s){if(Eo())return null;W_(r,s,!0)}function $R(r){e1(function(){(ot&6)!==0?ks(St,r):r()})}function Um(){return ha===0&&(ha=hl()),ha}function f0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:mr(""+r)}function h0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function qR(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var p=f0((h[At]||null).action),E=u.submitter;E&&(s=(s=E[At]||null)?f0(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var A=new qa("action","action",null,u,h);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ha!==0){var M=E?h0(h,E):new FormData(h);Yd(o,{pending:!0,data:M,method:h.method,action:p},null,M)}}else typeof p=="function"&&(A.preventDefault(),M=E?h0(h,E):new FormData(h),Yd(o,{pending:!0,data:M,method:h.method,action:p},p,M))},currentTarget:h}]})}}for(var jm=0;jm<iv.length;jm++){var Fm=iv[jm],GR=Fm.toLowerCase(),YR=Fm[0].toUpperCase()+Fm.slice(1);tr(GR,"on"+YR)}tr(Jy,"onAnimationEnd"),tr(ev,"onAnimationIteration"),tr(tv,"onAnimationStart"),tr("dblclick","onDoubleClick"),tr("focusin","onFocus"),tr("focusout","onBlur"),tr(cR,"onTransitionRun"),tr(fR,"onTransitionStart"),tr(hR,"onTransitionCancel"),tr(nv,"onTransitionEnd"),yn("onMouseEnter",["mouseout","mouseover"]),yn("onMouseLeave",["mouseout","mouseover"]),yn("onPointerEnter",["pointerout","pointerover"]),yn("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function d0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],M=A.instance,z=A.currentTarget;if(A=A.listener,M!==p&&h.isPropagationStopped())break e;p=A,h.currentTarget=z;try{p(h)}catch(X){nf(X)}h.currentTarget=null,p=M}else for(E=0;E<u.length;E++){if(A=u[E],M=A.instance,z=A.currentTarget,A=A.listener,M!==p&&h.isPropagationStopped())break e;p=A,h.currentTarget=z;try{p(h)}catch(X){nf(X)}h.currentTarget=null,p=M}}}}function ke(r,s){var o=s[Ls];o===void 0&&(o=s[Ls]=new Set);var u=r+"__bubble";o.has(u)||(m0(s,r,2,!1),o.add(u))}function Bm(r,s,o){var u=0;s&&(u|=4),m0(o,r,u,s)}var vf="_reactListening"+Math.random().toString(36).slice(2);function zm(r){if(!r[vf]){r[vf]=!0,ml.forEach(function(o){o!=="selectionchange"&&(KR.has(o)||Bm(o,!1,r),Bm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[vf]||(s[vf]=!0,Bm("selectionchange",!1,s))}}function m0(r,s,o,u){switch(L0(s)){case 2:var h=E1;break;case 8:h=T1;break;default:h=tg}o=h.bind(null,s,o,r),h=void 0,!Vn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Hm(r,s,o,u,h){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(E===4)for(E=u.return;E!==null;){var M=E.tag;if((M===3||M===4)&&(M=E.stateNode.containerInfo,M===h||M.nodeType===8&&M.parentNode===h))return;E=E.return}for(;A!==null;){if(E=er(A),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){u=p=E;continue e}A=A.parentNode}}u=u.return}bc(function(){var z=p,X=$a(o),re=[];e:{var K=rv.get(r);if(K!==void 0){var W=qa,ge=r;switch(r){case"keypress":if(pr(o)===0)break e;case"keydown":case"keyup":W=Xa;break;case"focusin":ge="focus",W=Ka;break;case"focusout":ge="blur",W=Ka;break;case"beforeblur":case"afterblur":W=Ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Dc;break;case Jy:case ev:case tv:W=Qa;break;case nv:W=Nc;break;case"scroll":case"scrollend":W=wc;break;case"wheel":W=Za;break;case"copy":case"cut":case"paste":W=Wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Rl;break;case"toggle":case"beforetoggle":W=Pc}var Ae=(s&4)!==0,dt=!Ae&&(r==="scroll"||r==="scrollend"),H=Ae?K!==null?K+"Capture":null:K;Ae=[];for(var B=z,Y;B!==null;){var J=B;if(Y=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||Y===null||H===null||(J=zs(B,H),J!=null&&Ae.push(ru(B,J,Y))),dt)break;B=B.return}0<Ae.length&&(K=new W(K,ge,null,o,X),re.push({event:K,listeners:Ae}))}}if((s&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",K&&o!==kn&&(ge=o.relatedTarget||o.fromElement)&&(er(ge)||ge[Hr]))break e;if((W||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,W?(ge=o.relatedTarget||o.toElement,W=z,ge=ge?er(ge):null,ge!==null&&(dt=Z(ge),Ae=ge.tag,ge!==dt||Ae!==5&&Ae!==27&&Ae!==6)&&(ge=null)):(W=null,ge=z),W!==ge)){if(Ae=Ln,J="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Ae=Rl,J="onPointerLeave",H="onPointerEnter",B="pointer"),dt=W==null?K:Vi(W),Y=ge==null?K:Vi(ge),K=new Ae(J,B+"leave",W,o,X),K.target=dt,K.relatedTarget=Y,J=null,er(X)===z&&(Ae=new Ae(H,B+"enter",ge,o,X),Ae.target=Y,Ae.relatedTarget=dt,J=Ae),dt=J,W&&ge)t:{for(Ae=W,H=ge,B=0,Y=Ae;Y;Y=bo(Y))B++;for(Y=0,J=H;J;J=bo(J))Y++;for(;0<B-Y;)Ae=bo(Ae),B--;for(;0<Y-B;)H=bo(H),Y--;for(;B--;){if(Ae===H||H!==null&&Ae===H.alternate)break t;Ae=bo(Ae),H=bo(H)}Ae=null}else Ae=null;W!==null&&g0(re,K,W,Ae,!1),ge!==null&&dt!==null&&g0(re,dt,ge,Ae,!0)}}e:{if(K=z?Vi(z):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var me=zy;else if(Ct(K))if(Hy)me=aR;else{me=iR;var Oe=rR}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?z&&_l(z.elementType)&&(me=zy):me=sR;if(me&&(me=me(r,z))){Xr(re,me,o,X);break e}Oe&&Oe(r,K,z),r==="focusout"&&z&&K.type==="number"&&z.memoizedProps.value!=null&&Ha(K,"number",K.value)}switch(Oe=z?Vi(z):window,r){case"focusin":(Ct(Oe)||Oe.contentEditable==="true")&&(Ja=Oe,Ed=z,Il=null);break;case"focusout":Il=Ed=Ja=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Xy(re,o,X);break;case"selectionchange":if(uR)break;case"keydown":case"keyup":Xy(re,o,X)}var ye;if(_r)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Ue?Q(r,o)&&(Ee="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&o.locale!=="ko"&&(Ue||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Ue&&(ye=Tl()):(gr=X,zi="value"in gr?gr.value:gr.textContent,Ue=!0)),Oe=_f(z,Ee),0<Oe.length&&(Ee=new Sl(Ee,r,null,o,X),re.push({event:Ee,listeners:Oe}),ye?Ee.data=ye:(ye=oe(o),ye!==null&&(Ee.data=ye)))),(ye=y?Rt(r,o):je(r,o))&&(Ee=_f(z,"onBeforeInput"),0<Ee.length&&(Oe=new Sl("onBeforeInput","beforeinput",null,o,X),re.push({event:Oe,listeners:Ee}),Oe.data=ye)),qR(re,r,z,o,X)}d0(re,s)})}function ru(r,s,o){return{instance:r,listener:s,currentTarget:o}}function _f(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,p=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=zs(r,o),h!=null&&u.unshift(ru(r,h,p)),h=zs(r,s),h!=null&&u.push(ru(r,h,p))),r=r.return}return u}function bo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function g0(r,s,o,u,h){for(var p=s._reactName,E=[];o!==null&&o!==u;){var A=o,M=A.alternate,z=A.stateNode;if(A=A.tag,M!==null&&M===u)break;A!==5&&A!==26&&A!==27||z===null||(M=z,h?(z=zs(o,p),z!=null&&E.unshift(ru(o,z,M))):h||(z=zs(o,p),z!=null&&E.push(ru(o,z,M)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var QR=/\r\n?/g,WR=/\u0000|\uFFFD/g;function p0(r){return(typeof r=="string"?r:""+r).replace(QR,`
`).replace(WR,"")}function y0(r,s){return s=p0(s),p0(r)===s}function Ef(){}function Ze(r,s,o,u,h,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Pn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Pn(r,""+u);break;case"className":ji(r,"class",u);break;case"tabIndex":ji(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(r,o,u);break;case"style":Tc(r,u,p);break;case"data":if(s!=="object"){ji(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=mr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&Ze(r,s,"name",h.name,h,null),Ze(r,s,"formEncType",h.formEncType,h,null),Ze(r,s,"formMethod",h.formMethod,h,null),Ze(r,s,"formTarget",h.formTarget,h,null)):(Ze(r,s,"encType",h.encType,h,null),Ze(r,s,"method",h.method,h,null),Ze(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=mr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Ef);break;case"onScroll":u!=null&&ke("scroll",r);break;case"onScrollEnd":u!=null&&ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=mr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":ke("beforetoggle",r),ke("toggle",r),Ui(r,"popover",u);break;case"xlinkActuate":Mn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ui(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=dd.get(o)||o,Ui(r,o,u))}}function $m(r,s,o,u,h,p){switch(o){case"style":Tc(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Pn(r,u):(typeof u=="number"||typeof u=="bigint")&&Pn(r,""+u);break;case"onScroll":u!=null&&ke("scroll",r);break;case"onScrollEnd":u!=null&&ke("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Ef);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),p=r[At]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Ui(r,o,u)}}}function qt(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",r),ke("load",r);var u=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ze(r,s,p,E,o,null)}}h&&Ze(r,s,"srcSet",o.srcSet,o,null),u&&Ze(r,s,"src",o.src,o,null);return;case"input":ke("invalid",r);var A=p=E=h=null,M=null,z=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":h=X;break;case"type":E=X;break;case"checked":M=X;break;case"defaultChecked":z=X;break;case"value":p=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:Ze(r,s,u,X,o,null)}}Fs(r,p,A,M,z,E,h,!1),js(r);return;case"select":ke("invalid",r),u=E=p=null;for(h in o)if(o.hasOwnProperty(h)&&(A=o[h],A!=null))switch(h){case"value":p=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:Ze(r,s,h,A,o,null)}s=p,o=E,r.multiple=!!u,s!=null?He(r,!!u,s,!1):o!=null&&He(r,!!u,o,!0);return;case"textarea":ke("invalid",r),p=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":h=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:Ze(r,s,E,A,o,null)}Bi(r,u,h,p),js(r);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(r,s,M,u,o,null)}return;case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":ke("load",r);break;case"video":case"audio":for(u=0;u<nu.length;u++)ke(nu[u],r);break;case"image":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"embed":case"source":case"link":ke("error",r),ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in o)if(o.hasOwnProperty(z)&&(u=o[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Ze(r,s,z,u,o,null)}return;default:if(_l(s)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&$m(r,s,X,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&Ze(r,s,A,u,o,null))}function XR(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,A=null,M=null,z=null,X=null;for(W in o){var re=o[W];if(o.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":M=re;default:u.hasOwnProperty(W)||Ze(r,s,W,null,u,re)}}for(var K in u){var W=u[K];if(re=o[K],u.hasOwnProperty(K)&&(W!=null||re!=null))switch(K){case"type":p=W;break;case"name":h=W;break;case"checked":z=W;break;case"defaultChecked":X=W;break;case"value":E=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==re&&Ze(r,s,K,W,u,re)}}Fi(r,E,A,M,z,X,p,h);return;case"select":W=E=A=K=null;for(p in o)if(M=o[p],o.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":W=M;default:u.hasOwnProperty(p)||Ze(r,s,p,null,u,M)}for(h in u)if(p=u[h],M=o[h],u.hasOwnProperty(h)&&(p!=null||M!=null))switch(h){case"value":K=p;break;case"defaultValue":A=p;break;case"multiple":E=p;default:p!==M&&Ze(r,s,h,p,u,M)}s=A,o=E,u=W,K!=null?He(r,!!o,K,!1):!!u!=!!o&&(s!=null?He(r,!!o,s,!0):He(r,!!o,o?[]:"",!1));return;case"textarea":W=K=null;for(A in o)if(h=o[A],o.hasOwnProperty(A)&&h!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Ze(r,s,A,null,u,h)}for(E in u)if(h=u[E],p=o[E],u.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":K=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==p&&Ze(r,s,E,h,u,p)}Bs(r,K,W);return;case"option":for(var ge in o)if(K=o[ge],o.hasOwnProperty(ge)&&K!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":r.selected=!1;break;default:Ze(r,s,ge,null,u,K)}for(M in u)if(K=u[M],W=o[M],u.hasOwnProperty(M)&&K!==W&&(K!=null||W!=null))switch(M){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ze(r,s,M,K,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)K=o[Ae],o.hasOwnProperty(Ae)&&K!=null&&!u.hasOwnProperty(Ae)&&Ze(r,s,Ae,null,u,K);for(z in u)if(K=u[z],W=o[z],u.hasOwnProperty(z)&&K!==W&&(K!=null||W!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:Ze(r,s,z,K,u,W)}return;default:if(_l(s)){for(var dt in o)K=o[dt],o.hasOwnProperty(dt)&&K!==void 0&&!u.hasOwnProperty(dt)&&$m(r,s,dt,void 0,u,K);for(X in u)K=u[X],W=o[X],!u.hasOwnProperty(X)||K===W||K===void 0&&W===void 0||$m(r,s,X,K,u,W);return}}for(var H in o)K=o[H],o.hasOwnProperty(H)&&K!=null&&!u.hasOwnProperty(H)&&Ze(r,s,H,null,u,K);for(re in u)K=u[re],W=o[re],!u.hasOwnProperty(re)||K===W||K==null&&W==null||Ze(r,s,re,K,u,W)}var qm=null,Gm=null;function Tf(r){return r.nodeType===9?r:r.ownerDocument}function v0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Ym(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Km=null;function ZR(){var r=window.event;return r&&r.type==="popstate"?r===Km?!1:(Km=r,!0):(Km=null,!1)}var E0=typeof setTimeout=="function"?setTimeout:void 0,JR=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(r){return T0.resolve(null).then(r).catch(t1)}:E0;function t1(r){setTimeout(function(){throw r})}function Qm(r,s){var o=s,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){r.removeChild(h),fu(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);fu(s)}function Wm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wm(o),Us(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function n1(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[ki])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=ir(r.nextSibling),r===null)break}return null}function r1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ir(r.nextSibling),r===null))return null;return r}function ir(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function b0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function w0(r,s,o){switch(s=Tf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var Yn=new Map,S0=new Set;function bf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var hi=ce.d;ce.d={f:i1,r:s1,D:a1,C:o1,L:l1,m:u1,X:f1,S:c1,M:h1};function i1(){var r=hi.f(),s=mf();return r||s}function s1(r){var s=$r(r);s!==null&&s.tag===5&&s.type==="form"?Xv(s):hi.r(r)}var wo=typeof document>"u"?null:document;function A0(r,s,o){var u=wo;if(u&&typeof s=="string"&&s){var h=ct(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),S0.has(h)||(S0.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),qt(s,"link",r),st(s),u.head.appendChild(s)))}}function a1(r){hi.D(r),A0("dns-prefetch",r,null)}function o1(r,s){hi.C(r,s),A0("preconnect",r,s)}function l1(r,s,o){hi.L(r,s,o);var u=wo;if(u&&r&&s){var h='link[rel="preload"][as="'+ct(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+ct(o.imageSizes)+'"]')):h+='[href="'+ct(r)+'"]';var p=h;switch(s){case"style":p=So(r);break;case"script":p=Ao(r)}Yn.has(p)||(r=O({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Yn.set(p,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(iu(p))||s==="script"&&u.querySelector(su(p))||(s=u.createElement("link"),qt(s,"link",r),st(s),u.head.appendChild(s)))}}function u1(r,s){hi.m(r,s);var o=wo;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+ct(u)+'"][href="'+ct(r)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ao(r)}if(!Yn.has(p)&&(r=O({rel:"modulepreload",href:r},s),Yn.set(p,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(su(p)))return}u=o.createElement("link"),qt(u,"link",r),st(u),o.head.appendChild(u)}}}function c1(r,s,o){hi.S(r,s,o);var u=wo;if(u&&r){var h=Li(u).hoistableStyles,p=So(r);s=s||"default";var E=h.get(p);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(iu(p)))A.loading=5;else{r=O({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Yn.get(p))&&Xm(r,o);var M=E=u.createElement("link");st(M),qt(M,"link",r),M._p=new Promise(function(z,X){M.onload=z,M.onerror=X}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,wf(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(p,E)}}}function f1(r,s){hi.X(r,s);var o=wo;if(o&&r){var u=Li(o).hoistableScripts,h=Ao(r),p=u.get(h);p||(p=o.querySelector(su(h)),p||(r=O({src:r,async:!0},s),(s=Yn.get(h))&&Zm(r,s),p=o.createElement("script"),st(p),qt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function h1(r,s){hi.M(r,s);var o=wo;if(o&&r){var u=Li(o).hoistableScripts,h=Ao(r),p=u.get(h);p||(p=o.querySelector(su(h)),p||(r=O({src:r,async:!0,type:"module"},s),(s=Yn.get(h))&&Zm(r,s),p=o.createElement("script"),st(p),qt(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function R0(r,s,o,u){var h=(h=On.current)?bf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=So(o.href),o=Li(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=So(o.href);var p=Li(h).hoistableStyles,E=p.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=h.querySelector(iu(r)))&&!p._p&&(E.instance=p,E.state.loading=5),Yn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yn.set(r,o),p||d1(h,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ao(o),o=Li(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function So(r){return'href="'+ct(r)+'"'}function iu(r){return'link[rel="stylesheet"]['+r+"]"}function C0(r){return O({},r,{"data-precedence":r.precedence,precedence:null})}function d1(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),qt(s,"link",o),st(s),r.head.appendChild(s))}function Ao(r){return'[src="'+ct(r)+'"]'}function su(r){return"script[async]"+r}function x0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+ct(o.href)+'"]');if(u)return s.instance=u,st(u),u;var h=O({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),st(u),qt(u,"style",h),wf(u,o.precedence,r),s.instance=u;case"stylesheet":h=So(o.href);var p=r.querySelector(iu(h));if(p)return s.state.loading|=4,s.instance=p,st(p),p;u=C0(o),(h=Yn.get(h))&&Xm(u,h),p=(r.ownerDocument||r).createElement("link"),st(p);var E=p;return E._p=new Promise(function(A,M){E.onload=A,E.onerror=M}),qt(p,"link",u),s.state.loading|=4,wf(p,o.precedence,r),s.instance=p;case"script":return p=Ao(o.src),(h=r.querySelector(su(p)))?(s.instance=h,st(h),h):(u=o,(h=Yn.get(p))&&(u=O({},o),Zm(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),st(h),qt(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,wf(u,o.precedence,r));return s.instance}function wf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)p=A;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Xm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Zm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Sf=null;function I0(r,s,o){if(Sf===null){var u=new Map,h=Sf=new Map;h.set(o,u)}else h=Sf,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var p=o[h];if(!(p[ki]||p[Pt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=r+E;var A=u.get(E);A?A.push(p):u.set(E,[p])}}return u}function D0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function m1(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function O0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var au=null;function g1(){}function p1(r,s,o){if(au===null)throw Error(i(475));var u=au;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=So(o.href),p=r.querySelector(iu(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Af.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=p,st(p);return}p=r.ownerDocument||r,o=C0(o),(h=Yn.get(h))&&Xm(o,h),p=p.createElement("link"),st(p);var E=p;E._p=new Promise(function(A,M){E.onload=A,E.onerror=M}),qt(p,"link",o),s.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Af.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function y1(){if(au===null)throw Error(i(475));var r=au;return r.stylesheets&&r.count===0&&Jm(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Jm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Af(){if(this.count--,this.count===0){if(this.stylesheets)Jm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Rf=null;function Jm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Rf=new Map,s.forEach(v1,r),Rf=null,Af.call(r))}function v1(r,s){if(!(s.state.loading&4)){var o=Rf.get(r);if(o)var u=o.get(null);else{o=new Map,Rf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=s.instance,E=h.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,h),o.set(E,h),this.count++,u=Af.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var ou={$$typeof:w,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function _1(r,s,o,u,h,p,E,A){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function N0(r,s,o,u,h,p,E,A,M,z,X,re){return r=new _1(r,s,o,E,A,M,z,re),s=1,p===!0&&(s|=24),p=qn(3,null,null,s),r.current=p,p.stateNode=r,s=Od(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},fm(p),r}function M0(r){return r?(r=no,r):no}function P0(r,s,o,u,h,p){h=M0(h),u.context===null?u.context=h:u.pendingContext=h,u=Wi(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Xi(r,u,s),o!==null&&(cn(o,r,s),$l(o,r,s))}function k0(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function eg(r,s){k0(r,s),(r=r.alternate)&&k0(r,s)}function V0(r){if(r.tag===13){var s=Hi(r,67108864);s!==null&&cn(s,r,67108864),eg(r,67108864)}}var Cf=!0;function E1(r,s,o,u){var h=C.T;C.T=null;var p=ce.p;try{ce.p=2,tg(r,s,o,u)}finally{ce.p=p,C.T=h}}function T1(r,s,o,u){var h=C.T;C.T=null;var p=ce.p;try{ce.p=8,tg(r,s,o,u)}finally{ce.p=p,C.T=h}}function tg(r,s,o,u){if(Cf){var h=ng(u);if(h===null)Hm(r,s,u,xf,o),U0(r,u);else if(w1(h,r,s,o,u))u.stopPropagation();else if(U0(r,u),s&4&&-1<b1.indexOf(r)){for(;h!==null;){var p=$r(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Jn(p.pendingLanes);if(E!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var M=1<<31-an(E);A.entanglements[1]|=M,E&=~M}Ar(p),(ot&6)===0&&(ff=pn()+500,tu(0))}}break;case 13:A=Hi(p,2),A!==null&&cn(A,p,2),mf(),eg(p,2)}if(p=ng(u),p===null&&Hm(r,s,u,xf,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Hm(r,s,u,null,o)}}function ng(r){return r=$a(r),rg(r)}var xf=null;function rg(r){if(xf=null,r=er(r),r!==null){var s=Z(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=ve(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return xf=r,null}function L0(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hc()){case St:return 2;case Mt:return 8;case zr:case dc:return 32;case ul:return 268435456;default:return 32}default:return 32}}var ig=!1,is=null,ss=null,as=null,lu=new Map,uu=new Map,os=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U0(r,s){switch(r){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":lu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(s.pointerId)}}function cu(r,s,o,u,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},s!==null&&(s=$r(s),s!==null&&V0(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function w1(r,s,o,u,h){switch(s){case"focusin":return is=cu(is,r,s,o,u,h),!0;case"dragenter":return ss=cu(ss,r,s,o,u,h),!0;case"mouseover":return as=cu(as,r,s,o,u,h),!0;case"pointerover":var p=h.pointerId;return lu.set(p,cu(lu.get(p)||null,r,s,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,uu.set(p,cu(uu.get(p)||null,r,s,o,u,h)),!0}return!1}function j0(r){var s=er(r.target);if(s!==null){var o=Z(s);if(o!==null){if(s=o.tag,s===13){if(s=ve(o),s!==null){r.blockedOn=s,Pi(r.priority,function(){if(o.tag===13){var u=xn(),h=Hi(o,u);h!==null&&cn(h,o,u),eg(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function If(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=ng(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);kn=u,o.target.dispatchEvent(u),kn=null}else return s=$r(o),s!==null&&V0(s),r.blockedOn=o,!1;s.shift()}return!0}function F0(r,s,o){If(r)&&o.delete(s)}function S1(){ig=!1,is!==null&&If(is)&&(is=null),ss!==null&&If(ss)&&(ss=null),as!==null&&If(as)&&(as=null),lu.forEach(F0),uu.forEach(F0)}function Df(r,s){r.blockedOn===s&&(r.blockedOn=null,ig||(ig=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,S1)))}var Of=null;function B0(r){Of!==r&&(Of=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Of===r&&(Of=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(rg(u||o)===null)continue;break}var p=$r(o);p!==null&&(r.splice(s,3),s-=3,Yd(p,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function fu(r){function s(M){return Df(M,r)}is!==null&&Df(is,r),ss!==null&&Df(ss,r),as!==null&&Df(as,r),lu.forEach(s),uu.forEach(s);for(var o=0;o<os.length;o++){var u=os[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<os.length&&(o=os[0],o.blockedOn===null);)j0(o),o.blockedOn===null&&os.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],E=h[At]||null;if(typeof p=="function")E||B0(o);else if(E){var A=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[At]||null)A=E.formAction;else if(rg(h)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),B0(o)}}}function sg(r){this._internalRoot=r}Nf.prototype.render=sg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=xn();P0(o,u,r,s,null,null)},Nf.prototype.unmount=sg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&Eo(),P0(r.current,2,null,r,null,null),mf(),s[Hr]=null}};function Nf(r){this._internalRoot=r}Nf.prototype.unstable_scheduleHydration=function(r){if(r){var s=vc();r={blockedOn:null,target:r,priority:s};for(var o=0;o<os.length&&s!==0&&s<os[o].priority;o++);os.splice(o,0,r),o===0&&j0(r)}};var z0=e.version;if(z0!=="19.0.0")throw Error(i(527,z0,"19.0.0"));ce.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=ie(s),r=r!==null?de(r):null,r=r===null?null:r.stateNode,r};var A1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:C,findFiberByHostInstance:er,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mf.isDisabled&&Mf.supportsFiber)try{xi=Mf.inject(A1),Qt=Mf}catch{}}return du.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=s_,p=a_,E=o_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=N0(r,1,!1,null,null,o,u,h,p,E,A,null),r[Hr]=s.current,zm(r.nodeType===8?r.parentNode:r),new sg(s)},du.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",p=s_,E=a_,A=o_,M=null,z=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(z=o.formState)),s=N0(r,1,!0,s,o??null,u,h,p,E,A,M,z),s.context=M0(null),o=s.current,u=xn(),h=Wi(u),h.callback=null,Xi(o,h,u),s.current.lanes=u,gt(s,u),Ar(s),r[Hr]=s.current,zm(r),new Nf(s)},du.version="19.0.0",du}var Z0;function V1(){if(Z0)return lg.exports;Z0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),lg.exports=k1(),lg.exports}var L1=V1(),mu={},J0;function U1(){if(J0)return mu;J0=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.parse=c,mu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,w){const x=new l,P=b.length;if(P<2)return x;const k=(w==null?void 0:w.decode)||v;let j=0;do{const G=b.indexOf("=",j);if(G===-1)break;const $=b.indexOf(";",j),te=$===-1?P:$;if(G>te){j=b.lastIndexOf(";",G-1)+1;continue}const ne=d(b,j,G),le=m(b,G,ne),V=b.slice(ne,le);if(x[V]===void 0){let I=d(b,G+1,te),C=m(b,te,I);const O=k(b.slice(I,C));x[V]=O}j=te+1}while(j<P);return x}function d(b,w,x){do{const P=b.charCodeAt(w);if(P!==32&&P!==9)return w}while(++w<x);return x}function m(b,w,x){for(;w>x;){const P=b.charCodeAt(--w);if(P!==32&&P!==9)return w+1}return x}function g(b,w,x){const P=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const k=P(w);if(!e.test(k))throw new TypeError(`argument val is invalid: ${w}`);let j=b+"="+k;if(!x)return j;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);j+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);j+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);j+="; Path="+x.path}if(x.expires){if(!T(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);j+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(j+="; HttpOnly"),x.secure&&(j+="; Secure"),x.partitioned&&(j+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return j}function v(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return a.call(b)==="[object Date]"}return mu}U1();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var eE="popstate";function j1(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return jg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Mu(a)}return B1(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F1(){return Math.random().toString(36).substring(2,10)}function tE(n,e){return{usr:n.state,key:n.key,idx:e}}function jg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Qo(e):e,state:t,key:e&&e.key||i||F1()}}function Mu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Qo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function B1(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let k=v(),j=k==null?null:k-g;g=k,m&&m({action:d,location:P.location,delta:j})}function b(k,j){d="PUSH";let G=jg(P.location,k,j);g=v()+1;let $=tE(G,g),te=P.createHref(G);try{c.pushState($,"",te)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;a.location.assign(te)}l&&m&&m({action:d,location:P.location,delta:1})}function w(k,j){d="REPLACE";let G=jg(P.location,k,j);g=v();let $=tE(G,g),te=P.createHref(G);c.replaceState($,"",te),l&&m&&m({action:d,location:P.location,delta:0})}function x(k){let j=a.location.origin!=="null"?a.location.origin:a.location.href,G=typeof k=="string"?k:Mu(k);return G=G.replace(/ $/,"%20"),it(j,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,j)}let P={get action(){return d},get location(){return n(a,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(eE,T),m=k,()=>{a.removeEventListener(eE,T),m=null}},createHref(k){return e(a,k)},createURL:x,encodeLocation(k){let j=x(k);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:w,go(k){return c.go(k)}};return P}function ub(n,e,t="/"){return z1(n,e,t,!1)}function z1(n,e,t,i){let a=typeof e=="string"?Qo(e):e,l=_i(a.pathname||"/",t);if(l==null)return null;let c=cb(n);H1(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=eC(l);d=Z1(c[m],g,i)}return d}function cb(n,e=[],t=[],i=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(it(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=pi([i,m.relativePath]),v=t.concat(m);l.children&&l.children.length>0&&(it(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),cb(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:W1(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of fb(l.path))a(l,c,m)}),e}function fb(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=fb(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function H1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:X1(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var $1=/^:[\w-]+$/,q1=3,G1=2,Y1=1,K1=10,Q1=-2,nE=n=>n==="*";function W1(n,e){let t=n.split("/"),i=t.length;return t.some(nE)&&(i+=Q1),e&&(i+=G1),t.filter(a=>!nE(a)).reduce((a,l)=>a+($1.test(l)?q1:l===""?Y1:K1),i)}function X1(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function Z1(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=rh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),b=m.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=rh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:pi([l,T.pathname]),pathnameBase:iC(pi([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=pi([l,T.pathnameBase]))}return c}function rh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=J1(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:T},b)=>{if(v==="*"){let x=d[b]||"";c=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const w=d[b];return T&&!w?g[v]=void 0:g[v]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function J1(n,e=!1,t=!0){sr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function eC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _i(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function tC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Qo(n):n;return{pathname:t?t.startsWith("/")?t:nC(t,e):e,search:sC(i),hash:aC(a)}}function nC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function hg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sp(n){let e=rC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ap(n,e,t,i=!1){let a;typeof n=="string"?a=Qo(n):(a={...n},it(!a.pathname||!a.pathname.includes("?"),hg("?","pathname","search",a)),it(!a.pathname||!a.pathname.includes("#"),hg("#","pathname","hash",a)),it(!a.search||!a.search.includes("#"),hg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}d=T>=0?e[T]:"/"}let m=tC(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var pi=n=>n.join("/").replace(/\/\/+/g,"/"),iC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),sC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function oC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hb=["POST","PUT","PATCH","DELETE"];new Set(hb);var lC=["GET",...hb];new Set(lC);var Wo=S.createContext(null);Wo.displayName="DataRouter";var Dh=S.createContext(null);Dh.displayName="DataRouterState";var db=S.createContext({isTransitioning:!1});db.displayName="ViewTransition";var uC=S.createContext(new Map);uC.displayName="Fetchers";var cC=S.createContext(null);cC.displayName="Await";var ur=S.createContext(null);ur.displayName="Navigation";var Ku=S.createContext(null);Ku.displayName="Location";var Lr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Lr.displayName="Route";var Rp=S.createContext(null);Rp.displayName="RouteError";function fC(n,{relative:e}={}){it(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=S.useContext(ur),{hash:a,pathname:l,search:c}=Qu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:pi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function Xo(){return S.useContext(Ku)!=null}function Is(){return it(Xo(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Ku).location}var mb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gb(n){S.useContext(ur).static||S.useLayoutEffect(n)}function pb(){let{isDataRoute:n}=S.useContext(Lr);return n?SC():hC()}function hC(){it(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let n=S.useContext(Wo),{basename:e,navigator:t}=S.useContext(ur),{matches:i}=S.useContext(Lr),{pathname:a}=Is(),l=JSON.stringify(Sp(i)),c=S.useRef(!1);return gb(()=>{c.current=!0}),S.useCallback((m,g={})=>{if(sr(c.current,mb),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=Ap(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:pi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}S.createContext(null);function Qu(n,{relative:e}={}){let{matches:t}=S.useContext(Lr),{pathname:i}=Is(),a=JSON.stringify(Sp(t));return S.useMemo(()=>Ap(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function dC(n,e){return yb(n,e)}function yb(n,e,t,i){var G;it(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=S.useContext(ur),{matches:c}=S.useContext(Lr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let $=T&&T.path||"";vb(g,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Is(),w;if(e){let $=typeof e=="string"?Qo(e):e;it(v==="/"||((G=$.pathname)==null?void 0:G.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),w=$}else w=b;let x=w.pathname||"/",P=x;if(v!=="/"){let $=v.replace(/^\//,"").split("/");P="/"+x.replace(/^\//,"").split("/").slice($.length).join("/")}let k=!l&&t&&t.matches&&t.matches.length>0?t.matches:ub(n,{pathname:P});sr(T||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),sr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=vC(k&&k.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:pi([v,a.encodeLocation?a.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:pi([v,a.encodeLocation?a.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,t,i);return e&&j?S.createElement(Ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function mC(){let n=wC(),e=oC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=S.createElement(S.Fragment,null,S.createElement("p",null,"💿 Hey developer 👋"),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:a},t):null,c)}var gC=S.createElement(mC,null),pC=class extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?S.createElement(Lr.Provider,{value:this.props.routeContext},S.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yC({routeContext:n,match:e,children:t}){let i=S.useContext(Wo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Lr.Provider,{value:n},t)}function vC(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);it(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:v,errors:T}=t,b=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let T,b=!1,w=null,x=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,w=g.route.errorElement||gC,c&&(d<0&&v===0?(vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,x=null):d===v&&(b=!0,x=g.route.hydrateFallbackElement||null)));let P=e.concat(a.slice(0,v+1)),k=()=>{let j;return T?j=w:b?j=x:g.route.Component?j=S.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=m,S.createElement(yC,{match:g,routeContext:{outlet:m,matches:P,isDataRoute:t!=null},children:j})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?S.createElement(pC,{location:t.location,revalidation:t.revalidation,component:w,error:T,children:k(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):k()},null)}function Cp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _C(n){let e=S.useContext(Wo);return it(e,Cp(n)),e}function EC(n){let e=S.useContext(Dh);return it(e,Cp(n)),e}function TC(n){let e=S.useContext(Lr);return it(e,Cp(n)),e}function xp(n){let e=TC(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function bC(){return xp("useRouteId")}function wC(){var i;let n=S.useContext(Rp),e=EC("useRouteError"),t=xp("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function SC(){let{router:n}=_C("useNavigate"),e=xp("useNavigate"),t=S.useRef(!1);return gb(()=>{t.current=!0}),S.useCallback(async(a,l={})=>{sr(t.current,mb),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var rE={};function vb(n,e,t){!e&&!rE[n]&&(rE[n]=!0,sr(!1,t))}S.memo(AC);function AC({routes:n,future:e,state:t}){return yb(n,void 0,t,e)}function RC({to:n,replace:e,state:t,relative:i}){it(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(ur);sr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Lr),{pathname:c}=Is(),d=pb(),m=Ap(n,Sp(l),c,i==="path"),g=JSON.stringify(m);return S.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function Rr(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CC({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){it(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Qo(t));let{pathname:m="/",search:g="",hash:v="",state:T=null,key:b="default"}=t,w=S.useMemo(()=>{let x=_i(m,c);return x==null?null:{location:{pathname:x,search:g,hash:v,state:T,key:b},navigationType:i}},[c,m,g,v,T,b,i]);return sr(w!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:S.createElement(ur.Provider,{value:d},S.createElement(Ku.Provider,{children:e,value:w}))}function xC({children:n,location:e}){return dC(Fg(n),e)}function Fg(n,e=[]){let t=[];return S.Children.forEach(n,(i,a)=>{if(!S.isValidElement(i))return;let l=[...e,a];if(i.type===S.Fragment){t.push.apply(t,Fg(i.props.children,l));return}it(i.type===Rr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Fg(i.props.children,l)),t.push(c)}),t}var $f="get",qf="application/x-www-form-urlencoded";function Oh(n){return n!=null&&typeof n.tagName=="string"}function IC(n){return Oh(n)&&n.tagName.toLowerCase()==="button"}function DC(n){return Oh(n)&&n.tagName.toLowerCase()==="form"}function OC(n){return Oh(n)&&n.tagName.toLowerCase()==="input"}function NC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MC(n,e){return n.button===0&&(!e||e==="_self")&&!NC(n)}var Pf=null;function PC(){if(Pf===null)try{new FormData(document.createElement("form"),0),Pf=!1}catch{Pf=!0}return Pf}var kC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(n){return n!=null&&!kC.has(n)?(sr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qf}"`),null):n}function VC(n,e){let t,i,a,l,c;if(DC(n)){let d=n.getAttribute("action");i=d?_i(d,e):null,t=n.getAttribute("method")||$f,a=dg(n.getAttribute("enctype"))||qf,l=new FormData(n)}else if(IC(n)||OC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?_i(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||$f,a=dg(n.getAttribute("formenctype"))||dg(d.getAttribute("enctype"))||qf,l=new FormData(d,n),!PC()){let{name:g,type:v,value:T}=n;if(v==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,T)}}else{if(Oh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$f,i=null,a=qf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Ip(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function LC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jC(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await LC(l,t);return c.links?c.links():[]}return[]}));return HC(i.flat(1).filter(UC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function iE(n,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var v;return t[g].pathname!==m.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var T;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function FC(n,e,{includeHydrateFallback:t}={}){return BC(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function BC(n){return[...new Set(n)]}function zC(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function HC(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(zC(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function $C(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&_i(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function _b(){let n=S.useContext(Wo);return Ip(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function qC(){let n=S.useContext(Dh);return Ip(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Dp=S.createContext(void 0);Dp.displayName="FrameworkContext";function Eb(){let n=S.useContext(Dp);return Ip(n,"You must render this element inside a <HydratedRouter> element"),n}function GC(n,e){let t=S.useContext(Dp),[i,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,b=S.useRef(null);S.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let P=j=>{j.forEach(G=>{c(G.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[n]),S.useEffect(()=>{if(i){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[i]);let w=()=>{a(!0)},x=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:gu(d,w),onBlur:gu(m,x),onMouseEnter:gu(g,w),onMouseLeave:gu(v,x),onTouchStart:gu(T,w)}]:[!1,b,{}]}function gu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function YC({page:n,...e}){let{router:t}=_b(),i=S.useMemo(()=>ub(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?S.createElement(QC,{page:n,matches:i,...e}):null}function KC(n){let{manifest:e,routeModules:t}=Eb(),[i,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return jC(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function QC({page:n,matches:e,...t}){let i=Is(),{manifest:a,routeModules:l}=Eb(),{basename:c}=_b(),{loaderData:d,matches:m}=qC(),g=S.useMemo(()=>iE(n,e,m,a,i,"data"),[n,e,m,a,i]),v=S.useMemo(()=>iE(n,e,m,a,i,"assets"),[n,e,m,a,i]),T=S.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,P=!1;if(e.forEach(j=>{var $;let G=a.routes[j.route.id];!G||!G.hasLoader||(!g.some(te=>te.route.id===j.route.id)&&j.route.id in d&&(($=l[j.route.id])!=null&&$.shouldRevalidate)||G.hasClientLoader?P=!0:x.add(j.route.id))}),x.size===0)return[];let k=$C(n,c);return P&&x.size>0&&k.searchParams.set("_routes",e.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[c,d,i,a,g,e,n,l]),b=S.useMemo(()=>FC(v,a),[v,a]),w=KC(v);return S.createElement(S.Fragment,null,T.map(x=>S.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),b.map(x=>S.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),w.map(({key:x,link:P})=>S.createElement("link",{key:x,...P})))}function WC(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Tb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tb&&(window.__reactRouterVersion="7.3.0")}catch{}function XC({basename:n,children:e,window:t}){let i=S.useRef();i.current==null&&(i.current=j1({window:t,v5Compat:!0}));let a=i.current,[l,c]=S.useState({action:a.action,location:a.location}),d=S.useCallback(m=>{S.startTransition(()=>c(m))},[c]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.createElement(CC,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var bb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fn=S.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:T,...b},w){let{basename:x}=S.useContext(ur),P=typeof g=="string"&&bb.test(g),k,j=!1;if(typeof g=="string"&&P&&(k=g,Tb))try{let C=new URL(window.location.href),O=g.startsWith("//")?new URL(C.protocol+g):new URL(g),D=_i(O.pathname,x);O.origin===C.origin&&D!=null?g=D+O.search+O.hash:j=!0}catch{sr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=fC(g,{relative:a}),[$,te,ne]=GC(i,b),le=tx(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:T});function V(C){e&&e(C),C.defaultPrevented||le(C)}let I=S.createElement("a",{...b,...ne,href:k||G,onClick:j||l?e:V,ref:WC(w,te),target:m,"data-discover":!P&&t==="render"?"true":void 0});return $&&!P?S.createElement(S.Fragment,null,I,S.createElement(YC,{page:G})):I});fn.displayName="Link";var ZC=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let T=Qu(c,{relative:g.relative}),b=Is(),w=S.useContext(Dh),{navigator:x,basename:P}=S.useContext(ur),k=w!=null&&ax(T)&&d===!0,j=x.encodeLocation?x.encodeLocation(T).pathname:T.pathname,G=b.pathname,$=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(G=G.toLowerCase(),$=$?$.toLowerCase():null,j=j.toLowerCase()),$&&P&&($=_i($,P)||$);const te=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ne=G===j||!a&&G.startsWith(j)&&G.charAt(te)==="/",le=$!=null&&($===j||!a&&$.startsWith(j)&&$.charAt(j.length)==="/"),V={isActive:ne,isPending:le,isTransitioning:k},I=ne?e:void 0,C;typeof i=="function"?C=i(V):C=[i,ne?"active":null,le?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(V):l;return S.createElement(fn,{...g,"aria-current":I,className:C,ref:v,style:O,to:c,viewTransition:d},typeof m=="function"?m(V):m)});ZC.displayName="NavLink";var JC=S.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=$f,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:T,...b},w)=>{let x=ix(),P=sx(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&bb.test(d),G=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let te=$.nativeEvent.submitter,ne=(te==null?void 0:te.getAttribute("formmethod"))||c;x(te||$.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:T})};return S.createElement("form",{ref:w,method:k,action:P,onSubmit:i?m:G,...b,"data-discover":!j&&n==="render"?"true":void 0})});JC.displayName="Form";function ex(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wb(n){let e=S.useContext(Wo);return it(e,ex(n)),e}function tx(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=pb(),m=Is(),g=Qu(n,{relative:l});return S.useCallback(v=>{if(MC(v,e)){v.preventDefault();let T=t!==void 0?t:Mu(m)===Mu(g);d(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,t,i,e,n,a,l,c])}var nx=0,rx=()=>`__${String(++nx)}__`;function ix(){let{router:n}=wb("useSubmit"),{basename:e}=S.useContext(ur),t=bC();return S.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=VC(i,e);if(a.navigate===!1){let v=a.fetcherKey||rx();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function sx(n,{relative:e}={}){let{basename:t}=S.useContext(ur),i=S.useContext(Lr);it(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Qu(n||".",{relative:e})},c=Is();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:pi([t,l.pathname])),Mu(l)}function ax(n,e={}){let t=S.useContext(db);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=wb("useViewTransitionState"),a=Qu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=_i(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=_i(t.nextLocation.pathname,i)||t.nextLocation.pathname;return rh(a.pathname,c)!=null||rh(a.pathname,l)!=null}new TextEncoder;var xr=lb();const Sb=typeof document<"u"?et.useLayoutEffect:()=>{};function ox(n){const e=S.useRef(null);return Sb(()=>{e.current=n},[n]),S.useCallback((...t)=>{const i=e.current;return i==null?void 0:i(...t)},[])}const Wu=n=>{var e;return(e=n==null?void 0:n.ownerDocument)!==null&&e!==void 0?e:document},pa=n=>n&&"window"in n&&n.window===n?n:Wu(n).defaultView||window;function lx(n){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(t=>n.test(t.brand)))||n.test(window.navigator.userAgent)}function ux(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Ab(n){let e=null;return()=>(e==null&&(e=n()),e)}const cx=Ab(function(){return ux(/^Mac/i)}),fx=Ab(function(){return lx(/Android/i)});function hx(n){return n.mozInputSource===0&&n.isTrusted?!0:fx()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}class dx{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function Rb(n){let e=S.useRef({isFocused:!1,observer:null});Sb(()=>{const i=e.current;return()=>{i.observer&&(i.observer.disconnect(),i.observer=null)}},[]);let t=ox(i=>{n==null||n(i)});return S.useCallback(i=>{if(i.target instanceof HTMLButtonElement||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement||i.target instanceof HTMLSelectElement){e.current.isFocused=!0;let a=i.target,l=c=>{e.current.isFocused=!1,a.disabled&&t(new dx("blur",c)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};a.addEventListener("focusout",l,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&a.disabled){var c;(c=e.current.observer)===null||c===void 0||c.disconnect();let d=a===document.activeElement?null:document.activeElement;a.dispatchEvent(new FocusEvent("blur",{relatedTarget:d})),a.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:d}))}}),e.current.observer.observe(a,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function mx(n){let{isDisabled:e,onFocus:t,onBlur:i,onFocusChange:a}=n;const l=S.useCallback(m=>{if(m.target===m.currentTarget)return i&&i(m),a&&a(!1),!0},[i,a]),c=Rb(l),d=S.useCallback(m=>{const g=Wu(m.target);m.target===m.currentTarget&&g.activeElement===m.target&&(t&&t(m),a&&a(!0),c(m))},[a,t,c]);return{focusProps:{onFocus:!e&&(t||a||i)?d:void 0,onBlur:!e&&(i||a)?l:void 0}}}let Xu=null,Bg=new Set,Ru=new Map,Ea=!1,zg=!1;const gx={Tab:!0,Escape:!0};function Op(n,e){for(let t of Bg)t(n,e)}function px(n){return!(n.metaKey||!cx()&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function ih(n){Ea=!0,px(n)&&(Xu="keyboard",Op("keyboard",n))}function Kn(n){Xu="pointer",(n.type==="mousedown"||n.type==="pointerdown")&&(Ea=!0,Op("pointer",n))}function Cb(n){hx(n)&&(Ea=!0,Xu="virtual")}function xb(n){n.target===window||n.target===document||(!Ea&&!zg&&(Xu="virtual",Op("virtual",n)),Ea=!1,zg=!1)}function Ib(){Ea=!1,zg=!0}function Hg(n){if(typeof window>"u"||Ru.get(pa(n)))return;const e=pa(n),t=Wu(n);let i=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Ea=!0,i.apply(this,arguments)},t.addEventListener("keydown",ih,!0),t.addEventListener("keyup",ih,!0),t.addEventListener("click",Cb,!0),e.addEventListener("focus",xb,!0),e.addEventListener("blur",Ib,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",Kn,!0),t.addEventListener("pointermove",Kn,!0),t.addEventListener("pointerup",Kn,!0)):(t.addEventListener("mousedown",Kn,!0),t.addEventListener("mousemove",Kn,!0),t.addEventListener("mouseup",Kn,!0)),e.addEventListener("beforeunload",()=>{Db(n)},{once:!0}),Ru.set(e,{focus:i})}const Db=(n,e)=>{const t=pa(n),i=Wu(n);e&&i.removeEventListener("DOMContentLoaded",e),Ru.has(t)&&(t.HTMLElement.prototype.focus=Ru.get(t).focus,i.removeEventListener("keydown",ih,!0),i.removeEventListener("keyup",ih,!0),i.removeEventListener("click",Cb,!0),t.removeEventListener("focus",xb,!0),t.removeEventListener("blur",Ib,!1),typeof PointerEvent<"u"?(i.removeEventListener("pointerdown",Kn,!0),i.removeEventListener("pointermove",Kn,!0),i.removeEventListener("pointerup",Kn,!0)):(i.removeEventListener("mousedown",Kn,!0),i.removeEventListener("mousemove",Kn,!0),i.removeEventListener("mouseup",Kn,!0)),Ru.delete(t))};function yx(n){const e=Wu(n);let t;return e.readyState!=="loading"?Hg(n):(t=()=>{Hg(n)},e.addEventListener("DOMContentLoaded",t)),()=>Db(n,t)}typeof document<"u"&&yx();function Ob(){return Xu!=="pointer"}const vx=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function _x(n,e,t){var i;const a=typeof window<"u"?pa(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?pa(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,c=typeof window<"u"?pa(t==null?void 0:t.target).HTMLElement:HTMLElement,d=typeof window<"u"?pa(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return n=n||(t==null?void 0:t.target)instanceof a&&!vx.has(t==null||(i=t.target)===null||i===void 0?void 0:i.type)||(t==null?void 0:t.target)instanceof l||(t==null?void 0:t.target)instanceof c&&(t==null?void 0:t.target.isContentEditable),!(n&&e==="keyboard"&&t instanceof d&&!gx[t.key])}function Ex(n,e,t){Hg(),S.useEffect(()=>{let i=(a,l)=>{_x(!!(t!=null&&t.isTextInput),a,l)&&n(Ob())};return Bg.add(i),()=>{Bg.delete(i)}},e)}function Tx(n){let{isDisabled:e,onBlurWithin:t,onFocusWithin:i,onFocusWithinChange:a}=n,l=S.useRef({isFocusWithin:!1}),c=S.useCallback(g=>{l.current.isFocusWithin&&!g.currentTarget.contains(g.relatedTarget)&&(l.current.isFocusWithin=!1,t&&t(g),a&&a(!1))},[t,a,l]),d=Rb(c),m=S.useCallback(g=>{!l.current.isFocusWithin&&document.activeElement===g.target&&(i&&i(g),a&&a(!0),l.current.isFocusWithin=!0,d(g))},[i,a,d]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:m,onBlur:c}}}let sh=!1,mg=0;function $g(){sh=!0,setTimeout(()=>{sh=!1},50)}function sE(n){n.pointerType==="touch"&&$g()}function bx(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",sE):document.addEventListener("touchend",$g),mg++,()=>{mg--,!(mg>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",sE):document.removeEventListener("touchend",$g))}}function Nb(n){let{onHoverStart:e,onHoverChange:t,onHoverEnd:i,isDisabled:a}=n,[l,c]=S.useState(!1),d=S.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;S.useEffect(bx,[]);let{hoverProps:m,triggerHoverEnd:g}=S.useMemo(()=>{let v=(w,x)=>{if(d.pointerType=x,a||x==="touch"||d.isHovered||!w.currentTarget.contains(w.target))return;d.isHovered=!0;let P=w.currentTarget;d.target=P,e&&e({type:"hoverstart",target:P,pointerType:x}),t&&t(!0),c(!0)},T=(w,x)=>{if(d.pointerType="",d.target=null,x==="touch"||!d.isHovered)return;d.isHovered=!1;let P=w.currentTarget;i&&i({type:"hoverend",target:P,pointerType:x}),t&&t(!1),c(!1)},b={};return typeof PointerEvent<"u"?(b.onPointerEnter=w=>{sh&&w.pointerType==="mouse"||v(w,w.pointerType)},b.onPointerLeave=w=>{!a&&w.currentTarget.contains(w.target)&&T(w,w.pointerType)}):(b.onTouchStart=()=>{d.ignoreEmulatedMouseEvents=!0},b.onMouseEnter=w=>{!d.ignoreEmulatedMouseEvents&&!sh&&v(w,"mouse"),d.ignoreEmulatedMouseEvents=!1},b.onMouseLeave=w=>{!a&&w.currentTarget.contains(w.target)&&T(w,"mouse")}),{hoverProps:b,triggerHoverEnd:T}},[e,t,i,a,d]);return S.useEffect(()=>{a&&g({currentTarget:d.target},d.pointerType)},[a]),{hoverProps:m,isHovered:l}}function Mb(n={}){let{autoFocus:e=!1,isTextInput:t,within:i}=n,a=S.useRef({isFocused:!1,isFocusVisible:e||Ob()}),[l,c]=S.useState(!1),[d,m]=S.useState(()=>a.current.isFocused&&a.current.isFocusVisible),g=S.useCallback(()=>m(a.current.isFocused&&a.current.isFocusVisible),[]),v=S.useCallback(w=>{a.current.isFocused=w,c(w),g()},[g]);Ex(w=>{a.current.isFocusVisible=w,g()},[],{isTextInput:t});let{focusProps:T}=mx({isDisabled:i,onFocusChange:v}),{focusWithinProps:b}=Tx({isDisabled:!i,onFocusWithinChange:v});return{isFocused:l,isFocusVisible:d,focusProps:i?b:T}}var wx=Object.defineProperty,Sx=(n,e,t)=>e in n?wx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,gg=(n,e,t)=>(Sx(n,typeof e!="symbol"?e+"":e,t),t);let Ax=class{constructor(){gg(this,"current",this.detect()),gg(this,"handoffState","pending"),gg(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},_a=new Ax;function Da(n){return _a.isServer?null:n instanceof Node?n.ownerDocument:n!=null&&n.hasOwnProperty("current")&&n.current instanceof Node?n.current.ownerDocument:document}function Pb(n){typeof queueMicrotask=="function"?queueMicrotask(n):Promise.resolve().then(n).catch(e=>setTimeout(()=>{throw e}))}function Ur(){let n=[],e={addEventListener(t,i,a,l){return t.addEventListener(i,a,l),e.add(()=>t.removeEventListener(i,a,l))},requestAnimationFrame(...t){let i=requestAnimationFrame(...t);return e.add(()=>cancelAnimationFrame(i))},nextFrame(...t){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...t))},setTimeout(...t){let i=setTimeout(...t);return e.add(()=>clearTimeout(i))},microTask(...t){let i={current:!0};return Pb(()=>{i.current&&t[0]()}),e.add(()=>{i.current=!1})},style(t,i,a){let l=t.style.getPropertyValue(i);return Object.assign(t.style,{[i]:a}),this.add(()=>{Object.assign(t.style,{[i]:l})})},group(t){let i=Ur();return t(i),this.add(()=>i.dispose())},add(t){return n.includes(t)||n.push(t),()=>{let i=n.indexOf(t);if(i>=0)for(let a of n.splice(i,1))a()}},dispose(){for(let t of n.splice(0))t()}};return e}function Nh(){let[n]=S.useState(Ur);return S.useEffect(()=>()=>n.dispose(),[n]),n}let wt=(n,e)=>{_a.isServer?S.useEffect(n,e):S.useLayoutEffect(n,e)};function Zu(n){let e=S.useRef(n);return wt(()=>{e.current=n},[n]),e}let Ye=function(n){let e=Zu(n);return et.useCallback((...t)=>e.current(...t),[e])};function Rx(n){let e=n.width/2,t=n.height/2;return{top:n.clientY-t,right:n.clientX+e,bottom:n.clientY+t,left:n.clientX-e}}function Cx(n,e){return!(!n||!e||n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)}function kb({disabled:n=!1}={}){let e=S.useRef(null),[t,i]=S.useState(!1),a=Nh(),l=Ye(()=>{e.current=null,i(!1),a.dispose()}),c=Ye(d=>{if(a.dispose(),e.current===null){e.current=d.currentTarget,i(!0);{let m=Da(d.currentTarget);a.addEventListener(m,"pointerup",l,!1),a.addEventListener(m,"pointermove",g=>{if(e.current){let v=Rx(g);i(Cx(v,e.current.getBoundingClientRect()))}},!1),a.addEventListener(m,"pointercancel",l,!1)}}});return{pressed:t,pressProps:n?{}:{onPointerDown:c,onPointerUp:l,onClick:l}}}let xx=S.createContext(void 0);function Vb(){return S.useContext(xx)}function aE(...n){return Array.from(new Set(n.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function Ds(n,e,...t){if(n in e){let a=e[n];return typeof a=="function"?a(...t):a}let i=new Error(`Tried to handle "${n}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Ds),i}var Pu=(n=>(n[n.None=0]="None",n[n.RenderStrategy=1]="RenderStrategy",n[n.Static=2]="Static",n))(Pu||{}),Ix=(n=>(n[n.Unmount=0]="Unmount",n[n.Hidden=1]="Hidden",n))(Ix||{});function mn(){let n=Ox();return S.useCallback(e=>Dx({mergeRefs:n,...e}),[n])}function Dx({ourProps:n,theirProps:e,slot:t,defaultTag:i,features:a,visible:l=!0,name:c,mergeRefs:d}){d=d??Nx;let m=Lb(e,n);if(l)return kf(m,t,i,c,d);let g=a??0;if(g&2){let{static:v=!1,...T}=m;if(v)return kf(T,t,i,c,d)}if(g&1){let{unmount:v=!0,...T}=m;return Ds(v?0:1,{0(){return null},1(){return kf({...T,hidden:!0,style:{display:"none"}},t,i,c,d)}})}return kf(m,t,i,c,d)}function kf(n,e={},t,i,a){let{as:l=t,children:c,refName:d="ref",...m}=pg(n,["unmount","static"]),g=n.ref!==void 0?{[d]:n.ref}:{},v=typeof c=="function"?c(e):c;"className"in m&&m.className&&typeof m.className=="function"&&(m.className=m.className(e)),m["aria-labelledby"]&&m["aria-labelledby"]===m.id&&(m["aria-labelledby"]=void 0);let T={};if(e){let b=!1,w=[];for(let[x,P]of Object.entries(e))typeof P=="boolean"&&(b=!0),P===!0&&w.push(x.replace(/([A-Z])/g,k=>`-${k.toLowerCase()}`));if(b){T["data-headlessui-state"]=w.join(" ");for(let x of w)T[`data-${x}`]=""}}if(l===S.Fragment&&(Object.keys(Ro(m)).length>0||Object.keys(Ro(T)).length>0))if(!S.isValidElement(v)||Array.isArray(v)&&v.length>1){if(Object.keys(Ro(m)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ro(m)).concat(Object.keys(Ro(T))).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`))}else{let b=v.props,w=b==null?void 0:b.className,x=typeof w=="function"?(...j)=>aE(w(...j),m.className):aE(w,m.className),P=x?{className:x}:{},k=Lb(v.props,Ro(pg(m,["ref"])));for(let j in T)j in k&&delete T[j];return S.cloneElement(v,Object.assign({},k,T,g,{ref:a(Mx(v),g.ref)},P))}return S.createElement(l,Object.assign({},pg(m,["ref"]),l!==S.Fragment&&g,l!==S.Fragment&&T),v)}function Ox(){let n=S.useRef([]),e=S.useCallback(t=>{for(let i of n.current)i!=null&&(typeof i=="function"?i(t):i.current=t)},[]);return(...t)=>{if(!t.every(i=>i==null))return n.current=t,e}}function Nx(...n){return n.every(e=>e==null)?void 0:e=>{for(let t of n)t!=null&&(typeof t=="function"?t(e):t.current=e)}}function Lb(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(i[a])):e[a]=i[a];if(e.disabled||e["aria-disabled"])for(let i in t)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(i)&&(t[i]=[a=>{var l;return(l=a==null?void 0:a.preventDefault)==null?void 0:l.call(a)}]);for(let i in t)Object.assign(e,{[i](a,...l){let c=t[i];for(let d of c){if((a instanceof Event||(a==null?void 0:a.nativeEvent)instanceof Event)&&a.defaultPrevented)return;d(a,...l)}}});return e}function ah(...n){if(n.length===0)return{};if(n.length===1)return n[0];let e={},t={};for(let i of n)for(let a in i)a.startsWith("on")&&typeof i[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(i[a])):e[a]=i[a];for(let i in t)Object.assign(e,{[i](...a){let l=t[i];for(let c of l)c==null||c(...a)}});return e}function gn(n){var e;return Object.assign(S.forwardRef(n),{displayName:(e=n.displayName)!=null?e:n.name})}function Ro(n){let e=Object.assign({},n);for(let t in e)e[t]===void 0&&delete e[t];return e}function pg(n,e=[]){let t=Object.assign({},n);for(let i of e)i in t&&delete t[i];return t}function Mx(n){return et.version.split(".")[0]>="19"?n.props.ref:n.ref}let Px=S.createContext(void 0);function kx(){return S.useContext(Px)}function Ub(n){let e=n.parentElement,t=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(t=e),e=e.parentElement;let i=(e==null?void 0:e.getAttribute("disabled"))==="";return i&&Vx(t)?!1:i}function Vx(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}let jb=Symbol();function Fb(n,e=!0){return Object.assign(n,{[jb]:e})}function Zn(...n){let e=S.useRef(n);S.useEffect(()=>{e.current=n},[n]);let t=Ye(i=>{for(let a of e.current)a!=null&&(typeof a=="function"?a(i):a.current=i)});return n.every(i=>i==null||(i==null?void 0:i[jb]))?void 0:t}let Np=S.createContext(null);Np.displayName="DescriptionContext";function Bb(){let n=S.useContext(Np);if(n===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Bb),e}return n}function Lx(){let[n,e]=S.useState([]);return[n.length>0?n.join(" "):void 0,S.useMemo(()=>function(t){let i=Ye(l=>(e(c=>[...c,l]),()=>e(c=>{let d=c.slice(),m=d.indexOf(l);return m!==-1&&d.splice(m,1),d}))),a=S.useMemo(()=>({register:i,slot:t.slot,name:t.name,props:t.props,value:t.value}),[i,t.slot,t.name,t.props,t.value]);return et.createElement(Np.Provider,{value:a},t.children)},[e])]}let Ux="p";function jx(n,e){let t=S.useId(),i=Vb(),{id:a=`headlessui-description-${t}`,...l}=n,c=Bb(),d=Zn(e);wt(()=>c.register(a),[a,c.register]);let m=i||!1,g=S.useMemo(()=>({...c.slot,disabled:m}),[c.slot,m]),v={ref:d,...c.props,id:a};return mn()({ourProps:v,theirProps:l,slot:g,defaultTag:Ux,name:c.name||"Description"})}let Fx=gn(jx);Object.assign(Fx,{});var mt=(n=>(n.Space=" ",n.Enter="Enter",n.Escape="Escape",n.Backspace="Backspace",n.Delete="Delete",n.ArrowLeft="ArrowLeft",n.ArrowUp="ArrowUp",n.ArrowRight="ArrowRight",n.ArrowDown="ArrowDown",n.Home="Home",n.End="End",n.PageUp="PageUp",n.PageDown="PageDown",n.Tab="Tab",n))(mt||{});let Mh=S.createContext(null);Mh.displayName="LabelContext";function Mp(){let n=S.useContext(Mh);if(n===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Mp),e}return n}function Bx(n){var e,t,i;let a=(t=(e=S.useContext(Mh))==null?void 0:e.value)!=null?t:void 0;return((i=void 0)!=null?i:0)>0?[a,...n].filter(Boolean).join(" "):a}function zb({inherit:n=!1}={}){let e=Bx(),[t,i]=S.useState([]),a=n?[e,...t].filter(Boolean):t;return[a.length>0?a.join(" "):void 0,S.useMemo(()=>function(l){let c=Ye(m=>(i(g=>[...g,m]),()=>i(g=>{let v=g.slice(),T=v.indexOf(m);return T!==-1&&v.splice(T,1),v}))),d=S.useMemo(()=>({register:c,slot:l.slot,name:l.name,props:l.props,value:l.value}),[c,l.slot,l.name,l.props,l.value]);return et.createElement(Mh.Provider,{value:d},l.children)},[i])]}let zx="label";function Hx(n,e){var t;let i=S.useId(),a=Mp(),l=kx(),c=Vb(),{id:d=`headlessui-label-${i}`,htmlFor:m=l??((t=a.props)==null?void 0:t.htmlFor),passive:g=!1,...v}=n,T=Zn(e);wt(()=>a.register(d),[d,a.register]);let b=Ye(k=>{let j=k.currentTarget;if(j instanceof HTMLLabelElement&&k.preventDefault(),a.props&&"onClick"in a.props&&typeof a.props.onClick=="function"&&a.props.onClick(k),j instanceof HTMLLabelElement){let G=document.getElementById(j.htmlFor);if(G){let $=G.getAttribute("disabled");if($==="true"||$==="")return;let te=G.getAttribute("aria-disabled");if(te==="true"||te==="")return;(G instanceof HTMLInputElement&&(G.type==="radio"||G.type==="checkbox")||G.role==="radio"||G.role==="checkbox"||G.role==="switch")&&G.click(),G.focus({preventScroll:!0})}}}),w=c||!1,x=S.useMemo(()=>({...a.slot,disabled:w}),[a.slot,w]),P={ref:T,...a.props,id:d,htmlFor:m,onClick:b};return g&&("onClick"in P&&(delete P.htmlFor,delete P.onClick),"onClick"in v&&delete v.onClick),mn()({ourProps:P,theirProps:v,slot:x,defaultTag:m?zx:"div",name:a.name||"Label"})}let $x=gn(Hx);Object.assign($x,{});let qx=S.createContext(()=>{});function Gx({value:n,children:e}){return et.createElement(qx.Provider,{value:n},e)}function Yx(n){if(n===null)return{width:0,height:0};let{width:e,height:t}=n.getBoundingClientRect();return{width:e,height:t}}function Kx(n,e=!1){let[t,i]=S.useReducer(()=>({}),{}),a=S.useMemo(()=>Yx(n),[n,t]);return wt(()=>{if(!n)return;let l=new ResizeObserver(i);return l.observe(n),()=>{l.disconnect()}},[n]),e?{width:`${a.width}px`,height:`${a.height}px`}:a}let Qx=class extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return t===void 0&&(t=this.factory(e),this.set(e,t)),t}};function Hb(n,e){let t=n(),i=new Set;return{getSnapshot(){return t},subscribe(a){return i.add(a),()=>i.delete(a)},dispatch(a,...l){let c=e[a].call(t,...l);c&&(t=c,i.forEach(d=>d()))}}}function $b(n){return S.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getSnapshot)}let Wx=new Qx(()=>Hb(()=>[],{ADD(n){return this.includes(n)?this:[...this,n]},REMOVE(n){let e=this.indexOf(n);if(e===-1)return this;let t=this.slice();return t.splice(e,1),t}}));function Pp(n,e){let t=Wx.get(e),i=S.useId(),a=$b(t);if(wt(()=>{if(n)return t.dispatch("ADD",i),()=>t.dispatch("REMOVE",i)},[t,n]),!n)return!1;let l=a.indexOf(i),c=a.length;return l===-1&&(l=c,c+=1),l===c-1}let qg=new Map,Cu=new Map;function oE(n){var e;let t=(e=Cu.get(n))!=null?e:0;return Cu.set(n,t+1),t!==0?()=>lE(n):(qg.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0,()=>lE(n))}function lE(n){var e;let t=(e=Cu.get(n))!=null?e:1;if(t===1?Cu.delete(n):Cu.set(n,t-1),t!==1)return;let i=qg.get(n);i&&(i["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",i["aria-hidden"]),n.inert=i.inert,qg.delete(n))}function Xx(n,{allowed:e,disallowed:t}={}){let i=Pp(n,"inert-others");wt(()=>{var a,l;if(!i)return;let c=Ur();for(let m of(a=t==null?void 0:t())!=null?a:[])m&&c.add(oE(m));let d=(l=e==null?void 0:e())!=null?l:[];for(let m of d){if(!m)continue;let g=Da(m);if(!g)continue;let v=m.parentElement;for(;v&&v!==g.body;){for(let T of v.children)d.some(b=>T.contains(b))||c.add(oE(T));v=v.parentElement}}return c.dispose},[i,e,t])}function Zx(n,e,t){let i=Zu(a=>{let l=a.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&t()});S.useEffect(()=>{if(!n)return;let a=e===null?null:e instanceof HTMLElement?e:e.current;if(!a)return;let l=Ur();if(typeof ResizeObserver<"u"){let c=new ResizeObserver(()=>i.current(a));c.observe(a),l.add(()=>c.disconnect())}if(typeof IntersectionObserver<"u"){let c=new IntersectionObserver(()=>i.current(a));c.observe(a),l.add(()=>c.disconnect())}return()=>l.dispose()},[e,i,n])}let Gg=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(n=>`${n}:not([tabindex='-1'])`).join(","),Jx=["[data-autofocus]"].map(n=>`${n}:not([tabindex='-1'])`).join(",");var Yg=(n=>(n[n.First=1]="First",n[n.Previous=2]="Previous",n[n.Next=4]="Next",n[n.Last=8]="Last",n[n.WrapAround=16]="WrapAround",n[n.NoScroll=32]="NoScroll",n[n.AutoFocus=64]="AutoFocus",n))(Yg||{}),eI=(n=>(n[n.Error=0]="Error",n[n.Overflow=1]="Overflow",n[n.Success=2]="Success",n[n.Underflow=3]="Underflow",n))(eI||{}),tI=(n=>(n[n.Previous=-1]="Previous",n[n.Next=1]="Next",n))(tI||{});function qb(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(Gg)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}function nI(n=document.body){return n==null?[]:Array.from(n.querySelectorAll(Jx)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var kp=(n=>(n[n.Strict=0]="Strict",n[n.Loose=1]="Loose",n))(kp||{});function Vp(n,e=0){var t;return n===((t=Da(n))==null?void 0:t.body)?!1:Ds(e,{0(){return n.matches(Gg)},1(){let i=n;for(;i!==null;){if(i.matches(Gg))return!0;i=i.parentElement}return!1}})}function Gb(n){let e=Da(n);Ur().nextFrame(()=>{e&&!Vp(e.activeElement,0)&&iI(n)})}var rI=(n=>(n[n.Keyboard=0]="Keyboard",n[n.Mouse=1]="Mouse",n))(rI||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",n=>{n.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:n.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function iI(n){n==null||n.focus({preventScroll:!0})}let sI=["textarea","input"].join(",");function aI(n){var e,t;return(t=(e=n==null?void 0:n.matches)==null?void 0:e.call(n,sI))!=null?t:!1}function Yb(n,e=t=>t){return n.slice().sort((t,i)=>{let a=e(t),l=e(i);if(a===null||l===null)return 0;let c=a.compareDocumentPosition(l);return c&Node.DOCUMENT_POSITION_FOLLOWING?-1:c&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function oI(n,e){return lI(qb(),e,{relativeTo:n})}function lI(n,e,{sorted:t=!0,relativeTo:i=null,skipElements:a=[]}={}){let l=Array.isArray(n)?n.length>0?n[0].ownerDocument:document:n.ownerDocument,c=Array.isArray(n)?t?Yb(n):n:e&64?nI(n):qb(n);a.length>0&&c.length>1&&(c=c.filter(w=>!a.some(x=>x!=null&&"current"in x?(x==null?void 0:x.current)===w:x===w))),i=i??l.activeElement;let d=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,c.indexOf(i))-1;if(e&4)return Math.max(0,c.indexOf(i))+1;if(e&8)return c.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=e&32?{preventScroll:!0}:{},v=0,T=c.length,b;do{if(v>=T||v+T<=0)return 0;let w=m+v;if(e&16)w=(w+T)%T;else{if(w<0)return 3;if(w>=T)return 1}b=c[w],b==null||b.focus(g),v+=d}while(b!==l.activeElement);return e&6&&aI(b)&&b.select(),2}function Kb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function uI(){return/Android/gi.test(window.navigator.userAgent)}function cI(){return Kb()||uI()}function pu(n,e,t,i){let a=Zu(t);S.useEffect(()=>{if(!n)return;function l(c){a.current(c)}return document.addEventListener(e,l,i),()=>document.removeEventListener(e,l,i)},[n,e,i])}function fI(n,e,t,i){let a=Zu(t);S.useEffect(()=>{if(!n)return;function l(c){a.current(c)}return window.addEventListener(e,l,i),()=>window.removeEventListener(e,l,i)},[n,e,i])}const uE=30;function hI(n,e,t){let i=Pp(n,"outside-click"),a=Zu(t),l=S.useCallback(function(m,g){if(m.defaultPrevented)return;let v=g(m);if(v===null||!v.getRootNode().contains(v)||!v.isConnected)return;let T=function b(w){return typeof w=="function"?b(w()):Array.isArray(w)||w instanceof Set?w:[w]}(e);for(let b of T)if(b!==null&&(b.contains(v)||m.composed&&m.composedPath().includes(b)))return;return!Vp(v,kp.Loose)&&v.tabIndex!==-1&&m.preventDefault(),a.current(m,v)},[a,e]),c=S.useRef(null);pu(i,"pointerdown",m=>{var g,v;c.current=((v=(g=m.composedPath)==null?void 0:g.call(m))==null?void 0:v[0])||m.target},!0),pu(i,"mousedown",m=>{var g,v;c.current=((v=(g=m.composedPath)==null?void 0:g.call(m))==null?void 0:v[0])||m.target},!0),pu(i,"click",m=>{cI()||c.current&&(l(m,()=>c.current),c.current=null)},!0);let d=S.useRef({x:0,y:0});pu(i,"touchstart",m=>{d.current.x=m.touches[0].clientX,d.current.y=m.touches[0].clientY},!0),pu(i,"touchend",m=>{let g={x:m.changedTouches[0].clientX,y:m.changedTouches[0].clientY};if(!(Math.abs(g.x-d.current.x)>=uE||Math.abs(g.y-d.current.y)>=uE))return l(m,()=>m.target instanceof HTMLElement?m.target:null)},!0),fI(i,"blur",m=>l(m,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Lp(...n){return S.useMemo(()=>Da(...n),[...n])}function Qb(n,e){return S.useMemo(()=>{var t;if(n.type)return n.type;let i=(t=n.as)!=null?t:"button";if(typeof i=="string"&&i.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[n.type,n.as,e])}function dI(){let n;return{before({doc:e}){var t;let i=e.documentElement,a=(t=e.defaultView)!=null?t:window;n=Math.max(0,a.innerWidth-i.clientWidth)},after({doc:e,d:t}){let i=e.documentElement,a=Math.max(0,i.clientWidth-i.offsetWidth),l=Math.max(0,n-a);t.style(i,"paddingRight",`${l}px`)}}}function mI(){return Kb()?{before({doc:n,d:e,meta:t}){function i(a){return t.containers.flatMap(l=>l()).some(l=>l.contains(a))}e.microTask(()=>{var a;if(window.getComputedStyle(n.documentElement).scrollBehavior!=="auto"){let d=Ur();d.style(n.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>d.dispose()))}let l=(a=window.scrollY)!=null?a:window.pageYOffset,c=null;e.addEventListener(n,"click",d=>{if(d.target instanceof HTMLElement)try{let m=d.target.closest("a");if(!m)return;let{hash:g}=new URL(m.href),v=n.querySelector(g);v&&!i(v)&&(c=v)}catch{}},!0),e.addEventListener(n,"touchstart",d=>{if(d.target instanceof HTMLElement)if(i(d.target)){let m=d.target;for(;m.parentElement&&i(m.parentElement);)m=m.parentElement;e.style(m,"overscrollBehavior","contain")}else e.style(d.target,"touchAction","none")}),e.addEventListener(n,"touchmove",d=>{if(d.target instanceof HTMLElement){if(d.target.tagName==="INPUT")return;if(i(d.target)){let m=d.target;for(;m.parentElement&&m.dataset.headlessuiPortal!==""&&!(m.scrollHeight>m.clientHeight||m.scrollWidth>m.clientWidth);)m=m.parentElement;m.dataset.headlessuiPortal===""&&d.preventDefault()}else d.preventDefault()}},{passive:!1}),e.add(()=>{var d;let m=(d=window.scrollY)!=null?d:window.pageYOffset;l!==m&&window.scrollTo(0,l),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})})}}:{}}function gI(){return{before({doc:n,d:e}){e.style(n.documentElement,"overflow","hidden")}}}function pI(n){let e={};for(let t of n)Object.assign(e,t(e));return e}let ya=Hb(()=>new Map,{PUSH(n,e){var t;let i=(t=this.get(n))!=null?t:{doc:n,count:0,d:Ur(),meta:new Set};return i.count++,i.meta.add(e),this.set(n,i),this},POP(n,e){let t=this.get(n);return t&&(t.count--,t.meta.delete(e)),this},SCROLL_PREVENT({doc:n,d:e,meta:t}){let i={doc:n,d:e,meta:pI(t)},a=[mI(),dI(),gI()];a.forEach(({before:l})=>l==null?void 0:l(i)),a.forEach(({after:l})=>l==null?void 0:l(i))},SCROLL_ALLOW({d:n}){n.dispose()},TEARDOWN({doc:n}){this.delete(n)}});ya.subscribe(()=>{let n=ya.getSnapshot(),e=new Map;for(let[t]of n)e.set(t,t.documentElement.style.overflow);for(let t of n.values()){let i=e.get(t.doc)==="hidden",a=t.count!==0;(a&&!i||!a&&i)&&ya.dispatch(t.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",t),t.count===0&&ya.dispatch("TEARDOWN",t)}});function yI(n,e,t=()=>({containers:[]})){let i=$b(ya),a=e?i.get(e):void 0,l=a?a.count>0:!1;return wt(()=>{if(!(!e||!n))return ya.dispatch("PUSH",e,t),()=>ya.dispatch("POP",e,t)},[n,e]),l}function vI(n,e,t=()=>[document.body]){let i=Pp(n,"scroll-lock");yI(i,e,a=>{var l;return{containers:[...(l=a.containers)!=null?l:[],t]}})}function cE(n){return[n.screenX,n.screenY]}function _I(){let n=S.useRef([-1,-1]);return{wasMoved(e){let t=cE(e);return n.current[0]===t[0]&&n.current[1]===t[1]?!1:(n.current=t,!0)},update(e){n.current=cE(e)}}}function EI(n=0){let[e,t]=S.useState(n),i=S.useCallback(m=>t(m),[e]),a=S.useCallback(m=>t(g=>g|m),[e]),l=S.useCallback(m=>(e&m)===m,[e]),c=S.useCallback(m=>t(g=>g&~m),[t]),d=S.useCallback(m=>t(g=>g^m),[t]);return{flags:e,setFlag:i,addFlag:a,hasFlag:l,removeFlag:c,toggleFlag:d}}var TI={},fE,hE;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((fE=process==null?void 0:TI)==null?void 0:fE.NODE_ENV)==="test"&&typeof((hE=Element==null?void 0:Element.prototype)==null?void 0:hE.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var bI=(n=>(n[n.None=0]="None",n[n.Closed=1]="Closed",n[n.Enter=2]="Enter",n[n.Leave=4]="Leave",n))(bI||{});function Wb(n){let e={};for(let t in n)n[t]===!0&&(e[`data-${t}`]="");return e}function Xb(n,e,t,i){let[a,l]=S.useState(t),{hasFlag:c,addFlag:d,removeFlag:m}=EI(n&&a?3:0),g=S.useRef(!1),v=S.useRef(!1),T=Nh();return wt(()=>{var b;if(n){if(t&&l(!0),!e){t&&d(3);return}return(b=void 0)==null||b.call(i,t),wI(e,{inFlight:g,prepare(){v.current?v.current=!1:v.current=g.current,g.current=!0,!v.current&&(t?(d(3),m(4)):(d(4),m(2)))},run(){v.current?t?(m(3),d(4)):(m(4),d(3)):t?m(1):d(1)},done(){var w;v.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(g.current=!1,m(7),t||l(!1),(w=void 0)==null||w.call(i,t))}})}},[n,t,e,T]),n?[a,{closed:c(1),enter:c(2),leave:c(4),transition:c(2)||c(4)}]:[t,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function wI(n,{prepare:e,run:t,done:i,inFlight:a}){let l=Ur();return AI(n,{prepare:e,inFlight:a}),l.nextFrame(()=>{t(),l.requestAnimationFrame(()=>{l.add(SI(n,i))})}),l.dispose}function SI(n,e){var t,i;let a=Ur();if(!n)return a.dispose;let l=!1;a.add(()=>{l=!0});let c=(i=(t=n.getAnimations)==null?void 0:t.call(n).filter(d=>d instanceof CSSTransition))!=null?i:[];return c.length===0?(e(),a.dispose):(Promise.allSettled(c.map(d=>d.finished)).then(()=>{l||e()}),a.dispose)}function AI(n,{inFlight:e,prepare:t}){if(e!=null&&e.current){t();return}let i=n.style.transition;n.style.transition="none",t(),n.offsetHeight,n.style.transition=i}function RI(n,{container:e,accept:t,walk:i}){let a=S.useRef(t),l=S.useRef(i);S.useEffect(()=>{a.current=t,l.current=i},[t,i]),wt(()=>{if(!e||!n)return;let c=Da(e);if(!c)return;let d=a.current,m=l.current,g=Object.assign(T=>d(T),{acceptNode:d}),v=c.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,g,!1);for(;v.nextNode();)m(v.currentNode)},[e,n,a,l])}function Ph(){return typeof window<"u"}function Zo(n){return Zb(n)?(n.nodeName||"").toLowerCase():"#document"}function Dn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function jr(n){var e;return(e=(Zb(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Zb(n){return Ph()?n instanceof Node||n instanceof Dn(n).Node:!1}function hn(n){return Ph()?n instanceof Element||n instanceof Dn(n).Element:!1}function Pr(n){return Ph()?n instanceof HTMLElement||n instanceof Dn(n).HTMLElement:!1}function dE(n){return!Ph()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Dn(n).ShadowRoot}function Ju(n){const{overflow:e,overflowX:t,overflowY:i,display:a}=ar(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(a)}function CI(n){return["table","td","th"].includes(Zo(n))}function kh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Up(n){const e=jp(),t=hn(n)?ar(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function xI(n){let e=Ts(n);for(;Pr(e)&&!jo(e);){if(Up(e))return e;if(kh(e))return null;e=Ts(e)}return null}function jp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jo(n){return["html","body","#document"].includes(Zo(n))}function ar(n){return Dn(n).getComputedStyle(n)}function Vh(n){return hn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ts(n){if(Zo(n)==="html")return n;const e=n.assignedSlot||n.parentNode||dE(n)&&n.host||jr(n);return dE(e)?e.host:e}function Jb(n){const e=Ts(n);return jo(e)?n.ownerDocument?n.ownerDocument.body:n.body:Pr(e)&&Ju(e)?e:Jb(e)}function ku(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=Jb(n),l=a===((i=n.ownerDocument)==null?void 0:i.body),c=Dn(a);if(l){const d=Kg(c);return e.concat(c,c.visualViewport||[],Ju(a)?a:[],d&&t?ku(d):[])}return e.concat(a,ku(a,[],t))}function Kg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function II(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:i}=e;return t+"/"+i}).join(" "):navigator.userAgent}const Ta=Math.min,en=Math.max,Vu=Math.round,Vf=Math.floor,Ir=n=>({x:n,y:n}),DI={left:"right",right:"left",bottom:"top",top:"bottom"},OI={start:"end",end:"start"};function mE(n,e,t){return en(n,Ta(e,t))}function Jo(n,e){return typeof n=="function"?n(e):n}function bs(n){return n.split("-")[0]}function ec(n){return n.split("-")[1]}function ew(n){return n==="x"?"y":"x"}function tw(n){return n==="y"?"height":"width"}function ba(n){return["top","bottom"].includes(bs(n))?"y":"x"}function nw(n){return ew(ba(n))}function NI(n,e,t){t===void 0&&(t=!1);const i=ec(n),a=nw(n),l=tw(a);let c=a==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=oh(c)),[c,oh(c)]}function MI(n){const e=oh(n);return[Qg(n),e,Qg(e)]}function Qg(n){return n.replace(/start|end/g,e=>OI[e])}function PI(n,e,t){const i=["left","right"],a=["right","left"],l=["top","bottom"],c=["bottom","top"];switch(n){case"top":case"bottom":return t?e?a:i:e?i:a;case"left":case"right":return e?l:c;default:return[]}}function kI(n,e,t,i){const a=ec(n);let l=PI(bs(n),t==="start",i);return a&&(l=l.map(c=>c+"-"+a),e&&(l=l.concat(l.map(Qg)))),l}function oh(n){return n.replace(/left|right|bottom|top/g,e=>DI[e])}function VI(n){return{top:0,right:0,bottom:0,left:0,...n}}function LI(n){return typeof n!="number"?VI(n):{top:n,right:n,bottom:n,left:n}}function lh(n){const{x:e,y:t,width:i,height:a}=n;return{width:i,height:a,top:t,left:e,right:e+i,bottom:t+a,x:e,y:t}}function gE(n,e,t){let{reference:i,floating:a}=n;const l=ba(e),c=nw(e),d=tw(c),m=bs(e),g=l==="y",v=i.x+i.width/2-a.width/2,T=i.y+i.height/2-a.height/2,b=i[d]/2-a[d]/2;let w;switch(m){case"top":w={x:v,y:i.y-a.height};break;case"bottom":w={x:v,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:T};break;case"left":w={x:i.x-a.width,y:T};break;default:w={x:i.x,y:i.y}}switch(ec(e)){case"start":w[c]-=b*(t&&g?-1:1);break;case"end":w[c]+=b*(t&&g?-1:1);break}return w}const UI=async(n,e,t)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:c}=t,d=l.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:n,floating:e,strategy:a}),{x:v,y:T}=gE(g,i,m),b=i,w={},x=0;for(let P=0;P<d.length;P++){const{name:k,fn:j}=d[P],{x:G,y:$,data:te,reset:ne}=await j({x:v,y:T,initialPlacement:i,placement:b,strategy:a,middlewareData:w,rects:g,platform:c,elements:{reference:n,floating:e}});v=G??v,T=$??T,w={...w,[k]:{...w[k],...te}},ne&&x<=50&&(x++,typeof ne=="object"&&(ne.placement&&(b=ne.placement),ne.rects&&(g=ne.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:a}):ne.rects),{x:v,y:T}=gE(g,b,m)),P=-1)}return{x:v,y:T,placement:b,strategy:a,middlewareData:w}};async function Lh(n,e){var t;e===void 0&&(e={});const{x:i,y:a,platform:l,rects:c,elements:d,strategy:m}=n,{boundary:g="clippingAncestors",rootBoundary:v="viewport",elementContext:T="floating",altBoundary:b=!1,padding:w=0}=Jo(e,n),x=LI(w),k=d[b?T==="floating"?"reference":"floating":T],j=lh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(k)))==null||t?k:k.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:g,rootBoundary:v,strategy:m})),G=T==="floating"?{x:i,y:a,width:c.floating.width,height:c.floating.height}:c.reference,$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),te=await(l.isElement==null?void 0:l.isElement($))?await(l.getScale==null?void 0:l.getScale($))||{x:1,y:1}:{x:1,y:1},ne=lh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:G,offsetParent:$,strategy:m}):G);return{top:(j.top-ne.top+x.top)/te.y,bottom:(ne.bottom-j.bottom+x.bottom)/te.y,left:(j.left-ne.left+x.left)/te.x,right:(ne.right-j.right+x.right)/te.x}}const jI=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:a,middlewareData:l,rects:c,initialPlacement:d,platform:m,elements:g}=e,{mainAxis:v=!0,crossAxis:T=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:P=!0,...k}=Jo(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const j=bs(a),G=ba(d),$=bs(d)===d,te=await(m.isRTL==null?void 0:m.isRTL(g.floating)),ne=b||($||!P?[oh(d)]:MI(d)),le=x!=="none";!b&&le&&ne.push(...kI(d,P,x,te));const V=[d,...ne],I=await Lh(e,k),C=[];let O=((i=l.flip)==null?void 0:i.overflows)||[];if(v&&C.push(I[j]),T){const Se=NI(a,c,te);C.push(I[Se[0]],I[Se[1]])}if(O=[...O,{placement:a,overflows:C}],!C.every(Se=>Se<=0)){var D,F;const Se=(((D=l.flip)==null?void 0:D.index)||0)+1,Le=V[Se];if(Le)return{data:{index:Se,overflows:O},reset:{placement:Le}};let ae=(F=O.filter(he=>he.overflows[0]<=0).sort((he,Z)=>he.overflows[1]-Z.overflows[1])[0])==null?void 0:F.placement;if(!ae)switch(w){case"bestFit":{var N;const he=(N=O.filter(Z=>{if(le){const ve=ba(Z.placement);return ve===G||ve==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ve=>ve>0).reduce((ve,L)=>ve+L,0)]).sort((Z,ve)=>Z[1]-ve[1])[0])==null?void 0:N[0];he&&(ae=he);break}case"initialPlacement":ae=d;break}if(a!==ae)return{reset:{placement:ae}}}return{}}}};async function FI(n,e){const{placement:t,platform:i,elements:a}=n,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),c=bs(t),d=ec(t),m=ba(t)==="y",g=["left","top"].includes(c)?-1:1,v=l&&m?-1:1,T=Jo(e,n);let{mainAxis:b,crossAxis:w,alignmentAxis:x}=typeof T=="number"?{mainAxis:T,crossAxis:0,alignmentAxis:null}:{mainAxis:T.mainAxis||0,crossAxis:T.crossAxis||0,alignmentAxis:T.alignmentAxis};return d&&typeof x=="number"&&(w=d==="end"?x*-1:x),m?{x:w*v,y:b*g}:{x:b*g,y:w*v}}const BI=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:a,y:l,placement:c,middlewareData:d}=e,m=await FI(e,n);return c===((t=d.offset)==null?void 0:t.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:c}}}}},zI=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:k=>{let{x:j,y:G}=k;return{x:j,y:G}}},...m}=Jo(n,e),g={x:t,y:i},v=await Lh(e,m),T=ba(bs(a)),b=ew(T);let w=g[b],x=g[T];if(l){const k=b==="y"?"top":"left",j=b==="y"?"bottom":"right",G=w+v[k],$=w-v[j];w=mE(G,w,$)}if(c){const k=T==="y"?"top":"left",j=T==="y"?"bottom":"right",G=x+v[k],$=x-v[j];x=mE(G,x,$)}const P=d.fn({...e,[b]:w,[T]:x});return{...P,data:{x:P.x-t,y:P.y-i,enabled:{[b]:l,[T]:c}}}}}},HI=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:a,rects:l,platform:c,elements:d}=e,{apply:m=()=>{},...g}=Jo(n,e),v=await Lh(e,g),T=bs(a),b=ec(a),w=ba(a)==="y",{width:x,height:P}=l.floating;let k,j;T==="top"||T==="bottom"?(k=T,j=b===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(j=T,k=b==="end"?"top":"bottom");const G=P-v.top-v.bottom,$=x-v.left-v.right,te=Ta(P-v[k],G),ne=Ta(x-v[j],$),le=!e.middlewareData.shift;let V=te,I=ne;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=$),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(V=G),le&&!b){const O=en(v.left,0),D=en(v.right,0),F=en(v.top,0),N=en(v.bottom,0);w?I=x-2*(O!==0||D!==0?O+D:en(v.left,v.right)):V=P-2*(F!==0||N!==0?F+N:en(v.top,v.bottom))}await m({...e,availableWidth:I,availableHeight:V});const C=await c.getDimensions(d.floating);return x!==C.width||P!==C.height?{reset:{rects:!0}}:{}}}};function rw(n){const e=ar(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=Pr(n),l=a?n.offsetWidth:t,c=a?n.offsetHeight:i,d=Vu(t)!==l||Vu(i)!==c;return d&&(t=l,i=c),{width:t,height:i,$:d}}function Fp(n){return hn(n)?n:n.contextElement}function Po(n){const e=Fp(n);if(!Pr(e))return Ir(1);const t=e.getBoundingClientRect(),{width:i,height:a,$:l}=rw(e);let c=(l?Vu(t.width):t.width)/i,d=(l?Vu(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const $I=Ir(0);function iw(n){const e=Dn(n);return!jp()||!e.visualViewport?$I:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function qI(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Dn(n)?!1:e}function wa(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=n.getBoundingClientRect(),l=Fp(n);let c=Ir(1);e&&(i?hn(i)&&(c=Po(i)):c=Po(n));const d=qI(l,t,i)?iw(l):Ir(0);let m=(a.left+d.x)/c.x,g=(a.top+d.y)/c.y,v=a.width/c.x,T=a.height/c.y;if(l){const b=Dn(l),w=i&&hn(i)?Dn(i):i;let x=b,P=Kg(x);for(;P&&i&&w!==x;){const k=Po(P),j=P.getBoundingClientRect(),G=ar(P),$=j.left+(P.clientLeft+parseFloat(G.paddingLeft))*k.x,te=j.top+(P.clientTop+parseFloat(G.paddingTop))*k.y;m*=k.x,g*=k.y,v*=k.x,T*=k.y,m+=$,g+=te,x=Dn(P),P=Kg(x)}}return lh({width:v,height:T,x:m,y:g})}function Bp(n,e){const t=Vh(n).scrollLeft;return e?e.left+t:wa(jr(n)).left+t}function sw(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=i.left+e.scrollLeft-(t?0:Bp(n,i)),l=i.top+e.scrollTop;return{x:a,y:l}}function GI(n){let{elements:e,rect:t,offsetParent:i,strategy:a}=n;const l=a==="fixed",c=jr(i),d=e?kh(e.floating):!1;if(i===c||d&&l)return t;let m={scrollLeft:0,scrollTop:0},g=Ir(1);const v=Ir(0),T=Pr(i);if((T||!T&&!l)&&((Zo(i)!=="body"||Ju(c))&&(m=Vh(i)),Pr(i))){const w=wa(i);g=Po(i),v.x=w.x+i.clientLeft,v.y=w.y+i.clientTop}const b=c&&!T&&!l?sw(c,m,!0):Ir(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-m.scrollLeft*g.x+v.x+b.x,y:t.y*g.y-m.scrollTop*g.y+v.y+b.y}}function YI(n){return Array.from(n.getClientRects())}function KI(n){const e=jr(n),t=Vh(n),i=n.ownerDocument.body,a=en(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=en(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+Bp(n);const d=-t.scrollTop;return ar(i).direction==="rtl"&&(c+=en(e.clientWidth,i.clientWidth)-a),{width:a,height:l,x:c,y:d}}function QI(n,e){const t=Dn(n),i=jr(n),a=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,d=0,m=0;if(a){l=a.width,c=a.height;const g=jp();(!g||g&&e==="fixed")&&(d=a.offsetLeft,m=a.offsetTop)}return{width:l,height:c,x:d,y:m}}function WI(n,e){const t=wa(n,!0,e==="fixed"),i=t.top+n.clientTop,a=t.left+n.clientLeft,l=Pr(n)?Po(n):Ir(1),c=n.clientWidth*l.x,d=n.clientHeight*l.y,m=a*l.x,g=i*l.y;return{width:c,height:d,x:m,y:g}}function pE(n,e,t){let i;if(e==="viewport")i=QI(n,t);else if(e==="document")i=KI(jr(n));else if(hn(e))i=WI(e,t);else{const a=iw(n);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return lh(i)}function aw(n,e){const t=Ts(n);return t===e||!hn(t)||jo(t)?!1:ar(t).position==="fixed"||aw(t,e)}function XI(n,e){const t=e.get(n);if(t)return t;let i=ku(n,[],!1).filter(d=>hn(d)&&Zo(d)!=="body"),a=null;const l=ar(n).position==="fixed";let c=l?Ts(n):n;for(;hn(c)&&!jo(c);){const d=ar(c),m=Up(c);!m&&d.position==="fixed"&&(a=null),(l?!m&&!a:!m&&d.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ju(c)&&!m&&aw(n,c))?i=i.filter(v=>v!==c):a=d,c=Ts(c)}return e.set(n,i),i}function ZI(n){let{element:e,boundary:t,rootBoundary:i,strategy:a}=n;const c=[...t==="clippingAncestors"?kh(e)?[]:XI(e,this._c):[].concat(t),i],d=c[0],m=c.reduce((g,v)=>{const T=pE(e,v,a);return g.top=en(T.top,g.top),g.right=Ta(T.right,g.right),g.bottom=Ta(T.bottom,g.bottom),g.left=en(T.left,g.left),g},pE(e,d,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function JI(n){const{width:e,height:t}=rw(n);return{width:e,height:t}}function eD(n,e,t){const i=Pr(e),a=jr(e),l=t==="fixed",c=wa(n,!0,l,e);let d={scrollLeft:0,scrollTop:0};const m=Ir(0);if(i||!i&&!l)if((Zo(e)!=="body"||Ju(a))&&(d=Vh(e)),i){const b=wa(e,!0,l,e);m.x=b.x+e.clientLeft,m.y=b.y+e.clientTop}else a&&(m.x=Bp(a));const g=a&&!i&&!l?sw(a,d):Ir(0),v=c.left+d.scrollLeft-m.x-g.x,T=c.top+d.scrollTop-m.y-g.y;return{x:v,y:T,width:c.width,height:c.height}}function yg(n){return ar(n).position==="static"}function yE(n,e){if(!Pr(n)||ar(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return jr(n)===t&&(t=t.ownerDocument.body),t}function ow(n,e){const t=Dn(n);if(kh(n))return t;if(!Pr(n)){let a=Ts(n);for(;a&&!jo(a);){if(hn(a)&&!yg(a))return a;a=Ts(a)}return t}let i=yE(n,e);for(;i&&CI(i)&&yg(i);)i=yE(i,e);return i&&jo(i)&&yg(i)&&!Up(i)?t:i||xI(n)||t}const tD=async function(n){const e=this.getOffsetParent||ow,t=this.getDimensions,i=await t(n.floating);return{reference:eD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function nD(n){return ar(n).direction==="rtl"}const rD={convertOffsetParentRelativeRectToViewportRelativeRect:GI,getDocumentElement:jr,getClippingRect:ZI,getOffsetParent:ow,getElementRects:tD,getClientRects:YI,getDimensions:JI,getScale:Po,isElement:hn,isRTL:nD};function lw(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function iD(n,e){let t=null,i;const a=jr(n);function l(){var d;clearTimeout(i),(d=t)==null||d.disconnect(),t=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),l();const g=n.getBoundingClientRect(),{left:v,top:T,width:b,height:w}=g;if(d||e(),!b||!w)return;const x=Vf(T),P=Vf(a.clientWidth-(v+b)),k=Vf(a.clientHeight-(T+w)),j=Vf(v),$={rootMargin:-x+"px "+-P+"px "+-k+"px "+-j+"px",threshold:en(0,Ta(1,m))||1};let te=!0;function ne(le){const V=le[0].intersectionRatio;if(V!==m){if(!te)return c();V?c(!1,V):i=setTimeout(()=>{c(!1,1e-7)},1e3)}V===1&&!lw(g,n.getBoundingClientRect())&&c(),te=!1}try{t=new IntersectionObserver(ne,{...$,root:a.ownerDocument})}catch{t=new IntersectionObserver(ne,$)}t.observe(n)}return c(!0),l}function sD(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,g=Fp(n),v=a||l?[...g?ku(g):[],...ku(e)]:[];v.forEach(j=>{a&&j.addEventListener("scroll",t,{passive:!0}),l&&j.addEventListener("resize",t)});const T=g&&d?iD(g,t):null;let b=-1,w=null;c&&(w=new ResizeObserver(j=>{let[G]=j;G&&G.target===g&&w&&(w.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var $;($=w)==null||$.observe(e)})),t()}),g&&!m&&w.observe(g),w.observe(e));let x,P=m?wa(n):null;m&&k();function k(){const j=wa(n);P&&!lw(P,j)&&t(),P=j,x=requestAnimationFrame(k)}return t(),()=>{var j;v.forEach(G=>{a&&G.removeEventListener("scroll",t),l&&G.removeEventListener("resize",t)}),T==null||T(),(j=w)==null||j.disconnect(),w=null,m&&cancelAnimationFrame(x)}}const vg=Lh,aD=BI,oD=zI,lD=jI,uD=HI,cD=(n,e,t)=>{const i=new Map,a={platform:rD,...t},l={...a.platform,_c:i};return UI(n,e,{...a,platform:l})};var Gf=typeof document<"u"?S.useLayoutEffect:S.useEffect;function uh(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,a;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!uh(n[i],e[i]))return!1;return!0}if(a=Object.keys(n),t=a.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=t;i--!==0;){const l=a[i];if(!(l==="_owner"&&n.$$typeof)&&!uh(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function uw(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function vE(n,e){const t=uw(n);return Math.round(e*t)/t}function _g(n){const e=S.useRef(n);return Gf(()=>{e.current=n}),e}function fD(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:m,open:g}=n,[v,T]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,w]=S.useState(i);uh(b,i)||w(i);const[x,P]=S.useState(null),[k,j]=S.useState(null),G=S.useCallback(Z=>{Z!==le.current&&(le.current=Z,P(Z))},[]),$=S.useCallback(Z=>{Z!==V.current&&(V.current=Z,j(Z))},[]),te=l||x,ne=c||k,le=S.useRef(null),V=S.useRef(null),I=S.useRef(v),C=m!=null,O=_g(m),D=_g(a),F=_g(g),N=S.useCallback(()=>{if(!le.current||!V.current)return;const Z={placement:e,strategy:t,middleware:b};D.current&&(Z.platform=D.current),cD(le.current,V.current,Z).then(ve=>{const L={...ve,isPositioned:F.current!==!1};Se.current&&!uh(I.current,L)&&(I.current=L,xr.flushSync(()=>{T(L)}))})},[b,e,t,D,F]);Gf(()=>{g===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,T(Z=>({...Z,isPositioned:!1})))},[g]);const Se=S.useRef(!1);Gf(()=>(Se.current=!0,()=>{Se.current=!1}),[]),Gf(()=>{if(te&&(le.current=te),ne&&(V.current=ne),te&&ne){if(O.current)return O.current(te,ne,N);N()}},[te,ne,N,O,C]);const Le=S.useMemo(()=>({reference:le,floating:V,setReference:G,setFloating:$}),[G,$]),ae=S.useMemo(()=>({reference:te,floating:ne}),[te,ne]),he=S.useMemo(()=>{const Z={position:t,left:0,top:0};if(!ae.floating)return Z;const ve=vE(ae.floating,v.x),L=vE(ae.floating,v.y);return d?{...Z,transform:"translate("+ve+"px, "+L+"px)",...uw(ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ve,top:L}},[t,d,ae.floating,v.x,v.y]);return S.useMemo(()=>({...v,update:N,refs:Le,elements:ae,floatingStyles:he}),[v,N,Le,ae,he])}const cw=(n,e)=>({...aD(n),options:[n,e]}),hD=(n,e)=>({...oD(n),options:[n,e]}),dD=(n,e)=>({...lD(n),options:[n,e]}),mD=(n,e)=>({...uD(n),options:[n,e]}),fw={...Ug},gD=fw.useInsertionEffect,pD=gD||(n=>n());function hw(n){const e=S.useRef(()=>{});return pD(()=>{e.current=n}),S.useCallback(function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}var Wg=typeof document<"u"?S.useLayoutEffect:S.useEffect;let _E=!1,yD=0;const EE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+yD++;function vD(){const[n,e]=S.useState(()=>_E?EE():void 0);return Wg(()=>{n==null&&e(EE())},[]),S.useEffect(()=>{_E=!0},[]),n}const _D=fw.useId,ED=_D||vD;function TD(){const n=new Map;return{emit(e,t){var i;(i=n.get(e))==null||i.forEach(a=>a(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var i;n.set(e,((i=n.get(e))==null?void 0:i.filter(a=>a!==t))||[])}}}const bD=S.createContext(null),wD=S.createContext(null),SD=()=>{var n;return((n=S.useContext(bD))==null?void 0:n.id)||null},AD=()=>S.useContext(wD),RD="data-floating-ui-focusable";function CD(n){const{open:e=!1,onOpenChange:t,elements:i}=n,a=ED(),l=S.useRef({}),[c]=S.useState(()=>TD()),d=SD()!=null,[m,g]=S.useState(i.reference),v=hw((w,x,P)=>{l.current.openEvent=w?x:void 0,c.emit("openchange",{open:w,event:x,reason:P,nested:d}),t==null||t(w,x,P)}),T=S.useMemo(()=>({setPositionReference:g}),[]),b=S.useMemo(()=>({reference:m||i.reference||null,floating:i.floating||null,domReference:i.reference}),[m,i.reference,i.floating]);return S.useMemo(()=>({dataRef:l,open:e,onOpenChange:v,elements:b,events:c,floatingId:a,refs:T}),[e,v,b,c,a,T])}function xD(n){n===void 0&&(n={});const{nodeId:e}=n,t=CD({...n,elements:{reference:null,floating:null,...n.elements}}),i=n.rootContext||t,a=i.elements,[l,c]=S.useState(null),[d,m]=S.useState(null),v=(a==null?void 0:a.domReference)||l,T=S.useRef(null),b=AD();Wg(()=>{v&&(T.current=v)},[v]);const w=fD({...n,elements:{...a,...d&&{reference:d}}}),x=S.useCallback($=>{const te=hn($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),contextElement:$}:$;m(te),w.refs.setReference(te)},[w.refs]),P=S.useCallback($=>{(hn($)||$===null)&&(T.current=$,c($)),(hn(w.refs.reference.current)||w.refs.reference.current===null||$!==null&&!hn($))&&w.refs.setReference($)},[w.refs]),k=S.useMemo(()=>({...w.refs,setReference:P,setPositionReference:x,domReference:T}),[w.refs,P,x]),j=S.useMemo(()=>({...w.elements,domReference:v}),[w.elements,v]),G=S.useMemo(()=>({...w,...i,refs:k,elements:j,nodeId:e}),[w,k,j,e,i]);return Wg(()=>{i.dataRef.current.floatingContext=G;const $=b==null?void 0:b.nodesRef.current.find(te=>te.id===e);$&&($.context=G)}),S.useMemo(()=>({...w,context:G,refs:k,elements:j}),[w,k,j,G])}const TE="active",bE="selected";function Eg(n,e,t){const i=new Map,a=t==="item";let l=n;if(a&&n){const{[TE]:c,[bE]:d,...m}=n;l=m}return{...t==="floating"&&{tabIndex:-1,[RD]:""},...l,...e.map(c=>{const d=c?c[t]:null;return typeof d=="function"?n?d(n):null:d}).concat(n).reduce((c,d)=>(d&&Object.entries(d).forEach(m=>{let[g,v]=m;if(!(a&&[TE,bE].includes(g)))if(g.indexOf("on")===0){if(i.has(g)||i.set(g,[]),typeof v=="function"){var T;(T=i.get(g))==null||T.push(v),c[g]=function(){for(var b,w=arguments.length,x=new Array(w),P=0;P<w;P++)x[P]=arguments[P];return(b=i.get(g))==null?void 0:b.map(k=>k(...x)).find(k=>k!==void 0)}}}else c[g]=v}),c),{})}}function ID(n){n===void 0&&(n=[]);const e=n.map(d=>d==null?void 0:d.reference),t=n.map(d=>d==null?void 0:d.floating),i=n.map(d=>d==null?void 0:d.item),a=S.useCallback(d=>Eg(d,n,"reference"),e),l=S.useCallback(d=>Eg(d,n,"floating"),t),c=S.useCallback(d=>Eg(d,n,"item"),i);return S.useMemo(()=>({getReferenceProps:a,getFloatingProps:l,getItemProps:c}),[a,l,c])}function wE(n,e){return{...n,rects:{...n.rects,floating:{...n.rects.floating,height:e}}}}const DD=n=>({name:"inner",options:n,async fn(e){const{listRef:t,overflowRef:i,onFallbackChange:a,offset:l=0,index:c=0,minItemsVisible:d=4,referenceOverflowThreshold:m=0,scrollRef:g,...v}=Jo(n,e),{rects:T,elements:{floating:b}}=e,w=t.current[c],x=(g==null?void 0:g.current)||b,P=b.clientTop||x.clientTop,k=b.clientTop!==0,j=x.clientTop!==0,G=b===x;if(!w)return{};const $={...e,...await cw(-w.offsetTop-b.clientTop-T.reference.height/2-w.offsetHeight/2-l).fn(e)},te=await vg(wE($,x.scrollHeight+P+b.clientTop),v),ne=await vg($,{...v,elementContext:"reference"}),le=en(0,te.top),V=$.y+le,O=(x.scrollHeight>x.clientHeight?D=>D:Vu)(en(0,x.scrollHeight+(k&&G||j?P*2:0)-le-en(0,te.bottom)));if(x.style.maxHeight=O+"px",x.scrollTop=le,a){const D=x.offsetHeight<w.offsetHeight*Ta(d,t.current.length)-1||ne.top>=-m||ne.bottom>=-m;xr.flushSync(()=>a(D))}return i&&(i.current=await vg(wE({...$,y:V},x.offsetHeight+P+b.clientTop),v)),{y:V}}});function OD(n,e){const{open:t,elements:i}=n,{enabled:a=!0,overflowRef:l,scrollRef:c,onChange:d}=e,m=hw(d),g=S.useRef(!1),v=S.useRef(null),T=S.useRef(null);S.useEffect(()=>{if(!a)return;function w(P){if(P.ctrlKey||!x||l.current==null)return;const k=P.deltaY,j=l.current.top>=-.5,G=l.current.bottom>=-.5,$=x.scrollHeight-x.clientHeight,te=k<0?-1:1,ne=k<0?"max":"min";x.scrollHeight<=x.clientHeight||(!j&&k>0||!G&&k<0?(P.preventDefault(),xr.flushSync(()=>{m(le=>le+Math[ne](k,$*te))})):/firefox/i.test(II())&&(x.scrollTop+=k))}const x=(c==null?void 0:c.current)||i.floating;if(t&&x)return x.addEventListener("wheel",w),requestAnimationFrame(()=>{v.current=x.scrollTop,l.current!=null&&(T.current={...l.current})}),()=>{v.current=null,T.current=null,x.removeEventListener("wheel",w)}},[a,t,i.floating,l,c,m]);const b=S.useMemo(()=>({onKeyDown(){g.current=!0},onWheel(){g.current=!1},onPointerMove(){g.current=!1},onScroll(){const w=(c==null?void 0:c.current)||i.floating;if(!(!l.current||!w||!g.current)){if(v.current!==null){const x=w.scrollTop-v.current;(l.current.bottom<-.5&&x<-1||l.current.top<-.5&&x>1)&&xr.flushSync(()=>m(P=>P+x))}requestAnimationFrame(()=>{v.current=w.scrollTop})}}}),[i.floating,m,l,c]);return S.useMemo(()=>a?{floating:b}:{},[a,b])}let el=S.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});el.displayName="FloatingContext";let zp=S.createContext(null);zp.displayName="PlacementContext";function ND(n){return S.useMemo(()=>n?typeof n=="string"?{to:n}:n:null,[n])}function MD(){return S.useContext(el).setReference}function PD(){return S.useContext(el).getReferenceProps}function kD(){let{getFloatingProps:n,slot:e}=S.useContext(el);return S.useCallback((...t)=>Object.assign({},n(...t),{"data-anchor":e.anchor}),[n,e])}function VD(n=null){n===!1&&(n=null),typeof n=="string"&&(n={to:n});let e=S.useContext(zp),t=S.useMemo(()=>n,[JSON.stringify(n,(a,l)=>{var c;return(c=l==null?void 0:l.outerHTML)!=null?c:l})]);wt(()=>{e==null||e(t??null)},[e,t]);let i=S.useContext(el);return S.useMemo(()=>[i.setFloating,n?i.styles:{}],[i.setFloating,n,i.styles])}let SE=4;function LD({children:n,enabled:e=!0}){let[t,i]=S.useState(null),[a,l]=S.useState(0),c=S.useRef(null),[d,m]=S.useState(null);UD(d);let g=e&&t!==null&&d!==null,{to:v="bottom",gap:T=0,offset:b=0,padding:w=0,inner:x}=jD(t,d),[P,k="center"]=v.split(" ");wt(()=>{g&&l(0)},[g]);let{refs:j,floatingStyles:G,context:$}=xD({open:g,placement:P==="selection"?k==="center"?"bottom":`bottom-${k}`:k==="center"?`${P}`:`${P}-${k}`,strategy:"absolute",transform:!1,middleware:[cw({mainAxis:P==="selection"?0:T,crossAxis:b}),hD({padding:w}),P!=="selection"&&dD({padding:w}),P==="selection"&&x?DD({...x,padding:w,overflowRef:c,offset:a,minItemsVisible:SE,referenceOverflowThreshold:w,onFallbackChange(D){var F,N;if(!D)return;let Se=$.elements.floating;if(!Se)return;let Le=parseFloat(getComputedStyle(Se).scrollPaddingBottom)||0,ae=Math.min(SE,Se.childElementCount),he=0,Z=0;for(let ve of(N=(F=$.elements.floating)==null?void 0:F.childNodes)!=null?N:[])if(ve instanceof HTMLElement){let L=ve.offsetTop,ie=L+ve.clientHeight+Le,de=Se.scrollTop,ue=de+Se.clientHeight;if(L>=de&&ie<=ue)ae--;else{Z=Math.max(0,Math.min(ie,ue)-Math.max(L,de)),he=ve.clientHeight;break}}ae>=1&&l(ve=>{let L=he*ae-Z+Le;return ve>=L?ve:L})}}):null,mD({padding:w,apply({availableWidth:D,availableHeight:F,elements:N}){Object.assign(N.floating.style,{overflow:"auto",maxWidth:`${D}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${F}px)`})}})].filter(Boolean),whileElementsMounted:sD}),[te=P,ne=k]=$.placement.split("-");P==="selection"&&(te="selection");let le=S.useMemo(()=>({anchor:[te,ne].filter(Boolean).join(" ")}),[te,ne]),V=OD($,{overflowRef:c,onChange:l}),{getReferenceProps:I,getFloatingProps:C}=ID([V]),O=Ye(D=>{m(D),j.setFloating(D)});return S.createElement(zp.Provider,{value:i},S.createElement(el.Provider,{value:{setFloating:O,setReference:j.setReference,styles:G,getReferenceProps:I,getFloatingProps:C,slot:le}},n))}function UD(n){wt(()=>{if(!n)return;let e=new MutationObserver(()=>{let t=window.getComputedStyle(n).maxHeight,i=parseFloat(t);if(isNaN(i))return;let a=parseInt(t);isNaN(a)||i!==a&&(n.style.maxHeight=`${Math.ceil(i)}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n])}function jD(n,e){var t,i,a;let l=Tg((t=n==null?void 0:n.gap)!=null?t:"var(--anchor-gap, 0)",e),c=Tg((i=n==null?void 0:n.offset)!=null?i:"var(--anchor-offset, 0)",e),d=Tg((a=n==null?void 0:n.padding)!=null?a:"var(--anchor-padding, 0)",e);return{...n,gap:l,offset:c,padding:d}}function Tg(n,e,t=void 0){let i=Nh(),a=Ye((m,g)=>{if(m==null)return[t,null];if(typeof m=="number")return[m,null];if(typeof m=="string"){if(!g)return[t,null];let v=AE(m,g);return[v,T=>{let b=dw(m);{let w=b.map(x=>window.getComputedStyle(g).getPropertyValue(x));i.requestAnimationFrame(function x(){i.nextFrame(x);let P=!1;for(let[j,G]of b.entries()){let $=window.getComputedStyle(g).getPropertyValue(G);if(w[j]!==$){w[j]=$,P=!0;break}}if(!P)return;let k=AE(m,g);v!==k&&(T(k),v=k)})}return i.dispose}]}return[t,null]}),l=S.useMemo(()=>a(n,e)[0],[n,e]),[c=l,d]=S.useState();return wt(()=>{let[m,g]=a(n,e);if(d(m),!!g)return g(d)},[n,e]),c}function dw(n){let e=/var\((.*)\)/.exec(n);if(e){let t=e[1].indexOf(",");if(t===-1)return[e[1]];let i=e[1].slice(0,t).trim(),a=e[1].slice(t+1).trim();return a?[i,...dw(a)]:[i]}return[]}function AE(n,e){let t=document.createElement("div");e.appendChild(t),t.style.setProperty("margin-top","0px","important"),t.style.setProperty("margin-top",n,"important");let i=parseFloat(window.getComputedStyle(t).marginTop)||0;return e.removeChild(t),i}let Uh=S.createContext(null);Uh.displayName="OpenClosedContext";var Ei=(n=>(n[n.Open=1]="Open",n[n.Closed=2]="Closed",n[n.Closing=4]="Closing",n[n.Opening=8]="Opening",n))(Ei||{});function mw(){return S.useContext(Uh)}function gw({value:n,children:e}){return et.createElement(Uh.Provider,{value:n},e)}function FD({children:n}){return et.createElement(Uh.Provider,{value:null},n)}function BD(n){throw new Error("Unexpected object: "+n)}var nn=(n=>(n[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing",n))(nn||{});function bg(n,e){let t=e.resolveItems();if(t.length<=0)return null;let i=e.resolveActiveIndex(),a=i??-1;switch(n.focus){case 0:{for(let l=0;l<t.length;++l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 1:{a===-1&&(a=t.length);for(let l=a-1;l>=0;--l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 2:{for(let l=a+1;l<t.length;++l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 3:{for(let l=t.length-1;l>=0;--l)if(!e.resolveDisabled(t[l],l,t))return l;return i}case 4:{for(let l=0;l<t.length;++l)if(e.resolveId(t[l],l,t)===n.id)return l;return i}case 5:return null;default:BD(n)}}function zD(n){let e=Ye(n),t=S.useRef(!1);S.useEffect(()=>(t.current=!1,()=>{t.current=!0,Pb(()=>{t.current&&e()})}),[e])}function HD(){let n=typeof document>"u";return"useSyncExternalStore"in Ug?(e=>e.useSyncExternalStore)(Ug)(()=>()=>{},()=>!1,()=>!n):!1}function $D(){let n=HD(),[e,t]=S.useState(_a.isHandoffComplete);return e&&_a.isHandoffComplete===!1&&t(!1),S.useEffect(()=>{e!==!0&&t(!0)},[e]),S.useEffect(()=>_a.handoff(),[]),n?!1:e}let qD=S.createContext(!1);function GD(){return S.useContext(qD)}function YD(n){let e=GD(),t=S.useContext(yw),i=Lp(n),[a,l]=S.useState(()=>{var c;if(!e&&t!==null)return(c=t.current)!=null?c:null;if(_a.isServer)return null;let d=i==null?void 0:i.getElementById("headlessui-portal-root");if(d)return d;if(i===null)return null;let m=i.createElement("div");return m.setAttribute("id","headlessui-portal-root"),i.body.appendChild(m)});return S.useEffect(()=>{a!==null&&(i!=null&&i.body.contains(a)||i==null||i.body.appendChild(a))},[a,i]),S.useEffect(()=>{e||t!==null&&l(t.current)},[t,l,e]),a}let pw=S.Fragment,KD=gn(function(n,e){let t=n,i=S.useRef(null),a=Zn(Fb(T=>{i.current=T}),e),l=Lp(i),c=YD(i),[d]=S.useState(()=>{var T;return _a.isServer?null:(T=l==null?void 0:l.createElement("div"))!=null?T:null}),m=S.useContext(ZD),g=$D();wt(()=>{!c||!d||c.contains(d)||(d.setAttribute("data-headlessui-portal",""),c.appendChild(d))},[c,d]),wt(()=>{if(d&&m)return m.register(d)},[m,d]),zD(()=>{var T;!c||!d||(d instanceof Node&&c.contains(d)&&c.removeChild(d),c.childNodes.length<=0&&((T=c.parentElement)==null||T.removeChild(c)))});let v=mn();return g?!c||!d?null:xr.createPortal(v({ourProps:{ref:a},theirProps:t,slot:{},defaultTag:pw,name:"Portal"}),d):null});function QD(n,e){let t=Zn(e),{enabled:i=!0,...a}=n,l=mn();return i?et.createElement(KD,{...a,ref:t}):l({ourProps:{ref:t},theirProps:a,slot:{},defaultTag:pw,name:"Portal"})}let WD=S.Fragment,yw=S.createContext(null);function XD(n,e){let{target:t,...i}=n,a={ref:Zn(e)},l=mn();return et.createElement(yw.Provider,{value:t},l({ourProps:a,theirProps:i,defaultTag:WD,name:"Popover.Group"}))}let ZD=S.createContext(null),JD=gn(QD),e2=gn(XD),t2=Object.assign(JD,{Group:e2});var RE;let n2=(RE=et.startTransition)!=null?RE:function(n){n()};var r2=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(r2||{}),i2=(n=>(n[n.ToggleDisclosure=0]="ToggleDisclosure",n[n.CloseDisclosure=1]="CloseDisclosure",n[n.SetButtonId=2]="SetButtonId",n[n.SetPanelId=3]="SetPanelId",n[n.SetButtonElement=4]="SetButtonElement",n[n.SetPanelElement=5]="SetPanelElement",n))(i2||{});let s2={0:n=>({...n,disclosureState:Ds(n.disclosureState,{0:1,1:0})}),1:n=>n.disclosureState===1?n:{...n,disclosureState:1},2(n,e){return n.buttonId===e.buttonId?n:{...n,buttonId:e.buttonId}},3(n,e){return n.panelId===e.panelId?n:{...n,panelId:e.panelId}},4(n,e){return n.buttonElement===e.element?n:{...n,buttonElement:e.element}},5(n,e){return n.panelElement===e.element?n:{...n,panelElement:e.element}}},Hp=S.createContext(null);Hp.displayName="DisclosureContext";function $p(n){let e=S.useContext(Hp);if(e===null){let t=new Error(`<${n} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,$p),t}return e}let qp=S.createContext(null);qp.displayName="DisclosureAPIContext";function vw(n){let e=S.useContext(qp);if(e===null){let t=new Error(`<${n} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,vw),t}return e}let Gp=S.createContext(null);Gp.displayName="DisclosurePanelContext";function a2(){return S.useContext(Gp)}function o2(n,e){return Ds(e.type,s2,n,e)}let l2=S.Fragment;function u2(n,e){let{defaultOpen:t=!1,...i}=n,a=S.useRef(null),l=Zn(e,Fb(P=>{a.current=P},n.as===void 0||n.as===S.Fragment)),c=S.useReducer(o2,{disclosureState:t?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:d,buttonId:m},g]=c,v=Ye(P=>{g({type:1});let k=Da(a);if(!k||!m)return;let j=P?P instanceof HTMLElement?P:P.current instanceof HTMLElement?P.current:k.getElementById(m):k.getElementById(m);j==null||j.focus()}),T=S.useMemo(()=>({close:v}),[v]),b=S.useMemo(()=>({open:d===0,close:v}),[d,v]),w={ref:l},x=mn();return et.createElement(Hp.Provider,{value:c},et.createElement(qp.Provider,{value:T},et.createElement(Gx,{value:v},et.createElement(gw,{value:Ds(d,{0:Ei.Open,1:Ei.Closed})},x({ourProps:w,theirProps:i,slot:b,defaultTag:l2,name:"Disclosure"})))))}let c2="button";function f2(n,e){let t=S.useId(),{id:i=`headlessui-disclosure-button-${t}`,disabled:a=!1,autoFocus:l=!1,...c}=n,[d,m]=$p("Disclosure.Button"),g=a2(),v=g===null?!1:g===d.panelId,T=S.useRef(null),b=Zn(T,e,Ye(C=>{if(!v)return m({type:4,element:C})}));S.useEffect(()=>{if(!v)return m({type:2,buttonId:i}),()=>{m({type:2,buttonId:null})}},[i,m,v]);let w=Ye(C=>{var O;if(v){if(d.disclosureState===1)return;switch(C.key){case mt.Space:case mt.Enter:C.preventDefault(),C.stopPropagation(),m({type:0}),(O=d.buttonElement)==null||O.focus();break}}else switch(C.key){case mt.Space:case mt.Enter:C.preventDefault(),C.stopPropagation(),m({type:0});break}}),x=Ye(C=>{switch(C.key){case mt.Space:C.preventDefault();break}}),P=Ye(C=>{var O;Ub(C.currentTarget)||a||(v?(m({type:0}),(O=d.buttonElement)==null||O.focus()):m({type:0}))}),{isFocusVisible:k,focusProps:j}=Mb({autoFocus:l}),{isHovered:G,hoverProps:$}=Nb({isDisabled:a}),{pressed:te,pressProps:ne}=kb({disabled:a}),le=S.useMemo(()=>({open:d.disclosureState===0,hover:G,active:te,disabled:a,focus:k,autofocus:l}),[d,G,te,k,a,l]),V=Qb(n,d.buttonElement),I=ah(v?{ref:b,type:V,disabled:a||void 0,autoFocus:l,onKeyDown:w,onClick:P}:{ref:b,id:i,type:V,"aria-expanded":d.disclosureState===0,"aria-controls":d.panelElement?d.panelId:void 0,disabled:a||void 0,autoFocus:l,onKeyDown:w,onKeyUp:x,onClick:P},j,$,ne);return mn()({ourProps:I,theirProps:c,slot:le,defaultTag:c2,name:"Disclosure.Button"})}let h2="div",d2=Pu.RenderStrategy|Pu.Static;function m2(n,e){let t=S.useId(),{id:i=`headlessui-disclosure-panel-${t}`,transition:a=!1,...l}=n,[c,d]=$p("Disclosure.Panel"),{close:m}=vw("Disclosure.Panel"),[g,v]=S.useState(null),T=Zn(e,Ye(G=>{n2(()=>d({type:5,element:G}))}),v);S.useEffect(()=>(d({type:3,panelId:i}),()=>{d({type:3,panelId:null})}),[i,d]);let b=mw(),[w,x]=Xb(a,g,b!==null?(b&Ei.Open)===Ei.Open:c.disclosureState===0),P=S.useMemo(()=>({open:c.disclosureState===0,close:m}),[c.disclosureState,m]),k={ref:T,id:i,...Wb(x)},j=mn();return et.createElement(FD,null,et.createElement(Gp.Provider,{value:c.panelId},j({ourProps:k,theirProps:l,slot:P,defaultTag:h2,features:d2,visible:w,name:"Disclosure.Panel"})))}let g2=gn(u2),p2=gn(f2),y2=gn(m2),wg=Object.assign(g2,{Button:p2,Panel:y2});function v2(n,e){let t=S.useRef({left:0,top:0});if(wt(()=>{if(!e)return;let a=e.getBoundingClientRect();a&&(t.current=a)},[n,e]),e==null||!n||e===document.activeElement)return!1;let i=e.getBoundingClientRect();return i.top!==t.current.top||i.left!==t.current.left}let CE=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function xE(n){var e,t;let i=(e=n.innerText)!=null?e:"",a=n.cloneNode(!0);if(!(a instanceof HTMLElement))return i;let l=!1;for(let d of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))d.remove(),l=!0;let c=l?(t=a.innerText)!=null?t:"":i;return CE.test(c)&&(c=c.replace(CE,"")),c}function _2(n){let e=n.getAttribute("aria-label");if(typeof e=="string")return e.trim();let t=n.getAttribute("aria-labelledby");if(t){let i=t.split(" ").map(a=>{let l=document.getElementById(a);if(l){let c=l.getAttribute("aria-label");return typeof c=="string"?c.trim():xE(l).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return xE(n).trim()}function E2(n){let e=S.useRef(""),t=S.useRef("");return Ye(()=>{let i=n.current;if(!i)return"";let a=i.innerText;if(e.current===a)return t.current;let l=_2(i).trim().toLowerCase();return e.current=a,t.current=l,l})}var T2=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(T2||{}),b2=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(b2||{}),w2=(n=>(n[n.OpenMenu=0]="OpenMenu",n[n.CloseMenu=1]="CloseMenu",n[n.GoToItem=2]="GoToItem",n[n.Search=3]="Search",n[n.ClearSearch=4]="ClearSearch",n[n.RegisterItem=5]="RegisterItem",n[n.UnregisterItem=6]="UnregisterItem",n[n.SetButtonElement=7]="SetButtonElement",n[n.SetItemsElement=8]="SetItemsElement",n))(w2||{});function Sg(n,e=t=>t){let t=n.activeItemIndex!==null?n.items[n.activeItemIndex]:null,i=Yb(e(n.items.slice()),l=>l.dataRef.current.domRef.current),a=t?i.indexOf(t):null;return a===-1&&(a=null),{items:i,activeItemIndex:a}}let S2={1(n){return n.menuState===1?n:{...n,activeItemIndex:null,menuState:1}},0(n){return n.menuState===0?n:{...n,__demoMode:!1,menuState:0}},2:(n,e)=>{var t,i,a,l,c;if(n.menuState===1)return n;let d={...n,searchQuery:"",activationTrigger:(t=e.trigger)!=null?t:1,__demoMode:!1};if(e.focus===nn.Nothing)return{...d,activeItemIndex:null};if(e.focus===nn.Specific)return{...d,activeItemIndex:n.items.findIndex(v=>v.id===e.id)};if(e.focus===nn.Previous){let v=n.activeItemIndex;if(v!==null){let T=n.items[v].dataRef.current.domRef,b=bg(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.current.disabled});if(b!==null){let w=n.items[b].dataRef.current.domRef;if(((i=T.current)==null?void 0:i.previousElementSibling)===w.current||((a=w.current)==null?void 0:a.previousElementSibling)===null)return{...d,activeItemIndex:b}}}}else if(e.focus===nn.Next){let v=n.activeItemIndex;if(v!==null){let T=n.items[v].dataRef.current.domRef,b=bg(e,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:w=>w.id,resolveDisabled:w=>w.dataRef.current.disabled});if(b!==null){let w=n.items[b].dataRef.current.domRef;if(((l=T.current)==null?void 0:l.nextElementSibling)===w.current||((c=w.current)==null?void 0:c.nextElementSibling)===null)return{...d,activeItemIndex:b}}}}let m=Sg(n),g=bg(e,{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.current.disabled});return{...d,...m,activeItemIndex:g}},3:(n,e)=>{let t=n.searchQuery!==""?0:1,i=n.searchQuery+e.value.toLowerCase(),a=(n.activeItemIndex!==null?n.items.slice(n.activeItemIndex+t).concat(n.items.slice(0,n.activeItemIndex+t)):n.items).find(c=>{var d;return((d=c.dataRef.current.textValue)==null?void 0:d.startsWith(i))&&!c.dataRef.current.disabled}),l=a?n.items.indexOf(a):-1;return l===-1||l===n.activeItemIndex?{...n,searchQuery:i}:{...n,searchQuery:i,activeItemIndex:l,activationTrigger:1}},4(n){return n.searchQuery===""?n:{...n,searchQuery:"",searchActiveItemIndex:null}},5:(n,e)=>{let t=Sg(n,i=>[...i,{id:e.id,dataRef:e.dataRef}]);return{...n,...t}},6:(n,e)=>{let t=Sg(n,i=>{let a=i.findIndex(l=>l.id===e.id);return a!==-1&&i.splice(a,1),i});return{...n,...t,activationTrigger:1}},7:(n,e)=>n.buttonElement===e.element?n:{...n,buttonElement:e.element},8:(n,e)=>n.itemsElement===e.element?n:{...n,itemsElement:e.element}},Yp=S.createContext(null);Yp.displayName="MenuContext";function jh(n){let e=S.useContext(Yp);if(e===null){let t=new Error(`<${n} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,jh),t}return e}function A2(n,e){return Ds(e.type,S2,n,e)}let R2=S.Fragment;function C2(n,e){let{__demoMode:t=!1,...i}=n,a=S.useReducer(A2,{__demoMode:t,menuState:t?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:l,itemsElement:c,buttonElement:d},m]=a,g=Zn(e);hI(l===0,[d,c],(x,P)=>{m({type:1}),Vp(P,kp.Loose)||(x.preventDefault(),d==null||d.focus())});let v=Ye(()=>{m({type:1})}),T=S.useMemo(()=>({open:l===0,close:v}),[l,v]),b={ref:g},w=mn();return et.createElement(LD,null,et.createElement(Yp.Provider,{value:a},et.createElement(gw,{value:Ds(l,{0:Ei.Open,1:Ei.Closed})},w({ourProps:b,theirProps:i,slot:T,defaultTag:R2,name:"Menu"}))))}let x2="button";function I2(n,e){var t;let i=S.useId(),{id:a=`headlessui-menu-button-${i}`,disabled:l=!1,autoFocus:c=!1,...d}=n,[m,g]=jh("Menu.Button"),v=PD(),T=Zn(e,MD(),Ye(V=>g({type:7,element:V}))),b=Ye(V=>{switch(V.key){case mt.Space:case mt.Enter:case mt.ArrowDown:V.preventDefault(),V.stopPropagation(),xr.flushSync(()=>g({type:0})),g({type:2,focus:nn.First});break;case mt.ArrowUp:V.preventDefault(),V.stopPropagation(),xr.flushSync(()=>g({type:0})),g({type:2,focus:nn.Last});break}}),w=Ye(V=>{switch(V.key){case mt.Space:V.preventDefault();break}}),x=Ye(V=>{var I;if(Ub(V.currentTarget))return V.preventDefault();l||(m.menuState===0?(xr.flushSync(()=>g({type:1})),(I=m.buttonElement)==null||I.focus({preventScroll:!0})):(V.preventDefault(),g({type:0})))}),{isFocusVisible:P,focusProps:k}=Mb({autoFocus:c}),{isHovered:j,hoverProps:G}=Nb({isDisabled:l}),{pressed:$,pressProps:te}=kb({disabled:l}),ne=S.useMemo(()=>({open:m.menuState===0,active:$||m.menuState===0,disabled:l,hover:j,focus:P,autofocus:c}),[m,j,P,$,l,c]),le=ah(v(),{ref:T,id:a,type:Qb(n,m.buttonElement),"aria-haspopup":"menu","aria-controls":(t=m.itemsElement)==null?void 0:t.id,"aria-expanded":m.menuState===0,disabled:l||void 0,autoFocus:c,onKeyDown:b,onKeyUp:w,onClick:x},k,G,te);return mn()({ourProps:le,theirProps:d,slot:ne,defaultTag:x2,name:"Menu.Button"})}let D2="div",O2=Pu.RenderStrategy|Pu.Static;function N2(n,e){var t,i;let a=S.useId(),{id:l=`headlessui-menu-items-${a}`,anchor:c,portal:d=!1,modal:m=!0,transition:g=!1,...v}=n,T=ND(c),[b,w]=jh("Menu.Items"),[x,P]=VD(T),k=kD(),[j,G]=S.useState(null),$=Zn(e,T?x:null,Ye(Z=>w({type:8,element:Z})),G),te=Lp(b.itemsElement);T&&(d=!0);let ne=mw(),[le,V]=Xb(g,j,ne!==null?(ne&Ei.Open)===Ei.Open:b.menuState===0);Zx(le,b.buttonElement,()=>{w({type:1})});let I=b.__demoMode?!1:m&&b.menuState===0;vI(I,te);let C=b.__demoMode?!1:m&&b.menuState===0;Xx(C,{allowed:S.useCallback(()=>[b.buttonElement,b.itemsElement],[b.buttonElement,b.itemsElement])});let O=b.menuState!==0,D=v2(O,b.buttonElement)?!1:le;S.useEffect(()=>{let Z=b.itemsElement;Z&&b.menuState===0&&Z!==(te==null?void 0:te.activeElement)&&Z.focus({preventScroll:!0})},[b.menuState,b.itemsElement,te]),RI(b.menuState===0,{container:b.itemsElement,accept(Z){return Z.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:Z.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(Z){Z.setAttribute("role","none")}});let F=Nh(),N=Ye(Z=>{var ve,L,ie;switch(F.dispose(),Z.key){case mt.Space:if(b.searchQuery!=="")return Z.preventDefault(),Z.stopPropagation(),w({type:3,value:Z.key});case mt.Enter:if(Z.preventDefault(),Z.stopPropagation(),w({type:1}),b.activeItemIndex!==null){let{dataRef:de}=b.items[b.activeItemIndex];(L=(ve=de.current)==null?void 0:ve.domRef.current)==null||L.click()}Gb(b.buttonElement);break;case mt.ArrowDown:return Z.preventDefault(),Z.stopPropagation(),w({type:2,focus:nn.Next});case mt.ArrowUp:return Z.preventDefault(),Z.stopPropagation(),w({type:2,focus:nn.Previous});case mt.Home:case mt.PageUp:return Z.preventDefault(),Z.stopPropagation(),w({type:2,focus:nn.First});case mt.End:case mt.PageDown:return Z.preventDefault(),Z.stopPropagation(),w({type:2,focus:nn.Last});case mt.Escape:Z.preventDefault(),Z.stopPropagation(),xr.flushSync(()=>w({type:1})),(ie=b.buttonElement)==null||ie.focus({preventScroll:!0});break;case mt.Tab:Z.preventDefault(),Z.stopPropagation(),xr.flushSync(()=>w({type:1})),oI(b.buttonElement,Z.shiftKey?Yg.Previous:Yg.Next);break;default:Z.key.length===1&&(w({type:3,value:Z.key}),F.setTimeout(()=>w({type:4}),350));break}}),Se=Ye(Z=>{switch(Z.key){case mt.Space:Z.preventDefault();break}}),Le=S.useMemo(()=>({open:b.menuState===0}),[b.menuState]),ae=ah(T?k():{},{"aria-activedescendant":b.activeItemIndex===null||(t=b.items[b.activeItemIndex])==null?void 0:t.id,"aria-labelledby":(i=b.buttonElement)==null?void 0:i.id,id:l,onKeyDown:N,onKeyUp:Se,role:"menu",tabIndex:b.menuState===0?0:void 0,ref:$,style:{...v.style,...P,"--button-width":Kx(b.buttonElement,!0).width},...Wb(V)}),he=mn();return et.createElement(t2,{enabled:d?n.static||le:!1},he({ourProps:ae,theirProps:v,slot:Le,defaultTag:D2,features:O2,visible:D,name:"Menu.Items"}))}let M2=S.Fragment;function P2(n,e){let t=S.useId(),{id:i=`headlessui-menu-item-${t}`,disabled:a=!1,...l}=n,[c,d]=jh("Menu.Item"),m=c.activeItemIndex!==null?c.items[c.activeItemIndex].id===i:!1,g=S.useRef(null),v=Zn(e,g);wt(()=>{if(!c.__demoMode&&c.menuState===0&&m&&c.activationTrigger!==0)return Ur().requestAnimationFrame(()=>{var D,F;(F=(D=g.current)==null?void 0:D.scrollIntoView)==null||F.call(D,{block:"nearest"})})},[c.__demoMode,g,m,c.menuState,c.activationTrigger,c.activeItemIndex]);let T=E2(g),b=S.useRef({disabled:a,domRef:g,get textValue(){return T()}});wt(()=>{b.current.disabled=a},[b,a]),wt(()=>(d({type:5,id:i,dataRef:b}),()=>d({type:6,id:i})),[b,i]);let w=Ye(()=>{d({type:1})}),x=Ye(D=>{if(a)return D.preventDefault();d({type:1}),Gb(c.buttonElement)}),P=Ye(()=>{if(a)return d({type:2,focus:nn.Nothing});d({type:2,focus:nn.Specific,id:i})}),k=_I(),j=Ye(D=>{k.update(D),!a&&(m||d({type:2,focus:nn.Specific,id:i,trigger:0}))}),G=Ye(D=>{k.wasMoved(D)&&(a||m||d({type:2,focus:nn.Specific,id:i,trigger:0}))}),$=Ye(D=>{k.wasMoved(D)&&(a||m&&d({type:2,focus:nn.Nothing}))}),[te,ne]=zb(),[le,V]=Lx(),I=S.useMemo(()=>({active:m,focus:m,disabled:a,close:w}),[m,a,w]),C={id:i,ref:v,role:"menuitem",tabIndex:a===!0?void 0:-1,"aria-disabled":a===!0?!0:void 0,"aria-labelledby":te,"aria-describedby":le,disabled:void 0,onClick:x,onFocus:P,onPointerEnter:j,onMouseEnter:j,onPointerMove:G,onMouseMove:G,onPointerLeave:$,onMouseLeave:$},O=mn();return et.createElement(ne,null,et.createElement(V,null,O({ourProps:C,theirProps:l,slot:I,defaultTag:M2,name:"Menu.Item"})))}let k2="div";function V2(n,e){let[t,i]=zb(),a=n,l={ref:e,"aria-labelledby":t,role:"group"},c=mn();return et.createElement(i,null,c({ourProps:l,theirProps:a,slot:{},defaultTag:k2,name:"Menu.Section"}))}let L2="header";function U2(n,e){let t=S.useId(),{id:i=`headlessui-menu-heading-${t}`,...a}=n,l=Mp();wt(()=>l.register(i),[i,l.register]);let c={id:i,ref:e,role:"presentation",...l.props};return mn()({ourProps:c,theirProps:a,slot:{},defaultTag:L2,name:"Menu.Heading"})}let j2="div";function F2(n,e){let t=n,i={ref:e,role:"separator"};return mn()({ourProps:i,theirProps:t,slot:{},defaultTag:j2,name:"Menu.Separator"})}let B2=gn(C2),_w=gn(I2),Ew=gn(N2),Xg=gn(P2),z2=gn(V2),H2=gn(U2),$2=gn(F2),q2=Object.assign(B2,{Button:_w,Items:Ew,Item:Xg,Section:z2,Heading:H2,Separator:$2});function G2({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Y2=S.forwardRef(G2);function K2({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Q2=S.forwardRef(K2);function W2({title:n,titleId:e,...t},i){return S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":e},t),n?S.createElement("title",{id:e},n):null,S.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const X2=S.forwardRef(W2),Z2="/assets/qma-logo--NUluzUL.png",J2=()=>{};var IE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},eO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},bw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,w=g&63;m||(w=64,c||(b=64)),i.push(t[v],t[T],t[b],t[w])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Tw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):eO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new tO;const b=l<<2|d>>4;if(i.push(b),g!==64){const w=d<<4&240|g>>2;if(i.push(w),T!==64){const x=g<<6&192|T;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class tO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nO=function(n){const e=Tw(n);return bw.encodeByteArray(e,!0)},ch=function(n){return nO(n).replace(/\./g,"")},ww=function(n){try{return bw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=()=>rO().__FIREBASE_DEFAULTS__,sO=()=>{if(typeof process>"u"||typeof IE>"u")return;const n=IE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ww(n[1]);return e&&JSON.parse(e)},Fh=()=>{try{return J2()||iO()||sO()||aO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sw=n=>{var e,t;return(t=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},oO=n=>{const e=Sw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Aw=()=>{var n;return(n=Fh())===null||n===void 0?void 0:n.config},Rw=n=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ch(JSON.stringify(t)),ch(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function fO(){var n;const e=(n=Fh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gO(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pO(){return!fO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yO(){try{return typeof indexedDB=="object"}catch{return!1}}function vO(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="FirebaseError";class Ai extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=_O,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?EO(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ai(a,d,i)}}function EO(n,e){return n.replace(TO,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const TO=/\{\$([^}]+)}/g;function bO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(DE(l)&&DE(c)){if(!Sa(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function DE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Eu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Tu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wO(n,e){const t=new SO(n,e);return t.subscribe.bind(t)}class SO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");AO(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Ag),a.error===void 0&&(a.error=Ag),a.complete===void 0&&(a.complete=Ag);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(n){return n&&n._delegate?n._delegate:n}class Aa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new lO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xO(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:CO(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CO(n){return n===ma?void 0:n}function xO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new RO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const DO={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},OO=Me.INFO,NO={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},MO=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=NO[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=OO,this._logHandler=MO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const PO=(n,e)=>e.some(t=>n instanceof t);let OE,NE;function kO(){return OE||(OE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VO(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cw=new WeakMap,Zg=new WeakMap,xw=new WeakMap,Rg=new WeakMap,Qp=new WeakMap;function LO(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ps(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Cw.set(t,n)}).catch(()=>{}),Qp.set(e,n),e}function UO(n){if(Zg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Zg.set(n,e)}let Jg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Zg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jO(n){Jg=n(Jg)}function FO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Cg(this),e,...t);return xw.set(i,e.sort?e.sort():[e]),ps(i)}:VO().includes(n)?function(...e){return n.apply(Cg(this),e),ps(Cw.get(this))}:function(...e){return ps(n.apply(Cg(this),e))}}function BO(n){return typeof n=="function"?FO(n):(n instanceof IDBTransaction&&UO(n),PO(n,kO())?new Proxy(n,Jg):n)}function ps(n){if(n instanceof IDBRequest)return LO(n);if(Rg.has(n))return Rg.get(n);const e=BO(n);return e!==n&&(Rg.set(n,e),Qp.set(e,n)),e}const Cg=n=>Qp.get(n);function zO(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=ps(c);return i&&c.addEventListener("upgradeneeded",m=>{i(ps(c.result),m.oldVersion,m.newVersion,ps(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const HO=["get","getKey","getAll","getAllKeys","count"],$O=["put","add","delete","clear"],xg=new Map;function ME(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xg.get(e))return xg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=$O.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||HO.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return xg.set(e,l),l}jO(n=>({...n,get:(e,t,i)=>ME(e,t)||n.get(e,t,i),has:(e,t)=>!!ME(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GO(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function GO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",PE="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Kp("@firebase/app"),YO="@firebase/app-compat",KO="@firebase/analytics-compat",QO="@firebase/analytics",WO="@firebase/app-check-compat",XO="@firebase/app-check",ZO="@firebase/auth",JO="@firebase/auth-compat",eN="@firebase/database",tN="@firebase/data-connect",nN="@firebase/database-compat",rN="@firebase/functions",iN="@firebase/functions-compat",sN="@firebase/installations",aN="@firebase/installations-compat",oN="@firebase/messaging",lN="@firebase/messaging-compat",uN="@firebase/performance",cN="@firebase/performance-compat",fN="@firebase/remote-config",hN="@firebase/remote-config-compat",dN="@firebase/storage",mN="@firebase/storage-compat",gN="@firebase/firestore",pN="@firebase/vertexai",yN="@firebase/firestore-compat",vN="firebase",_N="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",EN={[ep]:"fire-core",[YO]:"fire-core-compat",[QO]:"fire-analytics",[KO]:"fire-analytics-compat",[XO]:"fire-app-check",[WO]:"fire-app-check-compat",[ZO]:"fire-auth",[JO]:"fire-auth-compat",[eN]:"fire-rtdb",[tN]:"fire-data-connect",[nN]:"fire-rtdb-compat",[rN]:"fire-fn",[iN]:"fire-fn-compat",[sN]:"fire-iid",[aN]:"fire-iid-compat",[oN]:"fire-fcm",[lN]:"fire-fcm-compat",[uN]:"fire-perf",[cN]:"fire-perf-compat",[fN]:"fire-rc",[hN]:"fire-rc-compat",[dN]:"fire-gcs",[mN]:"fire-gcs-compat",[gN]:"fire-fst",[yN]:"fire-fst-compat",[pN]:"fire-vertex","fire-js":"fire-js",[vN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new Map,TN=new Map,np=new Map;function kE(n,e){try{n.container.addComponent(e)}catch(t){Ti.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fo(n){const e=n.name;if(np.has(e))return Ti.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,n);for(const t of Lu.values())kE(t,n);for(const t of TN.values())kE(t,n);return!0}function Wp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Qn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new tc("app","Firebase",bN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=_N;function Iw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw ys.create("bad-app-name",{appName:String(a)});if(t||(t=Aw()),!t)throw ys.create("no-options");const l=Lu.get(a);if(l){if(Sa(t,l.options)&&Sa(i,l.config))return l;throw ys.create("duplicate-app",{appName:a})}const c=new IO(a);for(const m of np.values())c.addComponent(m);const d=new wN(t,i,c);return Lu.set(a,d),d}function Dw(n=tp){const e=Lu.get(n);if(!e&&n===tp&&Aw())return Iw();if(!e)throw ys.create("no-app",{appName:n});return e}function VE(){return Array.from(Lu.values())}function vs(n,e,t){var i;let a=(i=EN[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ti.warn(d.join(" "));return}Fo(new Aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="firebase-heartbeat-database",AN=1,Uu="firebase-heartbeat-store";let Ig=null;function Ow(){return Ig||(Ig=zO(SN,AN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ys.create("idb-open",{originalErrorMessage:n.message})})),Ig}async function RN(n){try{const t=(await Ow()).transaction(Uu),i=await t.objectStore(Uu).get(Nw(n));return await t.done,i}catch(e){if(e instanceof Ai)Ti.warn(e.message);else{const t=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ti.warn(t.message)}}}async function LE(n,e){try{const i=(await Ow()).transaction(Uu,"readwrite");await i.objectStore(Uu).put(e,Nw(n)),await i.done}catch(t){if(t instanceof Ai)Ti.warn(t.message);else{const i=ys.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ti.warn(i.message)}}}function Nw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=1024,xN=30;class IN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ON(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=UE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>xN){const c=NN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ti.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=UE(),{heartbeatsToSend:i,unsentEntries:a}=DN(this._heartbeatsCache.heartbeats),l=ch(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ti.warn(t),""}}}function UE(){return new Date().toISOString().substring(0,10)}function DN(n,e=CN){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),jE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),jE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class ON{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yO()?vO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return LE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return LE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function jE(n){return ch(JSON.stringify({version:2,heartbeats:n})).length}function NN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(n){Fo(new Aa("platform-logger",e=>new qO(e),"PRIVATE")),Fo(new Aa("heartbeat",e=>new IN(e),"PRIVATE")),vs(ep,PE,n),vs(ep,PE,"esm2017"),vs("fire-js","")}MN("");var PN="firebase",kN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(PN,kN,"app");var FE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,Mw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function C(){}C.prototype=I.prototype,V.D=I.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(O,D,F){for(var N=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)N[Se-2]=arguments[Se];return I.prototype[D].apply(O,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,I,C){C||(C=0);var O=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)O[D]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(D=0;16>D;++D)O[D]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=V.g[0],C=V.g[1],D=V.g[2];var F=V.g[3],N=I+(F^C&(D^F))+O[0]+3614090360&4294967295;I=C+(N<<7&4294967295|N>>>25),N=F+(D^I&(C^D))+O[1]+3905402710&4294967295,F=I+(N<<12&4294967295|N>>>20),N=D+(C^F&(I^C))+O[2]+606105819&4294967295,D=F+(N<<17&4294967295|N>>>15),N=C+(I^D&(F^I))+O[3]+3250441966&4294967295,C=D+(N<<22&4294967295|N>>>10),N=I+(F^C&(D^F))+O[4]+4118548399&4294967295,I=C+(N<<7&4294967295|N>>>25),N=F+(D^I&(C^D))+O[5]+1200080426&4294967295,F=I+(N<<12&4294967295|N>>>20),N=D+(C^F&(I^C))+O[6]+2821735955&4294967295,D=F+(N<<17&4294967295|N>>>15),N=C+(I^D&(F^I))+O[7]+4249261313&4294967295,C=D+(N<<22&4294967295|N>>>10),N=I+(F^C&(D^F))+O[8]+1770035416&4294967295,I=C+(N<<7&4294967295|N>>>25),N=F+(D^I&(C^D))+O[9]+2336552879&4294967295,F=I+(N<<12&4294967295|N>>>20),N=D+(C^F&(I^C))+O[10]+4294925233&4294967295,D=F+(N<<17&4294967295|N>>>15),N=C+(I^D&(F^I))+O[11]+2304563134&4294967295,C=D+(N<<22&4294967295|N>>>10),N=I+(F^C&(D^F))+O[12]+1804603682&4294967295,I=C+(N<<7&4294967295|N>>>25),N=F+(D^I&(C^D))+O[13]+4254626195&4294967295,F=I+(N<<12&4294967295|N>>>20),N=D+(C^F&(I^C))+O[14]+2792965006&4294967295,D=F+(N<<17&4294967295|N>>>15),N=C+(I^D&(F^I))+O[15]+1236535329&4294967295,C=D+(N<<22&4294967295|N>>>10),N=I+(D^F&(C^D))+O[1]+4129170786&4294967295,I=C+(N<<5&4294967295|N>>>27),N=F+(C^D&(I^C))+O[6]+3225465664&4294967295,F=I+(N<<9&4294967295|N>>>23),N=D+(I^C&(F^I))+O[11]+643717713&4294967295,D=F+(N<<14&4294967295|N>>>18),N=C+(F^I&(D^F))+O[0]+3921069994&4294967295,C=D+(N<<20&4294967295|N>>>12),N=I+(D^F&(C^D))+O[5]+3593408605&4294967295,I=C+(N<<5&4294967295|N>>>27),N=F+(C^D&(I^C))+O[10]+38016083&4294967295,F=I+(N<<9&4294967295|N>>>23),N=D+(I^C&(F^I))+O[15]+3634488961&4294967295,D=F+(N<<14&4294967295|N>>>18),N=C+(F^I&(D^F))+O[4]+3889429448&4294967295,C=D+(N<<20&4294967295|N>>>12),N=I+(D^F&(C^D))+O[9]+568446438&4294967295,I=C+(N<<5&4294967295|N>>>27),N=F+(C^D&(I^C))+O[14]+3275163606&4294967295,F=I+(N<<9&4294967295|N>>>23),N=D+(I^C&(F^I))+O[3]+4107603335&4294967295,D=F+(N<<14&4294967295|N>>>18),N=C+(F^I&(D^F))+O[8]+1163531501&4294967295,C=D+(N<<20&4294967295|N>>>12),N=I+(D^F&(C^D))+O[13]+2850285829&4294967295,I=C+(N<<5&4294967295|N>>>27),N=F+(C^D&(I^C))+O[2]+4243563512&4294967295,F=I+(N<<9&4294967295|N>>>23),N=D+(I^C&(F^I))+O[7]+1735328473&4294967295,D=F+(N<<14&4294967295|N>>>18),N=C+(F^I&(D^F))+O[12]+2368359562&4294967295,C=D+(N<<20&4294967295|N>>>12),N=I+(C^D^F)+O[5]+4294588738&4294967295,I=C+(N<<4&4294967295|N>>>28),N=F+(I^C^D)+O[8]+2272392833&4294967295,F=I+(N<<11&4294967295|N>>>21),N=D+(F^I^C)+O[11]+1839030562&4294967295,D=F+(N<<16&4294967295|N>>>16),N=C+(D^F^I)+O[14]+4259657740&4294967295,C=D+(N<<23&4294967295|N>>>9),N=I+(C^D^F)+O[1]+2763975236&4294967295,I=C+(N<<4&4294967295|N>>>28),N=F+(I^C^D)+O[4]+1272893353&4294967295,F=I+(N<<11&4294967295|N>>>21),N=D+(F^I^C)+O[7]+4139469664&4294967295,D=F+(N<<16&4294967295|N>>>16),N=C+(D^F^I)+O[10]+3200236656&4294967295,C=D+(N<<23&4294967295|N>>>9),N=I+(C^D^F)+O[13]+681279174&4294967295,I=C+(N<<4&4294967295|N>>>28),N=F+(I^C^D)+O[0]+3936430074&4294967295,F=I+(N<<11&4294967295|N>>>21),N=D+(F^I^C)+O[3]+3572445317&4294967295,D=F+(N<<16&4294967295|N>>>16),N=C+(D^F^I)+O[6]+76029189&4294967295,C=D+(N<<23&4294967295|N>>>9),N=I+(C^D^F)+O[9]+3654602809&4294967295,I=C+(N<<4&4294967295|N>>>28),N=F+(I^C^D)+O[12]+3873151461&4294967295,F=I+(N<<11&4294967295|N>>>21),N=D+(F^I^C)+O[15]+530742520&4294967295,D=F+(N<<16&4294967295|N>>>16),N=C+(D^F^I)+O[2]+3299628645&4294967295,C=D+(N<<23&4294967295|N>>>9),N=I+(D^(C|~F))+O[0]+4096336452&4294967295,I=C+(N<<6&4294967295|N>>>26),N=F+(C^(I|~D))+O[7]+1126891415&4294967295,F=I+(N<<10&4294967295|N>>>22),N=D+(I^(F|~C))+O[14]+2878612391&4294967295,D=F+(N<<15&4294967295|N>>>17),N=C+(F^(D|~I))+O[5]+4237533241&4294967295,C=D+(N<<21&4294967295|N>>>11),N=I+(D^(C|~F))+O[12]+1700485571&4294967295,I=C+(N<<6&4294967295|N>>>26),N=F+(C^(I|~D))+O[3]+2399980690&4294967295,F=I+(N<<10&4294967295|N>>>22),N=D+(I^(F|~C))+O[10]+4293915773&4294967295,D=F+(N<<15&4294967295|N>>>17),N=C+(F^(D|~I))+O[1]+2240044497&4294967295,C=D+(N<<21&4294967295|N>>>11),N=I+(D^(C|~F))+O[8]+1873313359&4294967295,I=C+(N<<6&4294967295|N>>>26),N=F+(C^(I|~D))+O[15]+4264355552&4294967295,F=I+(N<<10&4294967295|N>>>22),N=D+(I^(F|~C))+O[6]+2734768916&4294967295,D=F+(N<<15&4294967295|N>>>17),N=C+(F^(D|~I))+O[13]+1309151649&4294967295,C=D+(N<<21&4294967295|N>>>11),N=I+(D^(C|~F))+O[4]+4149444226&4294967295,I=C+(N<<6&4294967295|N>>>26),N=F+(C^(I|~D))+O[11]+3174756917&4294967295,F=I+(N<<10&4294967295|N>>>22),N=D+(I^(F|~C))+O[2]+718787259&4294967295,D=F+(N<<15&4294967295|N>>>17),N=C+(F^(D|~I))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+F&4294967295}i.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var C=I-this.blockSize,O=this.B,D=this.h,F=0;F<I;){if(D==0)for(;F<=C;)a(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<I;)if(O[D++]=V.charCodeAt(F++),D==this.blockSize){a(this,O),D=0;break}}else for(;F<I;)if(O[D++]=V[F++],D==this.blockSize){a(this,O),D=0;break}}this.h=D,this.o+=I},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var C=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=C&255,C/=256;for(this.u(V),V=Array(16),I=C=0;4>I;++I)for(var O=0;32>O;O+=8)V[C++]=this.g[I]>>>O&255;return V};function l(V,I){var C=d;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=I(V)}function c(V,I){this.h=I;for(var C=[],O=!0,D=V.length-1;0<=D;D--){var F=V[D]|0;O&&F==I||(C[D]=F,O=!1)}this.g=C}var d={};function m(V){return-128<=V&&128>V?l(V,function(I){return new c([I|0],0>I?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return k(g(-V));for(var I=[],C=1,O=0;V>=C;O++)I[O]=V/C|0,C*=4294967296;return new c(I,0)}function v(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return k(v(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),O=T,D=0;D<V.length;D+=8){var F=Math.min(8,V.length-D),N=parseInt(V.substring(D,D+F),I);8>F?(F=g(Math.pow(I,F)),O=O.j(F).add(g(N))):(O=O.j(C),O=O.add(g(N)))}return O}var T=m(0),b=m(1),w=m(16777216);n=c.prototype,n.m=function(){if(P(this))return-k(this).m();for(var V=0,I=1,C=0;C<this.g.length;C++){var O=this.i(C);V+=(0<=O?O:4294967296+O)*I,I*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(x(this))return"0";if(P(this))return"-"+k(this).toString(V);for(var I=g(Math.pow(V,6)),C=this,O="";;){var D=te(C,I).g;C=j(C,D.j(I));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=D,x(C))return F+O;for(;6>F.length;)F="0"+F;O=F+O}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function x(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function P(V){return V.h==-1}n.l=function(V){return V=j(this,V),P(V)?-1:x(V)?0:1};function k(V){for(var I=V.g.length,C=[],O=0;O<I;O++)C[O]=~V.g[O];return new c(C,~V.h).add(b)}n.abs=function(){return P(this)?k(this):this},n.add=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],O=0,D=0;D<=I;D++){var F=O+(this.i(D)&65535)+(V.i(D)&65535),N=(F>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);O=N>>>16,F&=65535,N&=65535,C[D]=N<<16|F}return new c(C,C[C.length-1]&-2147483648?-1:0)};function j(V,I){return V.add(k(I))}n.j=function(V){if(x(this)||x(V))return T;if(P(this))return P(V)?k(this).j(k(V)):k(k(this).j(V));if(P(V))return k(this.j(k(V)));if(0>this.l(w)&&0>V.l(w))return g(this.m()*V.m());for(var I=this.g.length+V.g.length,C=[],O=0;O<2*I;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var D=0;D<V.g.length;D++){var F=this.i(O)>>>16,N=this.i(O)&65535,Se=V.i(D)>>>16,Le=V.i(D)&65535;C[2*O+2*D]+=N*Le,G(C,2*O+2*D),C[2*O+2*D+1]+=F*Le,G(C,2*O+2*D+1),C[2*O+2*D+1]+=N*Se,G(C,2*O+2*D+1),C[2*O+2*D+2]+=F*Se,G(C,2*O+2*D+2)}for(O=0;O<I;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=I;O<2*I;O++)C[O]=0;return new c(C,0)};function G(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function $(V,I){this.g=V,this.h=I}function te(V,I){if(x(I))throw Error("division by zero");if(x(V))return new $(T,T);if(P(V))return I=te(k(V),I),new $(k(I.g),k(I.h));if(P(I))return I=te(V,k(I)),new $(k(I.g),I.h);if(30<V.g.length){if(P(V)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=I;0>=O.l(V);)C=ne(C),O=ne(O);var D=le(C,1),F=le(O,1);for(O=le(O,2),C=le(C,2);!x(O);){var N=F.add(O);0>=N.l(V)&&(D=D.add(C),F=N),O=le(O,1),C=le(C,1)}return I=j(V,D.j(I)),new $(D,I)}for(D=T;0<=V.l(I);){for(C=Math.max(1,Math.floor(V.m()/I.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),F=g(C),N=F.j(I);P(N)||0<N.l(V);)C-=O,F=g(C),N=F.j(I);x(F)&&(F=b),D=D.add(F),V=j(V,N)}return new $(D,V)}n.A=function(V){return te(this,V).h},n.and=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)&V.i(O);return new c(C,this.h&V.h)},n.or=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)|V.i(O);return new c(C,this.h|V.h)},n.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),C=[],O=0;O<I;O++)C[O]=this.i(O)^V.i(O);return new c(C,this.h^V.h)};function ne(V){for(var I=V.g.length+1,C=[],O=0;O<I;O++)C[O]=V.i(O)<<1|V.i(O-1)>>>31;return new c(C,V.h)}function le(V,I){var C=I>>5;I%=32;for(var O=V.g.length-C,D=[],F=0;F<O;F++)D[F]=0<I?V.i(F+C)>>>I|V.i(F+C+1)<<32-I:V.i(F+C);return new c(D,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Mw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,_s=c}).apply(typeof FE<"u"?FE:typeof self<"u"?self:typeof window<"u"?window:{});var Lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pw,bu,kw,Yf,rp,Vw,Lw,Uw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,_){return f==Array.prototype||f==Object.prototype||(f[y]=_.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lf=="object"&&Lf];for(var y=0;y<f.length;++y){var _=f[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function a(f,y){if(y)e:{var _=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var q=f[R];if(!(q in _))break e;_=_[q]}f=f[f.length-1],R=_[f],y=y(R),y!=R&&y!=null&&e(_,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var _=0,R=!1,q={next:function(){if(!R&&_<f.length){var Q=_++;return{value:y(Q,f[Q]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function v(f,y,_){return f.call.apply(f.bind,arguments)}function T(f,y,_){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),f.apply(y,q)}}return function(){return f.apply(y,arguments)}}function b(f,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,b.apply(null,arguments)}function w(f,y){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function x(f,y){function _(){}_.prototype=y.prototype,f.aa=y.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(R,q,Q){for(var oe=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)oe[Ue-2]=arguments[Ue];return y.prototype[q].apply(R,oe)}}function P(f){const y=f.length;if(0<y){const _=Array(y);for(let R=0;R<y;R++)_[R]=f[R];return _}return[]}function k(f,y){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(m(R)){const q=f.length||0,Q=R.length||0;f.length=q+Q;for(let oe=0;oe<Q;oe++)f[q+oe]=R[oe]}else f.push(R)}}class j{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function G(f){return/^[\s\xa0]*$/.test(f)}function $(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function te(f){return te[" "](f),f}te[" "]=function(){};var ne=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function le(f,y,_){for(const R in f)y.call(_,f[R],R,f)}function V(f,y){for(const _ in f)y.call(void 0,f[_],_,f)}function I(f){const y={};for(const _ in f)y[_]=f[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,y){let _,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(_ in R)f[_]=R[_];for(let Q=0;Q<C.length;Q++)_=C[Q],Object.prototype.hasOwnProperty.call(R,_)&&(f[_]=R[_])}}function D(f){var y=1;f=f.split(":");const _=[];for(;0<y&&f.length;)_.push(f.shift()),y--;return f.length&&_.push(f.join(":")),_}function F(f){d.setTimeout(()=>{throw f},0)}function N(){var f=ve;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class Se{constructor(){this.h=this.g=null}add(y,_){const R=Le.get();R.set(y,_),this.h?this.h.next=R:this.g=R,this.h=R}}var Le=new j(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let he,Z=!1,ve=new Se,L=()=>{const f=d.Promise.resolve(void 0);he=()=>{f.then(ie)}};var ie=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(_){F(_)}var y=Le;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}Z=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return f}();function Ie(f,y){if(ue.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(ne){e:{try{te(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=f.fromElement:_=="mouseout"&&(y=f.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ce[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ie.aa.h.call(this)}}x(Ie,ue);var Ce={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function ut(f,y,_,R,q){this.listener=f,this.proxy=null,this.src=y,this.type=_,this.capture=!!R,this.ha=q,this.key=++ze,this.da=this.fa=!1}function Qe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function sn(f){this.src=f,this.g={},this.h=0}sn.prototype.add=function(f,y,_,R,q){var Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);var oe=On(f,y,R,q);return-1<oe?(y=f[oe],_||(y.fa=!1)):(y=new ut(y,this.src,Q,!!R,q),y.fa=_,f.push(y)),y};function Fr(f,y){var _=y.type;if(_ in f.g){var R=f.g[_],q=Array.prototype.indexOf.call(R,y,void 0),Q;(Q=0<=q)&&Array.prototype.splice.call(R,q,1),Q&&(Qe(y),f.g[_].length==0&&(delete f.g[_],f.h--))}}function On(f,y,_,R){for(var q=0;q<f.length;++q){var Q=f[q];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==R)return q}return-1}var Ri="closure_lm_"+(1e6*Math.random()|0),Ci={};function Br(f,y,_,R,q){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Br(f,y[Q],_,R,q);return null}return _=hc(_),f&&f[vt]?f.K(y,_,g(R)?!!R.capture:!1,q):ol(f,y,_,!1,R,q)}function ol(f,y,_,R,q,Q){if(!y)throw Error("Invalid event type");var oe=g(q)?!!q.capture:!!q,Ue=ll(f);if(Ue||(f[Ri]=Ue=new sn(f)),_=Ue.add(y,_,R,oe,Q),_.proxy)return _;if(R=ka(),_.proxy=R,R.src=f,R.listener=_,f.addEventListener)ce||(q=oe),q===void 0&&(q=!1),f.addEventListener(y.toString(),R,q);else if(f.attachEvent)f.attachEvent(La(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ka(){function f(_){return y.call(f.src,f.listener,_)}const y=ld;return f}function Va(f,y,_,R,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Va(f,y[Q],_,R,q);else R=g(R)?!!R.capture:!!R,_=hc(_),f&&f[vt]?(f=f.i,y=String(y).toString(),y in f.g&&(Q=f.g[y],_=On(Q,_,R,q),-1<_&&(Qe(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete f.g[y],f.h--)))):f&&(f=ll(f))&&(y=f.g[y.toString()],f=-1,y&&(f=On(y,_,R,q)),(_=-1<f?y[f]:null)&&ks(_))}function ks(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[vt])Fr(y.i,f);else{var _=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(_,R,f.capture):y.detachEvent?y.detachEvent(La(_),R):y.addListener&&y.removeListener&&y.removeListener(R),(_=ll(y))?(Fr(_,f),_.h==0&&(_.src=null,y[Ri]=null)):Qe(f)}}}function La(f){return f in Ci?Ci[f]:Ci[f]="on"+f}function ld(f,y){if(f.da)f=!0;else{y=new Ie(y,this);var _=f.listener,R=f.ha||f.src;f.fa&&ks(f),f=_.call(R,y)}return f}function ll(f){return f=f[Ri],f instanceof sn?f:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function hc(f){return typeof f=="function"?f:(f[pn]||(f[pn]=function(y){return f.handleEvent(y)}),f[pn])}function St(){de.call(this),this.i=new sn(this),this.M=this,this.F=null}x(St,de),St.prototype[vt]=!0,St.prototype.removeEventListener=function(f,y,_,R){Va(this,f,y,_,R)};function Mt(f,y){var _,R=f.F;if(R)for(_=[];R;R=R.F)_.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new ue(y,f);else if(y instanceof ue)y.target=y.target||f;else{var q=y;y=new ue(R,f),O(y,q)}if(q=!0,_)for(var Q=_.length-1;0<=Q;Q--){var oe=y.g=_[Q];q=zr(oe,R,!0,y)&&q}if(oe=y.g=f,q=zr(oe,R,!0,y)&&q,q=zr(oe,R,!1,y)&&q,_)for(Q=0;Q<_.length;Q++)oe=y.g=_[Q],q=zr(oe,R,!1,y)&&q}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var _=f.g[y],R=0;R<_.length;R++)Qe(_[R]);delete f.g[y],f.h--}}this.F=null},St.prototype.K=function(f,y,_,R){return this.i.add(String(f),y,!1,_,R)},St.prototype.L=function(f,y,_,R){return this.i.add(String(f),y,!0,_,R)};function zr(f,y,_,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Q=0;Q<y.length;++Q){var oe=y[Q];if(oe&&!oe.da&&oe.capture==_){var Ue=oe.listener,Rt=oe.ha||oe.src;oe.fa&&Fr(f.i,oe),q=Ue.call(Rt,R)!==!1&&q}}return q&&!R.defaultPrevented}function dc(f,y,_){if(typeof f=="function")_&&(f=b(f,_));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function ul(f){f.g=dc(()=>{f.g=null,f.i&&(f.i=!1,ul(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class ud extends de{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ul(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(f){de.call(this),this.h=f,this.g={}}x(Vs,de);var xi=[];function Qt(f){le(f.g,function(y,_){this.g.hasOwnProperty(_)&&ks(y)},f),f.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),Qt(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=d.JSON.stringify,cr=d.JSON.parse,an=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function fl(){}fl.prototype.h=null;function mc(f){return f.h||(f.h=f.i())}function gc(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){ue.call(this,"d")}x(Ii,ue);function Jn(){ue.call(this,"c")}x(Jn,ue);var Nn={},Di=null;function Ua(){return Di=Di||new St}Nn.La="serverreachability";function hl(f){ue.call(this,Nn.La,f)}x(hl,ue);function Oi(f){const y=Ua();Mt(y,new hl(y))}Nn.STAT_EVENT="statevent";function ja(f,y){ue.call(this,Nn.STAT_EVENT,f),this.stat=y}x(ja,ue);function gt(f){const y=Ua();Mt(y,new ja(y,f))}Nn.Ma="timingevent";function pc(f,y){ue.call(this,Nn.Ma,f),this.size=y}x(pc,ue);function Ni(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Mi(){this.g=!0}Mi.prototype.xa=function(){this.g=!1};function yc(f,y,_,R,q,Q){f.info(function(){if(f.g)if(Q)for(var oe="",Ue=Q.split("&"),Rt=0;Rt<Ue.length;Rt++){var je=Ue[Rt].split("=");if(1<je.length){var Vt=je[0];je=je[1];var Ct=Vt.split("_");oe=2<=Ct.length&&Ct[1]=="type"?oe+(Vt+"="+je+"&"):oe+(Vt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+y+`
`+_+`
`+oe})}function vc(f,y,_,R,q,Q,oe){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+y+`
`+_+`
`+Q+" "+oe})}function Pi(f,y,_,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pt(f,_)+(R?" "+R:"")})}function hr(f,y){f.info(function(){return"TIMEOUT: "+y})}Mi.prototype.info=function(){};function Pt(f,y){if(!f.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var R=_[f];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var Q=q[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<q.length;oe++)q[oe]=""}}}}return cl(_)}catch{return y}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ls;function Fa(){}x(Fa,fl),Fa.prototype.g=function(){return new XMLHttpRequest},Fa.prototype.i=function(){return{}},Ls=new Fa;function dr(f,y,_,R){this.j=f,this.i=y,this.l=_,this.R=R||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dl}function dl(){this.i=null,this.g="",this.h=!1}var ki={},Us={};function er(f,y,_){f.L=1,f.v=Bs(ct(y)),f.m=_,f.P=!0,$r(f,null)}function $r(f,y){f.F=Date.now(),st(f),f.A=ct(f.v);var _=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Yr(_.i,"t",R),f.C=0,_=f.j.J,f.h=new dl,f.g=Nc(f.j,_?y:null,!f.m),0<f.O&&(f.M=new ud(b(f.Y,f,f.g),f.O)),y=f.U,_=f.g,R=f.ca;var q="readystatechange";Array.isArray(q)||(q&&(xi[0]=q.toString()),q=xi);for(var Q=0;Q<q.length;Q++){var oe=Br(_,q[Q],R||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Oi(),yc(f.i,f.u,f.A,f.l,f.R,f.m)}dr.prototype.ca=function(f){f=f.target;const y=this.M;y&&Ln(f)==3?y.j():this.Y(f)},dr.prototype.Y=function(f){try{if(f==this.g)e:{const Ct=Ln(this.g);var y=this.g.Ba();const Xr=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Sc(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Xr?Oi(3):Oi(2)),Ba(this);var _=this.g.Z();this.X=_;t:if(Vi(this)){var R=Sc(this.g);f="";var q=R.length,Q=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),bn(this);var oe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,f+=this.h.i.decode(R[y],{stream:!(Q&&y==q-1)});R.length=0,this.h.g+=f,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,vc(this.i,this.u,this.A,this.l,this.R,Ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Rt=this.g;if((Ue=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ue)){var je=Ue;break t}}je=null}if(_=je)Pi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wn(this,_);else{this.o=!1,this.s=3,gt(12),yn(this),bn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<oe.length;)if(zt=Li(this,oe),zt==Us){Ct==4&&(this.s=4,gt(14),_=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==ki){this.s=4,gt(15),Pi(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Pi(this.i,this.l,zt,null),wn(this,zt);if(Vi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||oe.length!=0||this.h.h||(this.s=1,gt(16),_=!1),this.o=this.o&&_,!_)Pi(this.i,this.l,oe,"[Invalid Chunked Response]"),yn(this),bn(this);else if(0<oe.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ks(Vt),Vt.M=!0,gt(11))}}else Pi(this.i,this.l,oe,null),wn(this,oe);Ct==4&&yn(this),this.o&&!this.J&&(Ct==4?Ic(this.j,this):(this.o=!1,st(this)))}else gd(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),yn(this),bn(this)}}}catch{}finally{}};function Vi(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Li(f,y){var _=f.C,R=y.indexOf(`
`,_);return R==-1?Us:(_=Number(y.substring(_,R)),isNaN(_)?ki:(R+=1,R+_>y.length?Us:(y=y.slice(R,R+_),f.C=R+_,y)))}dr.prototype.cancel=function(){this.J=!0,yn(this)};function st(f){f.S=Date.now()+f.I,ml(f,f.I)}function ml(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ni(b(f.ba,f),y)}function Ba(f){f.B&&(d.clearTimeout(f.B),f.B=null)}dr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(hr(this.i,this.A),this.L!=2&&(Oi(),gt(17)),yn(this),this.s=2,bn(this)):ml(this,this.S-f)};function bn(f){f.j.G==0||f.J||Ic(f.j,f)}function yn(f){Ba(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Qt(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function wn(f,y){try{var _=f.j;if(_.G!=0&&(_.g==f||Ui(_.h,f))){if(!f.K&&Ui(_.h,f)&&_.G==3){try{var R=_.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<f.F)Xa(_),Qa(_);else break e;Al(_),gt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ni(b(_.Za,_),6e3));if(1>=_c(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Wr(_,11)}else if((f.K||_.g==f)&&Xa(_),!G(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let je=q[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const Vt=je[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Ct=je[4];Ct!=null&&(_.Aa=Ct,_.j.info("SVER="+_.Aa));const Xr=je[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(R=1.5*Xr,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const zt=f.g;if(zt){const Er=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Er){var Q=R.h;Q.g||Er.indexOf("spdy")==-1&&Er.indexOf("quic")==-1&&Er.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ji(Q,Q.h),Q.h=null))}if(R.D){const Cl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(R.ya=Cl,He(R.I,R.D,Cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var oe=f;if(R.qa=Oc(R,R.J?R.ia:null,R.W),oe.K){Mn(R.h,oe);var Ue=oe,Rt=R.L;Rt&&(Ue.I=Rt),Ue.B&&(Ba(Ue),st(Ue)),R.g=oe}else Cc(R);0<_.i.length&&Wa(_)}else je[0]!="stop"&&je[0]!="close"||Wr(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Wr(_,7):wl(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}Oi(4)}catch{}}var cd=class{constructor(f,y){this.g=f,this.map=y}};function gl(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function _c(f){return f.h?1:f.g?f.g.size:0}function Ui(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function ji(f,y){f.g?f.g.add(y):f.h=y}function Mn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}gl.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function on(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const _ of f.g.values())y=y.concat(_.D);return y}return P(f.i)}function Ec(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var y=[],_=f.length,R=0;R<_;R++)y.push(f[R]);return y}y=[],_=0;for(R in f)y[_++]=f[R];return y}function fd(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var y=[];f=f.length;for(var _=0;_<f;_++)y.push(_);return y}y=[],_=0;for(const R in f)y[_++]=R;return y}}}function js(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var _=fd(f),R=Ec(f),q=R.length,Q=0;Q<q;Q++)y.call(void 0,R[Q],_&&_[Q],f)}var yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function za(f,y){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var R=f[_].indexOf("="),q=null;if(0<=R){var Q=f[_].substring(0,R);q=f[_].substring(R+1)}else Q=f[_];y(Q,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function qr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof qr){this.h=f.h,Fi(this,f.j),this.o=f.o,this.g=f.g,Fs(this,f.s),this.l=f.l;var y=f.i,_=new mr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ha(this,_),this.m=f.m}else f&&(y=String(f).match(yl))?(this.h=!1,Fi(this,y[1]||"",!0),this.o=Bi(y[2]||""),this.g=Bi(y[3]||"",!0),Fs(this,y[4]),this.l=Bi(y[5]||"",!0),Ha(this,y[6]||"",!0),this.m=Bi(y[7]||"")):(this.h=!1,this.i=new mr(null,this.h))}qr.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Pn(y,vl,!0),":");var _=this.g;return(_||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Pn(y,vl,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&f.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&f.push("/"),f.push(Pn(_,_.charAt(0)=="/"?_l:Tc,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Pn(_,md)),f.join("")};function ct(f){return new qr(f)}function Fi(f,y,_){f.j=_?Bi(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Fs(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function Ha(f,y,_){y instanceof mr?(f.i=y,El(f.i,f.h)):(_||(y=Pn(y,dd)),f.i=new mr(y,f.h))}function He(f,y,_){f.i.set(y,_)}function Bs(f){return He(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Bi(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Pn(f,y,_){return typeof f=="string"?(f=encodeURI(f).replace(y,hd),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function hd(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var vl=/[#\/\?@]/g,Tc=/[#\?:]/g,_l=/[#\?]/g,dd=/[#\?@]/g,md=/#/g;function mr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function kn(f){f.g||(f.g=new Map,f.h=0,f.i&&za(f.i,function(y,_){f.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=mr.prototype,n.add=function(f,y){kn(this),this.i=null,f=Kr(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(y),this.h+=1,this};function $a(f,y){kn(f),y=Kr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Gr(f,y){return kn(f),y=Kr(f,y),f.g.has(y)}n.forEach=function(f,y){kn(this),this.g.forEach(function(_,R){_.forEach(function(q){f.call(y,q,R,this)},this)},this)},n.na=function(){kn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let R=0;R<y.length;R++){const q=f[R];for(let Q=0;Q<q.length;Q++)_.push(y[R])}return _},n.V=function(f){kn(this);let y=[];if(typeof f=="string")Gr(this,f)&&(y=y.concat(this.g.get(Kr(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)y=y.concat(f[_])}return y},n.set=function(f,y){return kn(this),this.i=null,f=Kr(this,f),Gr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Yr(f,y,_){$a(f,y),0<_.length&&(f.i=null,f.g.set(Kr(f,y),P(_)),f.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var R=y[_];const Q=encodeURIComponent(String(R)),oe=this.V(R);for(R=0;R<oe.length;R++){var q=Q;oe[R]!==""&&(q+="="+encodeURIComponent(String(oe[R]))),f.push(q)}}return this.i=f.join("&")};function Kr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function El(f,y){y&&!f.j&&(kn(f),f.i=null,f.g.forEach(function(_,R){var q=R.toLowerCase();R!=q&&($a(this,R),Yr(this,q,_))},f)),f.j=y}function bc(f,y){const _=new Mi;if(d.Image){const R=new Image;R.onload=w(Vn,_,"TestLoadImage: loaded",!0,y,R),R.onerror=w(Vn,_,"TestLoadImage: error",!1,y,R),R.onabort=w(Vn,_,"TestLoadImage: abort",!1,y,R),R.ontimeout=w(Vn,_,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function zs(f,y){const _=new Mi,R=new AbortController,q=setTimeout(()=>{R.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then(Q=>{clearTimeout(q),Q.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Vn(_,"TestPingServer: error",!1,y)})}function Vn(f,y,_,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(_)}catch{}}function Hs(){this.g=new an}function gr(f,y,_){const R=_||"";try{js(f,function(q,Q){let oe=q;g(q)&&(oe=cl(q)),y.push(R+Q+"="+encodeURIComponent(oe))})}catch(q){throw y.push(R+"type="+encodeURIComponent("_badmap")),q}}function zi(f){this.l=f.Ub||null,this.j=f.eb||!1}x(zi,fl),zi.prototype.g=function(){return new Qr(this.l,this.j)},zi.prototype.i=function(f){return function(){return f}}({});function Qr(f,y){St.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Qr,St),n=Qr.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,yr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?pr(this):yr(this),this.readyState==3&&Tl(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,pr(this))},n.Qa=function(f){this.g&&(this.response=f,pr(this))},n.ga=function(){this.g&&pr(this)};function pr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,yr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,f.push(_[0]+": "+_[1]),_=y.next();return f.join(`\r
`)};function yr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function bl(f){let y="";return le(f,function(_,R){y+=R,y+=":",y+=_,y+=`\r
`}),y}function kt(f,y,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=bl(_),typeof f=="string"?_!=null&&encodeURIComponent(String(_)):He(f,y,_))}function Ge(f){St.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ge,St);var qa=/^https?$/i,$s=["POST","PUT"];n=Ge.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ls.g(),this.v=this.o?mc(this.o):mc(Ls),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Q){wc(this,Q);return}if(f=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)_.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())_.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call($s,y,void 0))||R||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of _)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qs(this),this.u=!0,this.g.send(f),this.u=!1}catch(Q){wc(this,Q)}};function wc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,Ga(f),vr(f)}function Ga(f){f.A||(f.A=!0,Mt(f,"complete"),Mt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Mt(this,"complete"),Mt(this,"abort"),vr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Ge.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},n.bb=function(){Ya(this)};function Ya(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Ln(f)!=4||f.Z()!=2)){if(f.u&&Ln(f)==4)dc(f.Ea,0,f);else if(Mt(f,"readystatechange"),Ln(f)==4){f.h=!1;try{const oe=f.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var R;if(R=oe===0){var q=String(f.D).match(yl)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),R=!qa.test(q?q.toLowerCase():"")}_=R}if(_)Mt(f,"complete"),Mt(f,"success");else{f.m=6;try{var Q=2<Ln(f)?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.Z()+"]",Ga(f)}}finally{vr(f)}}}}function vr(f,y){if(f.g){qs(f);const _=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Mt(f,"ready");try{_.onreadystatechange=R}catch{}}}function qs(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Ln(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),cr(y)}};function Sc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function gd(f){const y={};f=(f.g&&2<=Ln(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(G(f[R]))continue;var _=D(f[R]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[q]||[];y[q]=Q,Q.push(_)}V(y,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(f,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||y}function Ka(f){this.Aa=0,this.i=[],this.j=new Mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gs("baseRetryDelayMs",5e3,f),this.cb=Gs("retryDelaySeedMs",1e4,f),this.Wa=Gs("forwardChannelMaxRetries",2,f),this.wa=Gs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new gl(f&&f.concurrentRequestLimit),this.Da=new Hs,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(f,y,_,R){gt(0),this.W=f,this.H=y||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=Oc(this,null,this.W),Wa(this)};function wl(f){if(Ac(f),f.G==3){var y=f.U++,_=ct(f.I);if(He(_,"SID",f.K),He(_,"RID",y),He(_,"TYPE","terminate"),Ys(f,_),y=new dr(f,f.j,y),y.L=2,y.v=Bs(ct(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Nc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),st(y)}Dc(f)}function Qa(f){f.g&&(Ks(f),f.g.cancel(),f.g=null)}function Ac(f){Qa(f),f.u&&(d.clearTimeout(f.u),f.u=null),Xa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Wa(f){if(!pl(f.h)&&!f.s){f.s=!0;var y=f.Ga;he||L(),Z||(he(),Z=!0),ve.add(y,f),f.B=0}}function pd(f,y){return _c(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ni(b(f.Ga,f,y),Rl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const q=new dr(this,this.j,f);let Q=this.o;if(this.S&&(Q?(Q=I(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(q.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Rc(this,q,y),_=ct(this.I),He(_,"RID",f),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),Ys(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(bl(Q)))+"&"+y:this.m&&kt(_,this.m,Q)),ji(this.h,q),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",y),He(_,"SID","null"),q.T=!0,er(q,_,null)):er(q,_,y),this.G=2}}else this.G==3&&(f?Sl(this,f):this.i.length==0||pl(this.h)||Sl(this))};function Sl(f,y){var _;y?_=y.l:_=f.U++;const R=ct(f.I);He(R,"SID",f.K),He(R,"RID",_),He(R,"AID",f.T),Ys(f,R),f.m&&f.o&&kt(R,f.m,f.o),_=new dr(f,f.j,_,f.B+1),f.m===null&&(_.H=f.o),y&&(f.i=y.D.concat(f.i)),y=Rc(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ji(f.h,_),er(_,R,y)}function Ys(f,y){f.H&&le(f.H,function(_,R){He(y,R,_)}),f.l&&js({},function(_,R){He(y,R,_)})}function Rc(f,y,_){_=Math.min(f.i.length,_);var R=f.l?b(f.l.Na,f.l,f):null;e:{var q=f.i;let Q=-1;for(;;){const oe=["count="+_];Q==-1?0<_?(Q=q[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let Ue=!0;for(let Rt=0;Rt<_;Rt++){let je=q[Rt].g;const Vt=q[Rt].map;if(je-=Q,0>je)Q=Math.max(0,q[Rt].g-100),Ue=!1;else try{gr(Vt,oe,"req"+je+"_")}catch{R&&R(Vt)}}if(Ue){R=oe.join("&");break e}}}return f=f.i.splice(0,_),y.D=f,R}function Cc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;he||L(),Z||(he(),Z=!0),ve.add(y,f),f.v=0}}function Al(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ni(b(f.Fa,f),Rl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,xc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ni(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Qa(this),xc(this))};function Ks(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function xc(f){f.g=new dr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=ct(f.qa);He(y,"RID","rpc"),He(y,"SID",f.K),He(y,"AID",f.T),He(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&He(y,"TO",f.ja),He(y,"TYPE","xmlhttp"),Ys(f,y),f.m&&f.o&&kt(y,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=Bs(ct(y)),_.m=null,_.P=!0,$r(_,f)}n.Za=function(){this.C!=null&&(this.C=null,Qa(this),Al(this),gt(19))};function Xa(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Ic(f,y){var _=null;if(f.g==y){Xa(f),Ks(f),f.g=null;var R=2}else if(Ui(f.h,y))_=y.D,Mn(f.h,y),R=1;else return;if(f.G!=0){if(y.o)if(R==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=f.B;R=Ua(),Mt(R,new pc(R,_)),Wa(f)}else Cc(f);else if(q=y.s,q==3||q==0&&0<y.X||!(R==1&&pd(f,y)||R==2&&Al(f)))switch(_&&0<_.length&&(y=f.h,y.i=y.i.concat(_)),q){case 1:Wr(f,5);break;case 4:Wr(f,10);break;case 3:Wr(f,6);break;default:Wr(f,2)}}}function Rl(f,y){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*y}function Wr(f,y){if(f.j.info("Error code "+y),y==2){var _=b(f.fb,f),R=f.Xa;const q=!R;R=new qr(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fi(R,"https"),Bs(R),q?bc(R.toString(),_):zs(R.toString(),_)}else gt(2);f.G=0,f.l&&f.l.sa(y),Dc(f),Ac(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Dc(f){if(f.G=0,f.ka=[],f.l){const y=on(f.h);(y.length!=0||f.i.length!=0)&&(k(f.ka,y),k(f.ka,f.i),f.h.i.length=0,P(f.i),f.i.length=0),f.l.ra()}}function Oc(f,y,_){var R=_ instanceof qr?ct(_):new qr(_);if(R.g!="")y&&(R.g=y+"."+R.g),Fs(R,R.s);else{var q=d.location;R=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Q=new qr(null);R&&Fi(Q,R),y&&(Q.g=y),q&&Fs(Q,q),_&&(Q.l=_),R=Q}return _=f.D,y=f.ya,_&&y&&He(R,_,y),He(R,"VER",f.la),Ys(f,R),R}function Nc(f,y,_){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Ge(new zi({eb:_})):new Ge(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mc(){}n=Mc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Za(){}Za.prototype.g=function(f,y){return new ln(f,y)};function ln(f,y){St.call(this),this.g=new Ka(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!G(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!G(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new _r(this)}x(ln,St),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){wl(this.g)},ln.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var _={};_.__data__=f,f=_}else this.u&&(_={},_.__data__=cl(f),f=_);y.i.push(new cd(y.Ya++,f)),y.G==3&&Wa(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,ln.aa.N.call(this)};function Pc(f){Ii.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const _ in y){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}x(Pc,Ii);function kc(){Jn.call(this),this.status=1}x(kc,Jn);function _r(f){this.g=f}x(_r,Mc),_r.prototype.ua=function(){Mt(this.g,"a")},_r.prototype.ta=function(f){Mt(this.g,new Pc(f))},_r.prototype.sa=function(f){Mt(this.g,new kc)},_r.prototype.ra=function(){Mt(this.g,"b")},Za.prototype.createWebChannel=Za.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,Uw=function(){return new Za},Lw=function(){return Ua()},Vw=Nn,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,Yf=At,Hr.COMPLETE="complete",kw=Hr,gc.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",St.prototype.listen=St.prototype.K,bu=gc,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,Pw=Ge}).apply(typeof Lf<"u"?Lf:typeof self<"u"?self:typeof window<"u"?window:{});const BE="@firebase/firestore",zE="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new Kp("@firebase/firestore");function xo(){return Ra.logLevel}function fe(n,...e){if(Ra.logLevel<=Me.DEBUG){const t=e.map(Xp);Ra.debug(`Firestore (${nl}): ${n}`,...t)}}function bi(n,...e){if(Ra.logLevel<=Me.ERROR){const t=e.map(Xp);Ra.error(`Firestore (${nl}): ${n}`,...t)}}function Bo(n,...e){if(Ra.logLevel<=Me.WARN){const t=e.map(Xp);Ra.warn(`Firestore (${nl}): ${n}`,...t)}}function Xp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n="Unexpected state"){const e=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+n;throw bi(e),new Error(e)}function Ke(n,e){n||be()}function Re(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ai{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class LN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UN{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new yi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new yi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string"),new jw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Jt(e)}}class jN{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class FN{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new jN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Qn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new HE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new HE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=zN(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ve(n,e){return n<e?-1:n>e?1:0}function zo(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,qE=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*qE);return new Ot(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$E)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Ot(0,0))}static max(){return new we(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="__name__";class Cr{constructor(e,t,i){t===void 0?t=0:t>e.length&&be(),i===void 0?i=e.length-t:i>e.length-t&&be(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Cr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Cr.isNumericId(e),a=Cr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Cr.extractNumericId(e).compare(Cr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class rt extends Cr{construct(e,t,i){return new rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const HN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Cr{construct(e,t,i){return new Yt(e,t,i)}static isValidIdentifier(e){return HN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GE}static keyField(){return new Yt([GE])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=-1;function $N(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=we.fromTimestamp(i===1e9?new Ot(t+1,0):new Ot(t,i));return new ws(a,_e.empty(),e)}function qN(n){return new ws(n.readTime,n.key,ju)}class ws{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ws(we.min(),_e.empty(),ju)}static max(){return new ws(we.max(),_e.empty(),ju)}}function GN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==YN)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,i)=>{t(e)})}static reject(e){return new ee((t,i)=>{i(e)})}static waitFor(e){return new ee((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=ee.resolve(!1);for(const i of e)t=t.next(a=>a?ee.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ee((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new ee((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function QN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function il(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Bh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=-1;function zh(n){return n==null}function fh(n){return n===0&&1/n==-1/0}function WN(n){return typeof n=="number"&&Number.isInteger(n)&&!fh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="";function XN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=YE(e)),e=ZN(n.get(t),e);return YE(e)}function ZN(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case Bw:t+="";break;default:t+=l}}return t}function YE(n){return n+Bw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Os(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uf(this.root,e,this.comparator,!0)}}class Uf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Gt.RED,this.left=a??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Gt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Gt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,i,a,l){return this}insert(e,t,i){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QE(this.data.getIterator())}getIteratorFrom(e){return new QE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class QE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new In([])}unionWith(e){let t=new Nt(Yt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Hw("Invalid base64 string: "+l):l}}(e);return new Kt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Kt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const JN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ss(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=JN.exec(n);if(Ke(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function As(n){return typeof n=="string"?Kt.fromBase64String(n):Kt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="server_timestamp",qw="__type__",Gw="__previous_value__",Yw="__local_write_time__";function Jp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qw])===null||t===void 0?void 0:t.stringValue)===$w}function Hh(n){const e=n.mapValue.fields[Gw];return Jp(e)?Hh(e):e}function Fu(n){const e=Ss(n.mapValue.fields[Yw].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,t,i,a,l,c,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const hh="(default)";class Bu{constructor(e,t){this.projectId=e,this.database=t||hh}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="__type__",tM="__max__",jf={mapValue:{}},Qw="__vector__",dh="value";function Rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Jp(n)?4:rM(n)?9007199254740991:nM(n)?10:11:be()}function kr(n,e){if(n===e)return!0;const t=Rs(n);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fu(n).isEqual(Fu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ss(a.timestampValue),d=Ss(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return As(a.bytesValue).isEqual(As(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return yt(a.geoPointValue.latitude)===yt(l.geoPointValue.latitude)&&yt(a.geoPointValue.longitude)===yt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return yt(a.integerValue)===yt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=yt(a.doubleValue),d=yt(l.doubleValue);return c===d?fh(c)===fh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return zo(n.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(KE(c)!==KE(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!kr(c[m],d[m])))return!1;return!0}(n,e);default:return be()}}function zu(n,e){return(n.values||[]).find(t=>kr(t,e))!==void 0}function Ho(n,e){if(n===e)return 0;const t=Rs(n),i=Rs(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=yt(l.integerValue||l.doubleValue),m=yt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return WE(n.timestampValue,e.timestampValue);case 4:return WE(Fu(n),Fu(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(l,c){const d=As(l),m=As(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=Ve(d[g],m[g]);if(v!==0)return v}return Ve(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=Ve(yt(l.latitude),yt(c.latitude));return d!==0?d:Ve(yt(l.longitude),yt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return XE(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,v;const T=l.fields||{},b=c.fields||{},w=(d=T[dh])===null||d===void 0?void 0:d.arrayValue,x=(m=b[dh])===null||m===void 0?void 0:m.arrayValue,P=Ve(((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0,((v=x==null?void 0:x.values)===null||v===void 0?void 0:v.length)||0);return P!==0?P:XE(w,x)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===jf.mapValue&&c===jf.mapValue)return 0;if(l===jf.mapValue)return 1;if(c===jf.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let T=0;T<m.length&&T<v.length;++T){const b=Ve(m[T],v[T]);if(b!==0)return b;const w=Ho(d[m[T]],g[v[T]]);if(w!==0)return w}return Ve(m.length,v.length)}(n.mapValue,e.mapValue);default:throw be()}}function WE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Ss(n),i=Ss(e),a=Ve(t.seconds,i.seconds);return a!==0?a:Ve(t.nanos,i.nanos)}function XE(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Ho(t[a],i[a]);if(l)return l}return Ve(t.length,i.length)}function $o(n){return ip(n)}function ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ss(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return As(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=ip(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${ip(t.fields[c])}`;return a+"}"}(n.mapValue):be()}function Kf(n){switch(Rs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(n);return e?16+Kf(e):16;case 5:return 2*n.stringValue.length;case 6:return As(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Kf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Os(i.fields,(l,c)=>{a+=l.length+Kf(c)}),a}(n.mapValue);default:throw be()}}function sp(n){return!!n&&"integerValue"in n}function ey(n){return!!n&&"arrayValue"in n}function ZE(n){return!!n&&"nullValue"in n}function JE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qf(n){return!!n&&"mapValue"in n}function nM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kw])===null||t===void 0?void 0:t.stringValue)===Qw}function xu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Os(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=xu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Qf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(t)}setAll(e){let t=Yt.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=xu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Qf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Os(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new En(xu(this.value))}}function Ww(n){const e=[];return Os(n.fields,(t,i)=>{const a=new Yt([t]);if(Qf(i)){const l=Ww(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,t,i,a){return new tn(e,1,t,we.min(),i,a,0)}static newNoDocument(e,t){return new tn(e,2,t,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t){this.position=e,this.inclusive=t}}function eT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=Ho(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function tT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t="asc"){this.field=e,this.dir=t}}function iM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{}class Dt extends Xw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new aM(e,t,i):t==="array-contains"?new uM(e,i):t==="in"?new cM(e,i):t==="not-in"?new fM(e,i):t==="array-contains-any"?new hM(e,i):new Dt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new oM(e,i):new lM(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ho(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends Xw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Vr(e,t)}matches(e){return Zw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Zw(n){return n.op==="and"}function Jw(n){return sM(n)&&Zw(n)}function sM(n){for(const e of n.filters)if(e instanceof Vr)return!1;return!0}function ap(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(Jw(n))return n.filters.map(e=>ap(e)).join(",");{const e=n.filters.map(t=>ap(t)).join(",");return`${n.op}(${e})`}}function eS(n,e){return n instanceof Dt?function(i,a){return a instanceof Dt&&i.op===a.op&&i.field.isEqual(a.field)&&kr(i.value,a.value)}(n,e):n instanceof Vr?function(i,a){return a instanceof Vr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&eS(c,a.filters[d]),!0):!1}(n,e):void be()}function tS(n){return n instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`}(n):n instanceof Vr?function(t){return t.op.toString()+" {"+t.getFilters().map(tS).join(" ,")+"}"}(n):"Filter"}class aM extends Dt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class oM extends Dt{constructor(e,t){super(e,"in",t),this.keys=nS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lM extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=nS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class uM extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ey(t)&&zu(t.arrayValue,this.value)}}class cM extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zu(this.value.arrayValue,t)}}class fM extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!zu(this.value.arrayValue,t)}}class hM extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>zu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function nT(n,e=null,t=[],i=[],a=null,l=null,c=null){return new dM(n,e,t,i,a,l,c)}function ty(n){const e=Re(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>ap(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>$o(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>$o(i)).join(",")),e.le=t}return e.le}function ny(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!tT(n.startAt,e.startAt)&&tT(n.endAt,e.endAt)}function op(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function mM(n,e,t,i,a,l,c,d){return new $h(n,e,t,i,a,l,c,d)}function ry(n){return new $h(n)}function rT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gM(n){return n.collectionGroup!==null}function Iu(n){const e=Re(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Nt(Yt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new gh(l,i))}),t.has(Yt.keyField().canonicalString())||e.he.push(new gh(Yt.keyField(),i))}return e.he}function Dr(n){const e=Re(n);return e.Pe||(e.Pe=pM(e,Iu(n))),e.Pe}function pM(n,e){if(n.limitType==="F")return nT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new gh(a.field,l)});const t=n.endAt?new mh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new mh(n.startAt.position,n.startAt.inclusive):null;return nT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function lp(n,e,t){return new $h(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qh(n,e){return ny(Dr(n),Dr(e))&&n.limitType===e.limitType}function rS(n){return`${ty(Dr(n))}|lt:${n.limitType}`}function Io(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>tS(a)).join(", ")}]`),zh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>$o(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>$o(a)).join(",")),`Target(${i})`}(Dr(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Iu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,m){const g=eT(c,d,m);return c.inclusive?g<=0:g<0}(i.startAt,Iu(i),a)||i.endAt&&!function(c,d,m){const g=eT(c,d,m);return c.inclusive?g>=0:g>0}(i.endAt,Iu(i),a))}(n,e)}function yM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iS(n){return(e,t)=>{let i=!1;for(const a of Iu(n)){const l=vM(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function vM(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Ho(m,g):be()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Os(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return zw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new lt(_e.comparator);function wi(){return _M}const sS=new lt(_e.comparator);function wu(...n){let e=sS;for(const t of n)e=e.insert(t.key,t);return e}function aS(n){let e=sS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function va(){return Du()}function oS(){return Du()}function Du(){return new Oa(n=>n.toString(),(n,e)=>n.isEqual(e))}const EM=new lt(_e.comparator),TM=new Nt(_e.comparator);function Pe(...n){let e=TM;for(const t of n)e=e.add(t);return e}const bM=new Nt(Ve);function wM(){return bM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function lS(n){return{integerValue:""+n}}function SM(n,e){return WN(e)?lS(e):iy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function AM(n,e,t){return n instanceof ph?function(a,l){const c={fields:{[qw]:{stringValue:$w},[Yw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Jp(l)&&(l=Hh(l)),l&&(c.fields[Gw]=l),{mapValue:c}}(t,e):n instanceof Hu?cS(n,e):n instanceof $u?fS(n,e):function(a,l){const c=uS(a,l),d=iT(c)+iT(a.Ie);return sp(c)&&sp(a.Ie)?lS(d):iy(a.serializer,d)}(n,e)}function RM(n,e,t){return n instanceof Hu?cS(n,e):n instanceof $u?fS(n,e):t}function uS(n,e){return n instanceof yh?function(i){return sp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class ph extends Yh{}class Hu extends Yh{constructor(e){super(),this.elements=e}}function cS(n,e){const t=hS(e);for(const i of n.elements)t.some(a=>kr(a,i))||t.push(i);return{arrayValue:{values:t}}}class $u extends Yh{constructor(e){super(),this.elements=e}}function fS(n,e){let t=hS(e);for(const i of n.elements)t=t.filter(a=>!kr(a,i));return{arrayValue:{values:t}}}class yh extends Yh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function iT(n){return yt(n.integerValue||n.doubleValue)}function hS(n){return ey(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function CM(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Hu&&a instanceof Hu||i instanceof $u&&a instanceof $u?zo(i.elements,a.elements,kr):i instanceof yh&&a instanceof yh?kr(i.Ie,a.Ie):i instanceof ph&&a instanceof ph}(n.transform,e.transform)}class xM{constructor(e,t){this.version=e,this.transformResults=t}}class Wn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Kh{}function dS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new sy(n.key,Wn.none()):new rc(n.key,n.data,Wn.none());{const t=n.data,i=En.empty();let a=new Nt(Yt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ns(n.key,i,new In(a.toArray()),Wn.none())}}function IM(n,e,t){n instanceof rc?function(a,l,c){const d=a.value.clone(),m=aT(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ns?function(a,l,c){if(!Wf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=aT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(mS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ou(n,e,t,i){return n instanceof rc?function(l,c,d,m){if(!Wf(l.precondition,c))return d;const g=l.value.clone(),v=oT(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ns?function(l,c,d,m){if(!Wf(l.precondition,c))return d;const g=oT(l.fieldTransforms,m,c),v=c.data;return v.setAll(mS(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return Wf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function DM(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=uS(i.transform,a||null);l!=null&&(t===null&&(t=En.empty()),t.set(i.field,l))}return t||null}function sT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&zo(i,a,(l,c)=>CM(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class rc extends Kh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ns extends Kh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function mS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function aT(n,e,t){const i=new Map;Ke(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,RM(c,d,t[a]))}return i}function oT(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,AM(l,c,e))}return i}class sy extends Kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OM extends Kh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&IM(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ou(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ou(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=oS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=dS(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(we.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,i)=>sT(t,i))&&zo(this.baseMutations,e.baseMutations,(t,i)=>sT(t,i))}}class ay{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ke(e.mutations.length===i.length);let a=function(){return EM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new ay(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,Be;function kM(n){switch(n){case se.OK:return be();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return be()}}function gS(n){if(n===void 0)return bi("GRPC error has no .code"),se.UNKNOWN;switch(n){case bt.OK:return se.OK;case bt.CANCELLED:return se.CANCELLED;case bt.UNKNOWN:return se.UNKNOWN;case bt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case bt.INTERNAL:return se.INTERNAL;case bt.UNAVAILABLE:return se.UNAVAILABLE;case bt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case bt.NOT_FOUND:return se.NOT_FOUND;case bt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case bt.ABORTED:return se.ABORTED;case bt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case bt.DATA_LOSS:return se.DATA_LOSS;default:return be()}}(Be=bt||(bt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new _s([4294967295,4294967295],0);function lT(n){const e=VM().encode(n),t=new Mw;return t.update(e),new Uint8Array(t.digest())}function uT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _s([t,i],0),new _s([a,l],0)]}class oy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Su(`Invalid padding: ${t}`);if(i<0)throw new Su(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Su(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=_s.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(_s.fromNumber(i)));return a.compare(LM)===1&&(a=new _s([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=lT(e),[i,a]=uT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new oy(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=lT(e),[i,a]=uT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Qh(we.min(),a,new lt(Ve),wi(),Pe())}}class ic{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ic(i,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class pS{constructor(e,t){this.targetId=e,this.ge=t}}class yS{constructor(e,t,i=Kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class cT{constructor(){this.pe=0,this.ye=fT(),this.we=Kt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Pe(),t=Pe(),i=Pe();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:be()}}),new ic(this.we,this.be,e,t,i)}Me(){this.Se=!1,this.ye=fT()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class UM{constructor(e){this.ke=e,this.qe=new Map,this.Qe=wi(),this.$e=Ff(),this.Ke=Ff(),this.Ue=new lt(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(op(l))if(i===0){const c=new _e(l.path);this.ze(t,c,tn.newNoDocument(c,we.min()))}else Ke(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),m=d?this.nt(d,e,c):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=As(i).toUint8Array()}catch(m){if(m instanceof Hw)return Bo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new oy(c,a,l)}catch(m){return Bo(m instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&op(d.target)){const m=new _e(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,tn.newNoDocument(m,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=Pe();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Qh(e,t,this.Ue,this.Qe,i);return this.Qe=wi(),this.$e=Ff(),this.Ke=Ff(),this.Ue=new lt(Ve),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new cT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Nt(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Nt(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ff(){return new lt(_e.comparator)}function fT(){return new lt(_e.comparator)}const jM={asc:"ASCENDING",desc:"DESCENDING"},FM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BM={and:"AND",or:"OR"};class zM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(n,e){return n.useProto3Json||zh(e)?e:{value:e}}function vh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HM(n,e){return vh(n,e.toTimestamp())}function Or(n){return Ke(!!n),we.fromTimestamp(function(t){const i=Ss(t);return new Ot(i.seconds,i.nanos)}(n))}function ly(n,e){return cp(n,e).canonicalString()}function cp(n,e){const t=function(a){return new rt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function _S(n){const e=rt.fromString(n);return Ke(SS(e)),e}function fp(n,e){return ly(n.databaseId,e.path)}function Dg(n,e){const t=_S(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(TS(t))}function ES(n,e){return ly(n.databaseId,e)}function $M(n){const e=_S(n);return e.length===4?rt.emptyPath():TS(e)}function hp(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TS(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function hT(n,e,t){return{name:fp(n,e),fields:t.value.mapValue.fields}}function qM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Ke(v===void 0||typeof v=="string"),Kt.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Kt.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?se.UNKNOWN:gS(g.code);return new pe(v,g.message||"")}(c);t=new yS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Dg(n,i.document.name),l=Or(i.document.updateTime),c=i.document.createTime?Or(i.document.createTime):we.min(),d=new En({mapValue:{fields:i.document.fields}}),m=tn.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Xf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Dg(n,i.document),l=i.readTime?Or(i.readTime):we.min(),c=tn.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Xf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Dg(n,i.document),l=i.removedTargetIds||[];t=new Xf([],l,a,null)}else{if(!("filter"in e))return be();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new PM(a,l),d=i.targetId;t=new pS(d,c)}}return t}function GM(n,e){let t;if(e instanceof rc)t={update:hT(n,e.key,e.value)};else if(e instanceof sy)t={delete:fp(n,e.key)};else if(e instanceof Ns)t={update:hT(n,e.key,e.data),updateMask:tP(e.fieldMask)};else{if(!(e instanceof OM))return be();t={verify:fp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof ph)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof $u)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof yh)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw be()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:HM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be()}(n,e.precondition)),t}function YM(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Or(a.updateTime):Or(l);return c.isEqual(we.min())&&(c=Or(l)),new xM(c,a.transformResults||[])}(t,e))):[]}function KM(n,e){return{documents:[ES(n,e.path)]}}function QM(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=ES(n,a);const l=function(g){if(g.length!==0)return wS(Vr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(b){return{field:Do(b.field),direction:ZM(b.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=up(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:a}}function WM(n){let e=$M(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ke(i===1);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const b=bS(T);return b instanceof Vr&&Jw(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(b=>function(x){return new gh(Oo(x.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,zh(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(T){const b=!!T.before,w=T.values||[];return new mh(w,b)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const b=!T.before,w=T.values||[];return new mh(w,b)}(t.endAt)),mM(e,a,c,l,d,"F",m,g)}function XM(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Oo(t.unaryFilter.field);return Dt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Oo(t.unaryFilter.field);return Dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(t.unaryFilter.field);return Dt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(t.unaryFilter.field);return Dt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):n.fieldFilter!==void 0?function(t){return Dt.create(Oo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vr.create(t.compositeFilter.filters.map(i=>bS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be()}function ZM(n){return jM[n]}function JM(n){return FM[n]}function eP(n){return BM[n]}function Do(n){return{fieldPath:n.canonicalString()}}function Oo(n){return Yt.fromServerFormat(n.fieldPath)}function wS(n){return n instanceof Dt?function(t){if(t.op==="=="){if(JE(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NAN"}};if(ZE(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(JE(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NAN"}};if(ZE(t.value))return{unaryFilter:{field:Do(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(t.field),op:JM(t.op),value:t.value}}}(n):n instanceof Vr?function(t){const i=t.getFilters().map(a=>wS(a));return i.length===1?i[0]:{compositeFilter:{op:eP(t.op),filters:i}}}(n):be()}function tP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,i,a,l=we.min(),c=we.min(),d=Kt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.Tt=e}}function rP(n){const e=WM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.Tn=new sP}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ws.min())}updateCollectionGroup(e,t,i){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class sP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Nt(rt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Nt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AS=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(AS,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new qo(0)}static Un(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="LruGarbageCollector",aP=1048576;function gT([n,e],[t,i]){const a=Ve(n,t);return a===0?Ve(e,i):a}class oP{constructor(e){this.Hn=e,this.buffer=new Nt(gT),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();gT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(mT,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){il(t)?fe(mT,"Ignoring IndexedDB error during garbage collection: ",t):await rl(t)}await this.er(3e5)})}}class uP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Bh.ae);const i=new oP(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(dT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dT):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(g=Date.now(),xo()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function cP(n,e){return new uP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.changes=new Oa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ee.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Ou(i.mutation,a,In.empty(),Ot.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Pe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Pe()){const a=va();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=wu();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=va();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Pe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=wi();const c=Du(),d=function(){return Du()}();return t.forEach((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ns)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ou(v.mutation,g,v.mutation.getFieldMask(),Ot.now())):c.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var T;return d.set(g,new hP(v,(T=c.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Du();let a=new lt((c,d)=>c-d),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let v=i.get(m)||In.empty();v=d.applyToLocalView(g,v),i.set(m,v);const T=(a.get(d.batchId)||Pe()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,T=oS();v.forEach(b=>{if(!l.has(b)){const w=dS(t.get(b),i.get(b));w!==null&&T.set(b,w),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ee.resolve(va());let d=ju,m=l;return c.next(g=>ee.forEach(g,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(b=>{m=m.insert(v,b)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Pe())).next(v=>({batchId:d,changes:aS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let a=wu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=wu();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,m=>{const g=function(T,b){return new $h(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,tn.newInvalidDocument(v)))});let d=wu();return c.forEach((m,g)=>{const v=l.get(m);v!==void 0&&Ou(v.mutation,g,In.empty(),Ot.now()),Gh(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Or(a.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:rP(a.bundledQuery),readTime:Or(a.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.overlays=new lt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const i=va();return ee.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ee.resolve()}getOverlaysForCollection(e,t,i){const a=va(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ee.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new lt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=va(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=va(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return ee.resolve(d)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new MM(t,i));let l=this.Rr.get(t);l===void 0&&(l=Pe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(){this.Vr=new Nt(Ft.mr),this.gr=new Nt(Ft.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ft(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ft(e,t))}br(e,t){e.forEach(i=>this.removeReference(i,t))}Sr(e){const t=new _e(new rt([])),i=new Ft(t,e),a=new Ft(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new rt([])),i=new Ft(t,e),a=new Ft(t,e+1);let l=Pe();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Ft(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ft{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(Ft.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new NM(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Ft(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Zp:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ft(t,0),a=new Ft(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nt(Ve);return t.forEach(a=>{const l=new Ft(a,0),c=new Ft(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),ee.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new Ft(new _e(l),0);let d=new Nt(Ve);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Cr)),!0)},c),ee.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ke(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ee.forEach(t.mutations,a=>{const l=new Ft(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ft(t,0),a=this.Mr.firstAfterOrEqual(i);return ee.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.kr=e,this.docs=function(){return new lt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ee.resolve(i?i.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let i=wi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():tn.newInvalidDocument(a))}),ee.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=wi();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||GN(qN(v),i)<=0||(a.has(v.key)||Gh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,i,a){be()}qr(e,t){return ee.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _P(this)}getSize(e){return ee.resolve(this.size)}}class _P extends fP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.persistence=e,this.Qr=new Oa(t=>ty(t),ny),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new uy,this.targetCount=0,this.Ur=qo.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new qo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ee.waitFor(l).next(()=>a)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ee.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ee.resolve()}removeMatchingKeys(e,t,i){this.Kr.br(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ee.resolve(i)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Bh(0),this.zr=!1,this.zr=!0,this.jr=new pP,this.referenceDelegate=e(this),this.Hr=new EP(this),this.indexManager=new iP,this.remoteDocumentCache=function(a){return new vP(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new nP(t),this.Yr=new mP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new yP(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const a=new TP(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ee.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class TP extends KN{constructor(e){super(),this.currentSequenceNumber=e}}class cy{constructor(e){this.persistence=e,this.ti=new uy,this.ni=null}static ri(e){return new cy(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ee.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,i=>{const a=_e.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,we.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class _h{constructor(e,t){this.persistence=e,this.oi=new Oa(i=>XN(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=cP(this,t)}static ri(e,t){return new _h(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ee.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,we.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kf(e.data.value)),t}ar(e,t,i){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ee.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=Pe(),a=Pe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new fy(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return pO()?8:QN(rn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new bP;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(xo()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(xo()<=Me.DEBUG&&fe("QueryEngine","Query:",Io(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(xo()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):ee.resolve())}rs(e,t){if(rT(t))return ee.resolve(null);let i=Dr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=lp(t,null,"F"),i=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Pe(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.cs(t,d);return this.ls(t,g,c,m.readTime)?this.rs(e,lp(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,i,a){return rT(t)||a.isEqual(we.min())?ee.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?ee.resolve(null):(xo()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Io(t)),this.hs(e,c,t,$N(a,ju)).next(d=>d))})}cs(e,t){let i=new Nt(iS(e));return t.forEach((a,l)=>{Gh(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return xo()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Io(t)),this.ns.getDocumentsMatchingQuery(e,t,ws.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="LocalStore",SP=3e8;class AP{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new lt(Ve),this.Is=new Oa(l=>ty(l),ny),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function RP(n,e,t,i){return new AP(n,e,t,i)}async function CS(n,e){const t=Re(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=Pe();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function CP(n,e){const t=Re(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,v){const T=g.batch,b=T.keys();let w=ee.resolve();return b.forEach(x=>{w=w.next(()=>v.getEntry(m,x)).next(P=>{const k=g.docVersions.get(x);Ke(k!==null),P.version.compareTo(k)<0&&(T.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),v.addEntry(P)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Pe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function xS(n){const e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function xP(n,e){const t=Re(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((v,T)=>{const b=a.get(T);if(!b)return;d.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,T)));let w=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?w=w.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,i)),a=a.insert(T,w),function(P,k,j){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=SP?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(b,w,v)&&d.push(t.Hr.updateTargetData(l,w))});let m=wi(),g=Pe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(IP(l,c,e.documentUpdates).next(v=>{m=v.Vs,g=v.fs})),!i.isEqual(we.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ee.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ts=a,l))}function IP(n,e,t){let i=Pe(),a=Pe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=wi();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(we.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):fe(hy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function DP(n,e){const t=Re(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Zp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function OP(n,e){const t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,ee.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new gs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function dp(n,e,t){const i=Re(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!il(c))throw c;fe(hy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function pT(n,e,t){const i=Re(n);let a=we.min(),l=Pe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,v){const T=Re(m),b=T.Is.get(v);return b!==void 0?ee.resolve(T.Ts.get(b)):T.Hr.getTargetData(g,v)}(i,c,Dr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:we.min(),t?l:Pe())).next(d=>(NP(i,yM(e),d),{documents:d,gs:l})))}function NP(n,e,t){let i=n.Es.get(e)||we.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class yT{constructor(){this.activeTargetIds=wM()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MP{constructor(){this.ho=new yT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new yT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="ConnectivityMonitor";class _T{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(vT,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(vT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf=null;function mp(){return Bf===null?Bf=function(){return 268435456+Math.round(2147483648*Math.random())}():Bf++,"0x"+Bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="RestConnection",kP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===hh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}bo(e,t,i,a,l){const c=mp(),d=this.So(e,t.toUriEncodedString());fe(Og,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(e,d,m,i).then(g=>(fe(Og,`Received RPC '${e}' ${c}: `,g),g),g=>{throw Bo(Og,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",i),g})}Co(e,t,i,a,l,c){return this.bo(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}So(e,t){const i=kP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class UP extends VP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=mp();return new Promise((c,d)=>{const m=new Pw;m.setWithCredentials(!0),m.listenOnce(kw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Yf.NO_ERROR:const v=m.getResponseJson();fe(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Yf.TIMEOUT:fe(Zt,`RPC '${e}' ${l} timed out`),d(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Yf.HTTP_ERROR:const T=m.getStatus();if(fe(Zt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b==null?void 0:b.error;if(w&&w.status&&w.message){const x=function(k){const j=k.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(j)>=0?j:se.UNKNOWN}(w.status);d(new pe(x,w.message))}else d(new pe(se.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new pe(se.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{fe(Zt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);fe(Zt,`RPC '${e}' ${l} sending request:`,a),m.send(t,"POST",g,i,15)})}Wo(e,t,i){const a=mp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Uw(),d=Lw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");fe(Zt,`Creating RPC '${e}' stream ${a}: ${v}`,m);const T=c.createWebChannel(v,m);let b=!1,w=!1;const x=new LP({Fo:k=>{w?fe(Zt,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(b||(fe(Zt,`Opening RPC '${e}' stream ${a} transport.`),T.open(),b=!0),fe(Zt,`RPC '${e}' stream ${a} sending:`,k),T.send(k))},Mo:()=>T.close()}),P=(k,j,G)=>{k.listen(j,$=>{try{G($)}catch(te){setTimeout(()=>{throw te},0)}})};return P(T,bu.EventType.OPEN,()=>{w||(fe(Zt,`RPC '${e}' stream ${a} transport opened.`),x.Qo())}),P(T,bu.EventType.CLOSE,()=>{w||(w=!0,fe(Zt,`RPC '${e}' stream ${a} transport closed`),x.Ko())}),P(T,bu.EventType.ERROR,k=>{w||(w=!0,Bo(Zt,`RPC '${e}' stream ${a} transport errored:`,k),x.Ko(new pe(se.UNAVAILABLE,"The operation could not be completed")))}),P(T,bu.EventType.MESSAGE,k=>{var j;if(!w){const G=k.data[0];Ke(!!G);const $=G,te=($==null?void 0:$.error)||((j=$[0])===null||j===void 0?void 0:j.error);if(te){fe(Zt,`RPC '${e}' stream ${a} received error:`,te);const ne=te.status;let le=function(C){const O=bt[C];if(O!==void 0)return gS(O)}(ne),V=te.message;le===void 0&&(le=se.INTERNAL,V="Unknown error status: "+ne+" with message "+te.message),w=!0,x.Ko(new pe(le,V)),T.close()}else fe(Zt,`RPC '${e}' stream ${a} received:`,G),x.Uo(G)}}),P(d,Vw.STAT_EVENT,k=>{k.stat===rp.PROXY?fe(Zt,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===rp.NOPROXY&&fe(Zt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n){return new zM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="PersistentStream";class DS{constructor(e,t,i,a,l,c,d,m){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new IS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(bi(t.toString()),bi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new pe(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(ET,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(fe(ET,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jP extends DS{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=qM(this.serializer,e),i=function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?Or(c.readTime):we.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=hp(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=op(m)?{documents:KM(l,m)}:{query:QM(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=vS(l,c.resumeToken);const g=up(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){d.readTime=vh(l,c.snapshotVersion.toTimestamp());const g=up(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=XM(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=hp(this.serializer),t.removeTarget=e,this.I_(t)}}class FP extends DS{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=YM(e.writeResults,e.commitTime),i=Or(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=hp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>GM(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{}class zP extends BP{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.bo(e,cp(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(se.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,cp(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(se.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class HP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(bi(t),this.N_=!1):fe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class $P{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Na(this)&&(fe(Ca,"Restarting streams for network reachability change."),await async function(m){const g=Re(m);g.W_.add(4),await sc(g),g.j_.set("Unknown"),g.W_.delete(4),await Xh(g)}(this))})}),this.j_=new HP(i,a)}}async function Xh(n){if(Na(n))for(const e of n.G_)await e(!0)}async function sc(n){for(const e of n.G_)await e(!1)}function OS(n,e){const t=Re(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),py(t)?gy(t):sl(t).c_()&&my(t,e))}function dy(n,e){const t=Re(n),i=sl(t);t.U_.delete(e),i.c_()&&NS(t,e),t.U_.size===0&&(i.c_()?i.P_():Na(t)&&t.j_.set("Unknown"))}function my(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sl(n).y_(e)}function NS(n,e){n.H_.Ne(e),sl(n).w_(e)}function gy(n){n.H_=new UM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),sl(n).start(),n.j_.B_()}function py(n){return Na(n)&&!sl(n).u_()&&n.U_.size>0}function Na(n){return Re(n).W_.size===0}function MS(n){n.H_=void 0}async function qP(n){n.j_.set("Online")}async function GP(n){n.U_.forEach((e,t)=>{my(n,e)})}async function YP(n,e){MS(n),py(n)?(n.j_.q_(e),gy(n)):n.j_.set("Unknown")}async function KP(n,e,t){if(n.j_.set("Online"),e instanceof yS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(n,e)}catch(i){fe(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Eh(n,i)}else if(e instanceof Xf?n.H_.We(e):e instanceof pS?n.H_.Ze(e):n.H_.je(e),!t.isEqual(we.min()))try{const i=await xS(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.U_.get(g);v&&l.U_.set(g,v.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const v=l.U_.get(m);if(!v)return;l.U_.set(m,v.withResumeToken(Kt.EMPTY_BYTE_STRING,v.snapshotVersion)),NS(l,m);const T=new gs(v.target,m,g,v.sequenceNumber);my(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){fe(Ca,"Failed to raise snapshot:",i),await Eh(n,i)}}async function Eh(n,e,t){if(!il(e))throw e;n.W_.add(1),await sc(n),n.j_.set("Offline"),t||(t=()=>xS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(Ca,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Xh(n)})}function PS(n,e){return e().catch(t=>Eh(n,t,e))}async function Zh(n){const e=Re(n),t=Cs(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Zp;for(;QP(e);)try{const a=await DP(e.localStore,i);if(a===null){e.K_.length===0&&t.P_();break}i=a.batchId,WP(e,a)}catch(a){await Eh(e,a)}kS(e)&&VS(e)}function QP(n){return Na(n)&&n.K_.length<10}function WP(n,e){n.K_.push(e);const t=Cs(n);t.c_()&&t.b_&&t.S_(e.mutations)}function kS(n){return Na(n)&&!Cs(n).u_()&&n.K_.length>0}function VS(n){Cs(n).start()}async function XP(n){Cs(n).C_()}async function ZP(n){const e=Cs(n);for(const t of n.K_)e.S_(t.mutations)}async function JP(n,e,t){const i=n.K_.shift(),a=ay.from(i,e,t);await PS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Zh(n)}async function ek(n,e){e&&Cs(n).b_&&await async function(i,a){if(function(c){return kM(c)&&c!==se.ABORTED}(a.code)){const l=i.K_.shift();Cs(i).h_(),await PS(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Zh(i)}}(n,e),kS(n)&&VS(n)}async function TT(n,e){const t=Re(n);t.asyncQueue.verifyOperationInProgress(),fe(Ca,"RemoteStore received new credentials");const i=Na(t);t.W_.add(3),await sc(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Xh(t)}async function tk(n,e){const t=Re(n);e?(t.W_.delete(2),await Xh(t)):e||(t.W_.add(2),await sc(t),t.j_.set("Unknown"))}function sl(n){return n.J_||(n.J_=function(t,i,a){const l=Re(t);return l.M_(),new jP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:qP.bind(null,n),No:GP.bind(null,n),Lo:YP.bind(null,n),p_:KP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),py(n)?gy(n):n.j_.set("Unknown")):(await n.J_.stop(),MS(n))})),n.J_}function Cs(n){return n.Y_||(n.Y_=function(t,i,a){const l=Re(t);return l.M_(),new FP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:XP.bind(null,n),Lo:ek.bind(null,n),D_:ZP.bind(null,n),v_:JP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Zh(n)):(await n.Y_.stop(),n.K_.length>0&&(fe(Ca,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new yy(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vy(n,e){if(bi("AsyncQueue",`${e}: ${n}`),il(n))return new pe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=wu(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(){this.Z_=new lt(_e.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Go{constructor(e,t,i,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Go(e,t,ko.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class rk{constructor(){this.queries=wT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=Re(t),l=a.queries;a.queries=wT(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(i)})})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function wT(){return new Oa(n=>rS(n),qh)}async function LS(n,e){const t=Re(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new nk,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=vy(c,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&_y(t)}async function US(n,e){const t=Re(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function ik(n,e){const t=Re(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&_y(t)}function sk(n,e,t){const i=Re(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function _y(n){n.ia.forEach(e=>{e.next()})}var gp,ST;(ST=gp||(gp={}))._a="default",ST.Cache="cache";class jS{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Go(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.key=e}}class BS{constructor(e){this.key=e}}class ak{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=iS(e),this.wa=new ko(this.ya)}get ba(){return this.fa}Sa(e,t){const i=t?t.Da:new bT,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,T)=>{const b=a.get(v),w=Gh(this.query,T)?T:null,x=!!b&&this.mutatedKeys.has(b.key),P=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let k=!1;b&&w?b.data.isEqual(w.data)?x!==P&&(i.track({type:3,doc:w}),k=!0):this.va(b,w)||(i.track({type:2,doc:w}),k=!0,(m&&this.ya(w,m)>0||g&&this.ya(w,g)<0)&&(d=!0)):!b&&w?(i.track({type:0,doc:w}),k=!0):b&&!w&&(i.track({type:1,doc:b}),k=!0,(m||g)&&(d=!0)),k&&(w?(c=c.add(w),l=P?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,T)=>function(w,x){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return P(w)-P(x)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(i),a=a!=null&&a;const d=t&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,g=m!==this.ga;return this.ga=m,c.length!==0||g?{snapshot:new Go(this.query,e.wa,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new bT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new BS(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new FS(i))}),t}Oa(e){this.fa=e.gs,this.pa=Pe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Go.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ey="SyncEngine";class ok{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class lk{constructor(e){this.key=e,this.Ba=!1}}class uk{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Oa(d=>rS(d),qh),this.qa=new Map,this.Qa=new Set,this.$a=new lt(_e.comparator),this.Ka=new Map,this.Ua=new uy,this.Wa={},this.Ga=new Map,this.za=qo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ck(n,e,t=!0){const i=YS(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await zS(i,e,t,!0),a}async function fk(n,e){const t=YS(n);await zS(t,e,!0,!1)}async function zS(n,e,t,i){const a=await OP(n.localStore,Dr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await hk(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&OS(n.remoteStore,a),d}async function hk(n,e,t,i,a){n.Ha=(T,b,w)=>async function(P,k,j,G){let $=k.view.Sa(j);$.ls&&($=await pT(P.localStore,k.query,!1).then(({documents:V})=>k.view.Sa(V,$)));const te=G&&G.targetChanges.get(k.targetId),ne=G&&G.targetMismatches.get(k.targetId)!=null,le=k.view.applyChanges($,P.isPrimaryClient,te,ne);return RT(P,k.targetId,le.Ma),le.snapshot}(n,T,b,w);const l=await pT(n.localStore,e,!0),c=new ak(e,l.gs),d=c.Sa(l.documents),m=ic.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,m);RT(n,t,g.Ma);const v=new ok(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function dk(n,e,t){const i=Re(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!qh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await dp(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&dy(i.remoteStore,a.targetId),pp(i,a.targetId)}).catch(rl)):(pp(i,a.targetId),await dp(i.localStore,a.targetId,!0))}async function mk(n,e){const t=Re(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),dy(t.remoteStore,i.targetId))}async function gk(n,e,t){const i=bk(n);try{const a=await function(c,d){const m=Re(c),g=Ot.now(),v=d.reduce((w,x)=>w.add(x.key),Pe());let T,b;return m.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=wi(),P=Pe();return m.ds.getEntries(w,v).next(k=>{x=k,x.forEach((j,G)=>{G.isValidDocument()||(P=P.add(j))})}).next(()=>m.localDocuments.getOverlayedDocuments(w,x)).next(k=>{T=k;const j=[];for(const G of d){const $=DM(G,T.get(G.key).overlayedDocument);$!=null&&j.push(new Ns(G.key,$,Ww($.value.mapValue),Wn.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,j,d)}).next(k=>{b=k;const j=k.applyToLocalDocumentSet(T,P);return m.documentOverlayCache.saveOverlays(w,k.batchId,j)})}).then(()=>({batchId:b.batchId,changes:aS(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Wa[c.currentUser.toKey()];g||(g=new lt(Ve)),g=g.insert(d,m),c.Wa[c.currentUser.toKey()]=g}(i,a.batchId,t),await ac(i,a.changes),await Zh(i.remoteStore)}catch(a){const l=vy(a,"Failed to persist write");t.reject(l)}}async function HS(n,e){const t=Re(n);try{const i=await xP(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?Ke(c.Ba):a.removedDocuments.size>0&&(Ke(c.Ba),c.Ba=!1))}),await ac(t,i,e)}catch(i){await rl(i)}}function AT(n,e,t){const i=Re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Re(c);m.onlineState=d;let g=!1;m.queries.forEach((v,T)=>{for(const b of T.ta)b.sa(d)&&(g=!0)}),g&&_y(m)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pk(n,e,t){const i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new lt(_e.comparator);c=c.insert(l,tn.newNoDocument(l,we.min()));const d=Pe().add(l),m=new Qh(we.min(),new Map,new lt(Ve),c,d);await HS(i,m),i.$a=i.$a.remove(l),i.Ka.delete(e),Ty(i)}else await dp(i.localStore,e,!1).then(()=>pp(i,e,t)).catch(rl)}async function yk(n,e){const t=Re(n),i=e.batch.batchId;try{const a=await CP(t.localStore,e);qS(t,i,null),$S(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ac(t,a)}catch(a){await rl(a)}}async function vk(n,e,t){const i=Re(n);try{const a=await function(c,d){const m=Re(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>(Ke(T!==null),v=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(i.localStore,e);qS(i,e,t),$S(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ac(i,a)}catch(a){await rl(a)}}function $S(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function qS(n,e,t){const i=Re(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function pp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(i=>{n.Ua.containsKey(i)||GS(n,i)})}function GS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(dy(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Ty(n))}function RT(n,e,t){for(const i of t)i instanceof FS?(n.Ua.addReference(i.key,e),_k(n,i)):i instanceof BS?(fe(Ey,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||GS(n,i.key)):be()}function _k(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(fe(Ey,"New document in limbo: "+t),n.Qa.add(i),Ty(n))}function Ty(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(rt.fromString(e)),i=n.za.next();n.Ka.set(i,new lk(t)),n.$a=n.$a.insert(t,i),OS(n.remoteStore,new gs(Dr(ry(t.path)),i,"TargetPurposeLimboResolution",Bh.ae))}}async function ac(n,e,t){const i=Re(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,m)=>{c.push(i.Ha(m,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){a.push(g);const T=fy.Yi(m.targetId,g);l.push(T)}}))}),await Promise.all(c),i.La.p_(a),await async function(m,g){const v=Re(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(g,b=>ee.forEach(b.Hi,w=>v.persistence.referenceDelegate.addReference(T,b.targetId,w)).next(()=>ee.forEach(b.Ji,w=>v.persistence.referenceDelegate.removeReference(T,b.targetId,w)))))}catch(T){if(!il(T))throw T;fe(hy,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const w=v.Ts.get(b),x=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(x);v.Ts=v.Ts.insert(b,P)}}}(i.localStore,l))}async function Ek(n,e){const t=Re(n);if(!t.currentUser.isEqual(e)){fe(Ey,"User change. New user:",e.toKey());const i=await CS(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new pe(se.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ac(t,i.Rs)}}function Tk(n,e){const t=Re(n),i=t.Ka.get(e);if(i&&i.Ba)return Pe().add(i.key);{let a=Pe();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.ba)}return a}}function YS(n){const e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pk.bind(null,e),e.La.p_=ik.bind(null,e.eventManager),e.La.Ja=sk.bind(null,e.eventManager),e}function bk(n){const e=Re(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vk.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return RP(this.persistence,new wP,e.initialUser,this.serializer)}Xa(e){return new RS(cy.ri,this.serializer)}Za(e){return new MP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class wk extends Th{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ke(this.persistence.referenceDelegate instanceof _h);const i=this.persistence.referenceDelegate.garbageCollector;return new lP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new RS(i=>_h.ri(i,t),this.serializer)}}class yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ek.bind(null,this.syncEngine),await tk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rk}()}createDatastore(e){const t=Wh(e.databaseInfo.databaseId),i=function(l){return new UP(l)}(e.databaseInfo);return function(l,c,d,m){return new zP(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new $P(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>AT(this.syncEngine,t,0),function(){return _T.D()?new _T:new PP}())}createSyncEngine(e,t){return function(a,l,c,d,m,g,v){const T=new uk(a,l,c,d,m,g);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Re(a);fe(Ca,"RemoteStore shutting down."),l.W_.add(5),await sc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):bi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class Sk{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Jt.UNAUTHENTICATED,this.clientId=Fw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{fe(xs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(fe(xs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=vy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Mg(n,e){n.asyncQueue.verifyOperationInProgress(),fe(xs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await CS(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function CT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Ak(n);fe(xs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>TT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>TT(e.remoteStore,a)),n._onlineComponents=e}async function Ak(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(xs,"Using user provided OfflineComponentProvider");try{await Mg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Bo("Error using user provided cache. Falling back to memory cache: "+t),await Mg(n,new Th)}}else fe(xs,"Using default OfflineComponentProvider"),await Mg(n,new wk(void 0));return n._offlineComponents}async function QS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(xs,"Using user provided OnlineComponentProvider"),await CT(n,n._uninitializedComponentsProvider._online)):(fe(xs,"Using default OnlineComponentProvider"),await CT(n,new yp))),n._onlineComponents}function Rk(n){return QS(n).then(e=>e.syncEngine)}async function WS(n){const e=await QS(n),t=e.eventManager;return t.onListen=ck.bind(null,e.syncEngine),t.onUnlisten=dk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mk.bind(null,e.syncEngine),t}function Ck(n,e,t={}){const i=new yi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new KS({next:b=>{v.su(),c.enqueueAndForget(()=>US(l,T));const w=b.docs.has(d);!w&&b.fromCache?g.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&m&&m.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new jS(ry(d.path),v,{includeMetadataChanges:!0,Ta:!0});return LS(l,T)}(await WS(n),n.asyncQueue,e,t,i)),i.promise}function xk(n,e,t={}){const i=new yi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const v=new KS({next:b=>{v.su(),c.enqueueAndForget(()=>US(l,T)),b.fromCache&&m.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new jS(d,v,{includeMetadataChanges:!0,Ta:!0});return LS(l,T)}(await WS(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n,e,t){if(!t)throw new pe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Ik(n,e,t,i){if(e===!0&&i===!0)throw new pe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IT(n){if(!_e.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DT(n){if(_e.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function by(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be()}function or(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=by(n);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firestore.googleapis.com",OT=!0;class NT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JS,this.ssl=OT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:OT;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aP)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ik("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new VN;switch(i.type){case"firstParty":return new FN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=xT.get(t);i&&(fe("ComponentProvider","Removing Datastore"),xT.delete(t),i.terminate())}(this),Promise.resolve()}}function Dk(n,e,t,i={}){var a;const l=(n=or(n,Jh))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==JS&&l.host!==d&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:i});if(!Sa(m,c)&&(n._setSettings(m),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=Jt.MOCK_USER;else{g=uO(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Jt(T)}n._authCredentials=new LN(new jw(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ed(this.firestore,e,this._query)}}class Tn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Es extends ed{constructor(e,t,i){super(e,t,ry(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new _e(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function MT(n,e,...t){if(n=dn(n),ZS("collection","path",e),n instanceof Jh){const i=rt.fromString(e,...t);return DT(i),new Es(n,null,i)}{if(!(n instanceof Tn||n instanceof Es))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return DT(i),new Es(n.firestore,null,i)}}function qu(n,e,...t){if(n=dn(n),arguments.length===1&&(e=Fw.newId()),ZS("doc","path",e),n instanceof Jh){const i=rt.fromString(e,...t);return IT(i),new Tn(n,null,new _e(i))}{if(!(n instanceof Tn||n instanceof Es))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(rt.fromString(e,...t));return IT(i),new Tn(n.firestore,n instanceof Es?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new IS(this,"async_queue_retry"),this.bu=()=>{const i=Ng();i&&fe(PT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=e;const t=Ng();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Ng();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new yi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!il(e))throw e;fe(PT,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw bi("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.Su=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=yy.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Ma extends Jh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new kT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function Ok(n,e){const t=typeof n=="object"?n:Dw(),i=typeof n=="string"?n:hh,a=Wp(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=oO("firestore");l&&Dk(a,...l)}return a}function wy(n){if(n._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Nk(n),n._firestoreClient}function Nk(n){var e,t,i;const a=n._freezeSettings(),l=function(d,m,g,v){return new eM(d,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,XS(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new Sk(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yo(Kt.fromBase64String(e))}catch(t){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=/^__.*__$/;class Pk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms):new rc(e,this.data,t,this.fieldTransforms)}}class eA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ns(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Cy{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Cy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(tA(this.Lu)&&Mk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class kk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Wh(e)}ju(e,t,i,a=!1){return new Cy({Lu:e,methodName:t,zu:i,path:Yt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xy(n){const e=n._freezeSettings(),t=Wh(n._databaseId);return new kk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nA(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);Iy("Data must be an object, but it was:",c,i);const d=rA(i,c);let m,g;if(l.merge)m=new In(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const b=vp(e,T,t);if(!c.contains(b))throw new pe(se.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);sA(v,b)||v.push(b)}m=new In(v),g=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=c.fieldTransforms;return new Pk(new En(d),m,g)}class nd extends Sy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nd}}function Vk(n,e,t,i){const a=n.ju(1,e,t);Iy("Data must be an object, but it was:",a,i);const l=[],c=En.empty();Os(i,(m,g)=>{const v=Dy(e,m,t);g=dn(g);const T=a.Ku(v);if(g instanceof nd)l.push(v);else{const b=rd(g,T);b!=null&&(l.push(v),c.set(v,b))}});const d=new In(l);return new eA(c,d,a.fieldTransforms)}function Lk(n,e,t,i,a,l){const c=n.ju(1,e,t),d=[vp(e,i,t)],m=[a];if(l.length%2!=0)throw new pe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(vp(e,l[b])),m.push(l[b+1]);const g=[],v=En.empty();for(let b=d.length-1;b>=0;--b)if(!sA(g,d[b])){const w=d[b];let x=m[b];x=dn(x);const P=c.Ku(w);if(x instanceof nd)g.push(w);else{const k=rd(x,P);k!=null&&(g.push(w),v.set(w,k))}}const T=new In(g);return new eA(v,T,c.fieldTransforms)}function rd(n,e){if(iA(n=dn(n)))return Iy("Unsupported field value:",e,n),rA(n,e);if(n instanceof Sy)return function(i,a){if(!tA(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let m=rd(d,a.Uu(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=dn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ot.fromDate(i);return{timestampValue:vh(a.serializer,l)}}if(i instanceof Ot){const l=new Ot(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vh(a.serializer,l)}}if(i instanceof Ay)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yo)return{bytesValue:vS(a.serializer,i._byteString)};if(i instanceof Tn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ly(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ry)return function(c,d){return{mapValue:{fields:{[Kw]:{stringValue:Qw},[dh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return iy(d.serializer,g)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${by(i)}`)}(n,e)}function rA(n,e){const t={};return zw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Os(n,(i,a)=>{const l=rd(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function iA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ot||n instanceof Ay||n instanceof Yo||n instanceof Tn||n instanceof Sy||n instanceof Ry)}function Iy(n,e,t){if(!iA(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=by(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function vp(n,e,t){if((e=dn(e))instanceof td)return e._internalPath;if(typeof e=="string")return Dy(n,e);throw bh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Uk=new RegExp("[~\\*/\\[\\]]");function Dy(n,e,t){if(e.search(Uk)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new td(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new pe(se.INVALID_ARGUMENT,d+n+m)}function sA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jk extends aA{data(){return super.data()}}function oA(n,e){return typeof e=="string"?Dy(n,e):e instanceof td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bk{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Os(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[dh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>yt(c.doubleValue));return new Ry(l)}convertGeoPoint(e){return new Ay(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Hh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const t=Ss(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=rt.fromString(e);Ke(SS(i));const a=new Bu(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return a.isEqual(t)||bi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uA extends aA{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(oA("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Zf extends uA{data(e={}){return super.data(e)}}class zk{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Au(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Zf(this._firestore,this._userDataWriter,i.key,i,new Au(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Zf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Zf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Au(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:Hk(d.type),doc:m,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Hk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(n){n=or(n,Tn);const e=or(n.firestore,Ma);return Ck(wy(e),n._key).then(t=>Wk(e,n,t))}class cA extends Bk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function qk(n){n=or(n,ed);const e=or(n.firestore,Ma),t=wy(e),i=new cA(e);return Fk(n._query),xk(t,n._query).then(a=>new zk(e,i,n,a))}function Gk(n,e,t){n=or(n,Tn);const i=or(n.firestore,Ma),a=lA(n.converter,e);return id(i,[nA(xy(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Wn.none())])}function Yk(n,e,t,...i){n=or(n,Tn);const a=or(n.firestore,Ma),l=xy(a);let c;return c=typeof(e=dn(e))=="string"||e instanceof td?Lk(l,"updateDoc",n._key,e,t,i):Vk(l,"updateDoc",n._key,e),id(a,[c.toMutation(n._key,Wn.exists(!0))])}function Kk(n){return id(or(n.firestore,Ma),[new sy(n._key,Wn.none())])}function Qk(n,e){const t=or(n.firestore,Ma),i=qu(n),a=lA(n.converter,e);return id(t,[nA(xy(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Wn.exists(!1))]).then(()=>i)}function id(n,e){return function(i,a){const l=new yi;return i.asyncQueue.enqueueAndForget(async()=>gk(await Rk(i),a,l)),l.promise}(wy(n),e)}function Wk(n,e,t){const i=t.docs.get(e._key),a=new cA(n);return new uA(n,a,e._key,i,new Au(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){nl=a})(tl),Fo(new Aa("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Ma(new UN(i.getProvider("auth-internal")),new BN(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),vs(BE,zE,e),vs(BE,zE,"esm2017")})();function Oy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function fA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xk=fA,hA=new tc("auth","Firebase",fA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Kp("@firebase/auth");function Zk(n,...e){wh.logLevel<=Me.WARN&&wh.warn(`Auth (${tl}): ${n}`,...e)}function Jf(n,...e){wh.logLevel<=Me.ERROR&&wh.error(`Auth (${tl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(n,...e){throw Ny(n,...e)}function Nr(n,...e){return Ny(n,...e)}function dA(n,e,t){const i=Object.assign(Object.assign({},Xk()),{[e]:t});return new tc("auth","Firebase",i).create(e,{appName:n.name})}function vi(n){return dA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ny(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return hA.create(n,...e)}function Te(n,e,...t){if(!n)throw Ny(e,...t)}function di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Jf(e),new Error(e)}function Si(n,e){n||di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Jk(){return VT()==="http:"||VT()==="https:"}function VT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jk()||dO()||"connection"in navigator)?navigator.onLine:!0}function tV(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Si(t>e,"Short delay should be less than long delay!"),this.isMobile=cO()||mO()}get(){return eV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n,e){Si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new oc(3e4,6e4);function Ms(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ps(n,e,t,i,a={}){return gA(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=nc(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return hO()||(g.referrerPolicy="no-referrer"),mA.fetch()(pA(n,n.config.apiHost,t,d),g)})}async function gA(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},nV),e);try{const a=new sV(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw zf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw zf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw zf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw zf(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw dA(n,v,g);lr(n,v)}}catch(a){if(a instanceof Ai)throw a;lr(n,"network-request-failed",{message:String(a)})}}async function lc(n,e,t,i,a={}){const l=await Ps(n,e,t,i,a);return"mfaPendingCredential"in l&&lr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function pA(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?My(n.config,a):`${n.config.apiScheme}://${a}`}function iV(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Nr(this.auth,"network-request-failed")),rV.get())})}}function zf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=Nr(n,e,i);return a.customData._tokenResponse=t,a}function LT(n){return n!==void 0&&n.enterprise!==void 0}class aV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iV(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oV(n,e){return Ps(n,"GET","/v2/recaptchaConfig",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(n,e){return Ps(n,"POST","/v1/accounts:delete",e)}async function yA(n,e){return Ps(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uV(n,e=!1){const t=dn(n),i=await t.getIdToken(e),a=Py(i);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Nu(Pg(a.auth_time)),issuedAtTime:Nu(Pg(a.iat)),expirationTime:Nu(Pg(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Pg(n){return Number(n)*1e3}function Py(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Jf("JWT malformed, contained fewer than 3 sections"),null;try{const a=ww(t);return a?JSON.parse(a):(Jf("Failed to decode base64 JWT payload"),null)}catch(a){return Jf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function UT(n){const e=Py(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ai&&cV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function cV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nu(this.lastLoginAt),this.creationTime=Nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Gu(n,yA(t,{idToken:i}));Te(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?vA(l.providerUserInfo):[],d=dV(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=m?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Ep(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function hV(n){const e=dn(n);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dV(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function vA(n){return n.map(e=>{var{providerId:t}=e,i=Oy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(n,e){const t=await gA(n,{},async()=>{const i=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=pA(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",mA.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function gV(n,e){return Ps(n,"POST","/v2/accounts:revokeToken",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=UT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await mV(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Vo;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class mi{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=Oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Ep(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Gu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uV(this,e)}reload(){return hV(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Sh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(vi(this.auth));const e=await this.getIdToken();return await Gu(this,lV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,m,g,v;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,w=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=t.photoURL)!==null&&c!==void 0?c:void 0,P=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,j=(g=t.createdAt)!==null&&g!==void 0?g:void 0,G=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:te,isAnonymous:ne,providerData:le,stsTokenManager:V}=t;Te($&&V,e,"internal-error");const I=Vo.fromJSON(this.name,V);Te(typeof $=="string",e,"internal-error"),us(T,e.name),us(b,e.name),Te(typeof te=="boolean",e,"internal-error"),Te(typeof ne=="boolean",e,"internal-error"),us(w,e.name),us(x,e.name),us(P,e.name),us(k,e.name),us(j,e.name),us(G,e.name);const C=new mi({uid:$,auth:e,email:b,emailVerified:te,displayName:T,isAnonymous:ne,photoURL:x,phoneNumber:w,tenantId:P,stsTokenManager:I,createdAt:j,lastLoginAt:G});return le&&Array.isArray(le)&&(C.providerData=le.map(O=>Object.assign({},O))),k&&(C._redirectEventId=k),C}static async _fromIdTokenResponse(e,t,i=!1){const a=new Vo;a.updateFromServerResponse(t);const l=new mi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Sh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?vA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Vo;d.updateFromIdToken(i);const m=new mi({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ep(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;function gi(n){Si(n instanceof Function,"Expected a class definition");let e=jT.get(n);return e?(Si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,jT.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_A.type="NONE";const FT=_A;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n,e,t){return`firebase:${n}:${e}:${t}`}class Lo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=eh(this.userKey,a.apiKey,l),this.fullPersistenceKey=eh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Lo(gi(FT),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||gi(FT);const c=eh(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){const T=mi._fromJSON(e,v);g!==l&&(d=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Lo(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Lo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AA(e))return"Blackberry";if(RA(e))return"Webos";if(TA(e))return"Safari";if((e.includes("chrome/")||bA(e))&&!e.includes("edge/"))return"Chrome";if(SA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function EA(n=rn()){return/firefox\//i.test(n)}function TA(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bA(n=rn()){return/crios\//i.test(n)}function wA(n=rn()){return/iemobile/i.test(n)}function SA(n=rn()){return/android/i.test(n)}function AA(n=rn()){return/blackberry/i.test(n)}function RA(n=rn()){return/webos/i.test(n)}function ky(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function pV(n=rn()){var e;return ky(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yV(){return gO()&&document.documentMode===10}function CA(n=rn()){return ky(n)||SA(n)||RA(n)||AA(n)||/windows phone/i.test(n)||wA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n,e=[]){let t;switch(n){case"Browser":t=BT(rn());break;case"Worker":t=`${BT(rn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(n,e={}){return Ps(n,"GET","/v2/passwordPolicy",Ms(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=6;class TV{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:EV,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zT(this),this.idTokenSubscription=new zT(this),this.beforeStateQueue=new vV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gi(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yA(this,{idToken:e}),i=await mi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(vi(this));const t=e?dn(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _V(this),t=new TV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await gV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gi(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[gi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Zk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pa(n){return dn(n)}class zT{constructor(e){this.auth=e,this.observer=null,this.addObserver=wO(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wV(n){sd=n}function IA(n){return sd.loadJS(n)}function SV(){return sd.recaptchaEnterpriseScript}function AV(){return sd.gapiScript}function RV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class CV{constructor(){this.enterprise=new xV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class xV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const IV="recaptcha-enterprise",DA="NO_RECAPTCHA";class DV{constructor(e){this.type=IV,this.auth=Pa(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{oV(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new aV(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;LT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(DA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&LT(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=SV();m.length!==0&&(m+=d),IA(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function HT(n,e,t,i=!1,a=!1){const l=new DV(n);let c;if(a)c=DA;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Tp(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await HT(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await HT(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(n,e){const t=Wp(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Sa(l,e??{}))return a;lr(a,"already-initialized")}return t.initialize({options:e})}function NV(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(gi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function MV(n,e,t){const i=Pa(n);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=OA(e),{host:c,port:d}=PV(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(Sa(g,i.config.emulator)&&Sa(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,kV()}function OA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function PV(n){const e=OA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:$T(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:$T(c)}}}function $T(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,t){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function VV(n,e){return Ps(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(n,e){return lc(n,"POST","/v1/accounts:signInWithPassword",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(n,e){return lc(n,"POST","/v1/accounts:signInWithEmailLink",Ms(n,e))}async function jV(n,e){return lc(n,"POST","/v1/accounts:signInWithEmailLink",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Vy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Yu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Yu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tp(e,t,"signInWithPassword",LV);case"emailLink":return UV(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Tp(e,i,"signUpPassword",VV);case"emailLink":return jV(e,{idToken:t,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(n,e){return lc(n,"POST","/v1/accounts:signInWithIdp",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="http://localhost";class xa extends Vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=Oy(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new xa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Uo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Uo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Uo(e,t)}buildRequest(){const e={requestUri:FV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zV(n){const e=Eu(Tu(n)).link,t=e?Eu(Tu(e)).deep_link_id:null,i=Eu(Tu(n)).deep_link_id;return(i?Eu(Tu(i)).link:null)||i||t||e||n}class Ly{constructor(e){var t,i,a,l,c,d;const m=Eu(Tu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,T=BV((a=m.mode)!==null&&a!==void 0?a:null);Te(g&&v&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=v,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=zV(e);try{return new Ly(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,t){return Yu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Ly.parseLink(t);return Te(i,"argument-error"),Yu._fromEmailAndCode(e,i.code,i.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends NA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends uc{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";fs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xa._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return hs.credential(t,i)}catch{return null}}}hs.GOOGLE_SIGN_IN_METHOD="google.com";hs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends uc{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends uc{constructor(){super("twitter.com")}static credential(e,t){return xa._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ms.credential(t,i)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(n,e){return lc(n,"POST","/v1/accounts:signUp",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await mi._fromIdTokenResponse(e,i,a),c=qT(i);return new Ia({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=qT(i);return new Ia({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function qT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Ai{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Ah(e,t,i,a)}}function MA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(n,l,e,i):l})}async function $V(n,e,t=!1){const i=await Gu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ia._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(n,e,t=!1){const{auth:i}=n;if(Qn(i.app))return Promise.reject(vi(i));const a="reauthenticate";try{const l=await Gu(n,MA(i,a,e,n),t);Te(l.idToken,i,"internal-error");const c=Py(l.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(n.uid===d,i,"user-mismatch"),Ia._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&lr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(n,e,t=!1){if(Qn(n.app))return Promise.reject(vi(n));const i="signIn",a=await MA(n,i,e),l=await Ia._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function GV(n,e){return PA(Pa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(n){const e=Pa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YV(n,e,t){if(Qn(n.app))return Promise.reject(vi(n));const i=Pa(n),c=await Tp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HV).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&kA(n),m}),d=await Ia._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function KV(n,e,t){return Qn(n.app)?Promise.reject(vi(n)):GV(dn(n),al.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&kA(n),i})}function QV(n,e,t,i){return dn(n).onIdTokenChanged(e,t,i)}function WV(n,e,t){return dn(n).beforeAuthStateChanged(e,t)}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=1e3,ZV=10;class LA extends VA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);yV()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,ZV):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},XV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LA.type="LOCAL";const JV=LA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends VA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}UA.type="SESSION";const jA=UA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new ad(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await eL(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Uy("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function nL(n){Mr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function rL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sL(){return FA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebaseLocalStorageDb",aL=1,Ch="firebaseLocalStorage",zA="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function od(n,e){return n.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function oL(){const n=indexedDB.deleteDatabase(BA);return new cc(n).toPromise()}function bp(){const n=indexedDB.open(BA,aL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ch,{keyPath:zA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ch)?e(i):(i.close(),await oL(),e(await bp()))})})}async function GT(n,e,t){const i=od(n,!0).put({[zA]:e,value:t});return new cc(i).toPromise()}async function lL(n,e){const t=od(n,!1).get(e),i=await new cc(t).toPromise();return i===void 0?null:i.value}function YT(n,e){const t=od(n,!0).delete(e);return new cc(t).toPromise()}const uL=800,cL=3;class HA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>cL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(sL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await rL(),!this.activeServiceWorker)return;this.sender=new tL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await GT(e,Rh,"1"),await YT(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>GT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>lL(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>YT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=od(a,!1).getAll();return new cc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HA.type="LOCAL";const fL=HA;new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(n,e){return e?gi(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends Vy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function dL(n){return PA(n.auth,new jy(n),n.bypassAuthState)}function mL(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),qV(t,new jy(n),n.bypassAuthState)}async function gL(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),$V(t,new jy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dL;case"linkViaPopup":case"linkViaRedirect":return gL;case"reauthViaPopup":case"reauthViaRedirect":return mL;default:lr(this.auth,"internal-error")}}resolve(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new oc(2e3,1e4);class No extends $A{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,No.currentPopupAction&&No.currentPopupAction.cancel(),No.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Si(this.filter.length===1,"Popup operations only handle one event");const e=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,No.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pL.get())};e()}}No.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL="pendingRedirect",th=new Map;class vL extends $A{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const i=await _L(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _L(n,e){const t=bL(e),i=TL(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function EL(n,e){th.set(n._key(),e)}function TL(n){return gi(n._redirectPersistence)}function bL(n){return eh(yL,n.config.apiKey,n.name)}async function wL(n,e,t=!1){if(Qn(n.app))return Promise.reject(vi(n));const i=Pa(n),a=hL(i,e),c=await new vL(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=10*60*1e3;class AL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RL(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!qA(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Nr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SL&&this.cachedEventUids.clear(),this.cachedEventUids.has(KT(e))}saveEventToCache(e){this.cachedEventUids.add(KT(e)),this.lastProcessedEventTime=Date.now()}}function KT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function qA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RL(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(n,e={}){return Ps(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IL=/^https?/;async function DL(n){if(n.config.emulator)return;const{authorizedDomains:e}=await CL(n);for(const t of e)try{if(OL(t))return}catch{}lr(n,"unauthorized-domain")}function OL(n){const e=_p(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!IL.test(t))return!1;if(xL.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=new oc(3e4,6e4);function QT(){const n=Mr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ML(n){return new Promise((e,t)=>{var i,a,l;function c(){QT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QT(),t(Nr(n,"network-request-failed"))},timeout:NL.get()})}if(!((a=(i=Mr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Mr().gapi)===null||l===void 0)&&l.load)c();else{const d=RV("iframefcb");return Mr()[d]=()=>{gapi.load?c():t(Nr(n,"network-request-failed"))},IA(`${AV()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw nh=null,e})}let nh=null;function PL(n){return nh=nh||ML(n),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL=new oc(5e3,15e3),VL="__/auth/iframe",LL="emulator/auth/iframe",UL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FL(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?My(e,LL):`https://${n.config.authDomain}/${VL}`,i={apiKey:e.apiKey,appName:n.name,v:tl},a=jL.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${nc(i).slice(1)}`}async function BL(n){const e=await PL(n),t=Mr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:FL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UL,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=Nr(n,"network-request-failed"),d=Mr().setTimeout(()=>{l(c)},kL.get());function m(){Mr().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HL=500,$L=600,qL="_blank",GL="http://localhost";class WT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YL(n,e,t,i=HL,a=$L){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},zL),{width:i.toString(),height:a.toString(),top:l,left:c}),g=rn().toLowerCase();t&&(d=bA(g)?qL:t),EA(g)&&(e=e||GL,m.scrollbars="yes");const v=Object.entries(m).reduce((b,[w,x])=>`${b}${w}=${x},`,"");if(pV(g)&&d!=="_self")return KL(e||"",d),new WT(null);const T=window.open(e||"",d,v);Te(T,n,"popup-blocked");try{T.focus()}catch{}return new WT(T)}function KL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="__/auth/handler",WL="emulator/auth/handler",XL=encodeURIComponent("fac");async function XT(n,e,t,i,a,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:tl,eventId:a};if(e instanceof NA){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",bO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof uc){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),g=m?`#${XL}=${encodeURIComponent(m)}`:"";return`${ZL(n)}?${nc(d).slice(1)}${g}`}function ZL({config:n}){return n.emulator?My(n,WL):`https://${n.authDomain}/${QL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="webStorageSupport";class JL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jA,this._completeRedirectFn=wL,this._overrideRedirectResult=EL}async _openPopup(e,t,i,a){var l;Si((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await XT(e,t,i,_p(),a);return YL(e,c,Uy())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await XT(e,t,i,_p(),a);return nL(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Si(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await BL(e),i=new AL(e);return t.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kg,{type:kg},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[kg];c!==void 0&&t(!!c),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=DL(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CA()||TA()||ky()}}const e4=JL;var ZT="@firebase/auth",JT="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r4(n){Fo(new Aa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xA(n)},g=new bV(i,a,l,m);return NV(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Fo(new Aa("auth-internal",e=>{const t=Pa(e.getProvider("auth").getImmediate());return(i=>new t4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(ZT,JT,n4(n)),vs(ZT,JT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=5*60,s4=Rw("authIdTokenMaxAge")||i4;let eb=null;const a4=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>s4)return;const a=t==null?void 0:t.token;eb!==a&&(eb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function o4(n=Dw()){const e=Wp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=OV(n,{popupRedirectResolver:e4,persistence:[fL,JV,jA]}),i=Rw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=a4(l.toString());WV(t,c,()=>c(t.currentUser)),QV(t,d=>c(d))}}const a=Sw("auth");return a&&MV(t,`http://${a}`),t}function l4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}wV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=Nr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",l4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r4("Browser");const u4={apiKey:"AIzaSyA8E3JH5VmBNtXJoUx9VVl8asN5ZToqZ2g",authDomain:"qmavite.firebaseapp.com",projectId:"qmavite",storageBucket:"qmavite.firebasestorage.app",messagingSenderId:"131758071430",appId:"1:131758071430:web:fe90b0b97a35d923d17b07",measurementId:"G-1YRF1PZ8WJ"},GA=VE().length===0?Iw(u4):VE()[0],Mo=Ok(GA),YA=o4(GA),c4=async(n,e)=>{try{return(await YV(YA,n,e)).user}catch(t){throw console.error("Error signing up:",t),t}},f4=async(n,e)=>{try{return(await KV(YA,n,e)).user}catch(t){throw console.error("Error signing in:",t),t}},h4="/assets/qma-logo--NUluzUL.png",d4=({show:n,onClose:e,onSignInSuccess:t})=>{const[i,a]=S.useState(null),[l,c]=S.useState(!1),[d,m]=S.useState("");if(!n)return null;const g=async T=>{T.preventDefault();const b=new FormData(T.target),w=b.get("email"),x=b.get("password");if(l)try{const P=d==="nemo"?"admin":"user",k=await c4(w,x),j=qu(Mo,"users",k.uid);await Gk(j,{email:w,role:P}),t(P),e()}catch{a("Error creating new account.")}else try{const P=await f4(w,x),k=qu(Mo,"users",P.uid),j=await $k(k);if(j.exists()){const G=j.data(),$=(G==null?void 0:G.role)||"user";t($),e()}else a("No user data found.")}catch{a("Invalid email or password")}},v=()=>{c(!l),a(null)};return U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/80",children:U.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-sm relative",children:[U.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900",children:"✕"}),U.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[U.jsx("img",{alt:"Your Company",src:h4,className:"mx-auto h-10 w-auto"}),U.jsx("h2",{className:"mt-4 text-center text-2xl font-bold text-gray-900",children:l?"Create a New Account":"Sign in to your account"})]}),U.jsxs("div",{className:"mt-6 sm:mx-auto sm:w-full sm:max-w-sm",children:[U.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i&&U.jsx("div",{className:"text-red-500 text-sm",children:i}),U.jsxs("div",{children:[U.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900",children:"Email address"}),U.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"email",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 focus:outline-indigo-600 sm:text-sm"})]}),U.jsxs("div",{children:[U.jsxs("div",{className:"flex items-center justify-between",children:[U.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900",children:"Password"}),!l&&U.jsx("a",{href:"#",className:"text-sm text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})]}),U.jsx("input",{id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 focus:outline-indigo-600 sm:text-sm"})]}),l&&U.jsxs("div",{children:[U.jsx("label",{htmlFor:"passcode",className:"block text-sm font-medium text-gray-900",children:"Special Passcode (for admin)"}),U.jsx("input",{id:"passcode",name:"passcode",type:"text",value:d,onChange:T=>m(T.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 focus:outline-indigo-600 sm:text-sm",placeholder:"Enter passcode"})]}),U.jsx("div",{children:U.jsx("button",{type:"submit",className:"w-full rounded-md bg-indigo-600 px-3 py-2 text-white font-medium hover:bg-indigo-500",children:l?"Create Account":"Sign in"})})]}),U.jsx("div",{className:"mt-4 text-center",children:U.jsx("button",{type:"button",onClick:v,className:"text-indigo-600 hover:text-indigo-500",children:l?"Already have an account? Sign in":"Need an account? Create one"})})]})]})})},m4=({show:n,onClose:e,onConfirm:t})=>n?U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/80",children:U.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-sm relative",children:[U.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900",children:"✕"}),U.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900",children:"Confirm Sign Out"}),U.jsx("p",{className:"mt-4 text-center text-gray-700",children:"Are you sure you want to sign out?"}),U.jsxs("div",{className:"mt-6 flex justify-center space-x-4",children:[U.jsx("button",{onClick:t,className:"rounded-md bg-red-600 px-3 py-2 text-white font-medium hover:bg-red-500",children:"Yes"}),U.jsx("button",{onClick:e,className:"rounded-md bg-gray-600 px-3 py-2 text-white font-medium hover:bg-gray-500",children:"No"})]})]})}):null,g4=({isSignedIn:n,onSignInSuccess:e,onSignOut:t})=>{const[i,a]=et.useState(!1),[l,c]=et.useState(!1),d=()=>{a(!0)},m=()=>{c(!0)},g=()=>{t(),c(!1)},v=()=>U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-8",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})});return U.jsxs(wg,{as:"nav",className:"bg-gray-800",children:[U.jsx("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:U.jsxs("div",{className:"relative flex h-18 items-center justify-between",children:[U.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center sm:hidden",children:U.jsxs(wg.Button,{className:"group relative inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:ring-2 focus:ring-white focus:outline-hidden focus:ring-inset",children:[U.jsx("span",{className:"absolute -inset-0.5"}),U.jsx("span",{className:"sr-only",children:"Open main menu"}),U.jsx(Y2,{"aria-hidden":"true",className:"block size-6 group-data-open:hidden"}),U.jsx(X2,{"aria-hidden":"true",className:"hidden size-6 group-data-open:block"})]})}),U.jsxs("div",{className:"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start content-center",children:[U.jsx("div",{className:"flex shrink-0 items-center content-center sm:justify-center",children:U.jsx("img",{alt:"Your Company",src:Z2,className:"w-25 pt-8 z-1"})}),U.jsx("div",{className:"hidden sm:ml-6 sm:block content-center",children:U.jsxs("div",{className:"flex space-x-4",children:[U.jsx(fn,{to:"/dashboard",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"Dashboard"}),U.jsx(fn,{to:"/team",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"Team"}),U.jsx(fn,{to:"/resources",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"Resources"}),U.jsx(fn,{to:"/events-schedule",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"Events & Schedule"})]})})]}),U.jsxs("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0",children:[U.jsxs("button",{type:"button",className:"relative rounded-full bg-gray-800 p-1 text-gray-400 hover:text-white focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-hidden",children:[U.jsx("span",{className:"absolute -inset-1.5"}),U.jsx("span",{className:"sr-only",children:"View notifications"}),U.jsx(Q2,{"aria-hidden":"true",className:"size-6"})]}),U.jsxs(q2,{as:"div",className:"relative ml-3",children:[U.jsx("div",{children:U.jsxs(_w,{className:"relative flex rounded-full bg-gray-800 text-sm focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800 focus:outline-hidden",children:[U.jsx("span",{className:"absolute -inset-1.5"}),U.jsx("span",{className:"sr-only",children:"Open user menu"}),n?U.jsx("img",{alt:"",src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",className:"size-8 rounded-full"}):U.jsx(v,{})]})}),U.jsxs(Ew,{transition:!0,className:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white py-1 ring-1 shadow-lg ring-black/5 transition focus:outline-hidden data-closed:scale-95 data-closed:transform data-closed:opacity-0 data-enter:duration-100 data-enter:ease-out data-leave:duration-75 data-leave:ease-in",children:[U.jsx(Xg,{children:U.jsx("a",{href:"#",className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden",children:"Settings"})}),U.jsx(Xg,{children:n?U.jsx("button",{onClick:m,className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden w-full text-left",children:"Sign out"}):U.jsx("button",{onClick:d,className:"block px-4 py-2 text-sm text-gray-700 data-focus:bg-gray-100 data-focus:outline-hidden w-full text-left",children:"Sign in"})})]})]})]})]})}),U.jsx(wg.Panel,{className:"sm:hidden",children:U.jsxs("div",{className:"space-y-1 px-2 pt-2 pb-3",children:[U.jsx(fn,{to:"/dashboard",className:"block rounded-md px-3 py-2 text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"Dashboard"}),U.jsx(fn,{to:"/team",className:"block rounded-md px-3 py-2 text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"Team"}),U.jsx(fn,{to:"/resources",className:"block rounded-md px-3 py-2 text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"Resources"}),U.jsx(fn,{to:"/events-schedule",className:"block rounded-md px-3 py-2 text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white",children:"Events & Schedule"})]})}),U.jsx(d4,{show:i,onClose:()=>a(!1),onSignInSuccess:e}),U.jsx(m4,{show:l,onClose:()=>c(!1),onConfirm:g})]})},p4="/assets/DojoBG-BvcKlCe2.JPG",y4=[{name:"Current Students",value:"200+"},{name:"Coaches",value:"3"},{name:"Days Per Week",value:"4"},{name:"Attendance",value:"Unlimited"}];function v4(){return U.jsxs("div",{className:"relative isolate overflow-hidden bg-gray-900 py-24 sm:py-32 h-[calc(50vh-4rem)] min-h-[50rem]",children:[U.jsx("img",{src:p4,alt:"Dojo Background",className:"absolute inset-0 -z-10 size-full object-cover object-center brightness-50 blur-sm overflow-hidden"}),U.jsxs("div",{className:"mx-auto max-w-7xl px-6 lg:px-8",children:[U.jsxs("div",{className:"mx-auto max-w-2xl lg:mx-0",children:[U.jsx("h2",{className:"text-5xl font-bold tracking-tight text-white sm:text-7xl leading-tight",children:"Join Us Today"}),U.jsx("p",{className:"mt-6 text-lg font-medium text-gray-300 sm:text-xl/8 leading-relaxed",children:"Here at Quantum, we strive to create a culture that values respect, integrity, and curiosity. We believe that our success is driven by our people, and we are committed to fostering an inclusive environment where everyone can thrive."})]}),U.jsx("div",{className:"mx-auto mt-16 max-w-2xl lg:mx-0 lg:max-w-none",children:U.jsx("dl",{className:"grid grid-cols-2 gap-8 sm:grid-cols-2 lg:grid-cols-4",children:y4.map(n=>U.jsxs("div",{className:"flex flex-col items-start gap-2 p-6",children:[U.jsx("dt",{className:"text-base font-medium text-gray-300",children:n.name}),U.jsx("dd",{className:"text-4xl font-bold text-white",children:n.value})]},n.name))})})]})]})}function _4(){const[n,e]=S.useState(null),t=a=>{e(n===a?null:a)},i=[{question:"How can I pay for my appointment?",answer:"You can pay using credit card, debit card, or PayPal."},{question:"What can I expect at my first consultation?",answer:"You will meet with our expert to discuss your goals and design a personalized plan."},{question:"What are your opening hours?",answer:"We are open from 9:00 AM to 6:00 PM, Monday through Saturday."},{question:"Do I need a referral?",answer:"No referral is needed. You can book directly through our website."},{question:"Is the cost of the appointment covered by private health insurance?",answer:"Some insurance plans may cover part or all of the cost. Please check with your provider."}];return U.jsx("section",{className:"bg-gray-800 py-16 px-8 rounded-lg shadow-lg mt-12 mx-auto max-w-6xl",children:U.jsxs("div",{className:"container mx-auto",children:[U.jsx("h2",{className:"text-4xl font-bold tracking-tight text-white text-center mb-10",children:"Frequently Asked Questions"}),U.jsx("div",{className:"space-y-6",children:i.map((a,l)=>U.jsxs("div",{className:`border border-gray-700 rounded-lg overflow-hidden transition-all duration-300 ${n===l?"bg-gray-700 shadow-md":""}`,children:[U.jsxs("button",{className:"w-full flex items-center justify-between text-left py-5 px-6 hover:bg-gray-700 transition duration-300",onClick:()=>t(l),children:[U.jsx("h3",{className:"text-lg font-medium text-white",children:a.question}),U.jsx("svg",{className:`w-6 h-6 text-blue-500 transform transition-transform duration-300 ${n===l?"rotate-45":"rotate-0"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:n===l?"M12 4v16m8-8H4":"M20 12H4"})})]}),U.jsx("div",{className:`transition-all duration-300 ${n===l?"max-h-40 opacity-100 py-4 px-6":"max-h-0 opacity-0 py-0 px-6"}`,children:U.jsx("p",{className:"text-gray-400 leading-relaxed",children:a.answer})})]},l))})]})})}function E4(){return U.jsxs("div",{className:"custom-bg custom-dark",children:[U.jsx(v4,{}),U.jsx(_4,{})]})}const KA=6048e5,T4=864e5,QA=6e4,WA=36e5,tb=Symbol.for("constructDateFrom");function Xn(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&tb in n?n[tb](e):n instanceof Date?new n.constructor(e):new Date(e)}function Bt(n,e){return Xn(e||n,n)}function b4(n,e,t){const i=Bt(n,t==null?void 0:t.in);return isNaN(e)?Xn(n,NaN):(i.setDate(i.getDate()+e),i)}function XA(n,e,t){const i=Bt(n,t==null?void 0:t.in);if(isNaN(e))return Xn(n,NaN);if(!e)return i;const a=i.getDate(),l=Xn(n,i.getTime());l.setMonth(i.getMonth()+e+1,0);const c=l.getDate();return a>=c?l:(i.setFullYear(l.getFullYear(),l.getMonth(),a),i)}let w4={};function fc(){return w4}function Ko(n,e){var d,m,g,v;const t=fc(),i=(e==null?void 0:e.weekStartsOn)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??t.weekStartsOn??((v=(g=t.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,a=Bt(n,e==null?void 0:e.in),l=a.getDay(),c=(l<i?7:0)+l-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function xh(n,e){return Ko(n,{...e,weekStartsOn:1})}function ZA(n,e){const t=Bt(n,e==null?void 0:e.in),i=t.getFullYear(),a=Xn(t,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=xh(a),c=Xn(t,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const d=xh(c);return t.getTime()>=l.getTime()?i+1:t.getTime()>=d.getTime()?i:i-1}function nb(n){const e=Bt(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Fy(n,...e){const t=Xn.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function Ih(n,e){const t=Bt(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function S4(n,e,t){const[i,a]=Fy(t==null?void 0:t.in,n,e),l=Ih(i),c=Ih(a),d=+l-nb(l),m=+c-nb(c);return Math.round((d-m)/T4)}function A4(n,e){const t=ZA(n,e),i=Xn(n,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),xh(i)}function rb(n,e,t){const[i,a]=Fy(t==null?void 0:t.in,n,e);return+Ih(i)==+Ih(a)}function R4(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function C4(n){return!(!R4(n)&&typeof n!="number"||isNaN(+Bt(n)))}function x4(n,e){const t=Bt(n,e==null?void 0:e.in),i=t.getMonth();return t.setFullYear(t.getFullYear(),i+1,0),t.setHours(23,59,59,999),t}function I4(n,e){const t=Bt(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function D4(n,e){const t=Bt(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function O4(n,e){var d,m;const t=fc(),i=t.weekStartsOn??((m=(d=t.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,a=Bt(n,e==null?void 0:e.in),l=a.getDay(),c=(l<i?-7:0)+6-(l-i);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const N4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},M4=(n,e,t)=>{let i;const a=N4[n];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function Vg(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const P4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},V4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},L4={date:Vg({formats:P4,defaultWidth:"full"}),time:Vg({formats:k4,defaultWidth:"full"}),dateTime:Vg({formats:V4,defaultWidth:"full"})},U4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},j4=(n,e,t,i)=>U4[n];function yu(n){return(e,t)=>{const i=t!=null&&t.context?String(t.context):"standalone";let a;if(i==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,d=t!=null&&t.width?String(t.width):c;a=n.formattingValues[d]||n.formattingValues[c]}else{const c=n.defaultWidth,d=t!=null&&t.width?String(t.width):n.defaultWidth;a=n.values[d]||n.values[c]}const l=n.argumentCallback?n.argumentCallback(e):e;return a[l]}}const F4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},z4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},H4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},q4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G4=(n,e)=>{const t=Number(n),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Y4={ordinalNumber:G4,era:yu({values:F4,defaultWidth:"wide"}),quarter:yu({values:B4,defaultWidth:"wide",argumentCallback:n=>n-1}),month:yu({values:z4,defaultWidth:"wide"}),day:yu({values:H4,defaultWidth:"wide"}),dayPeriod:yu({values:$4,defaultWidth:"wide",formattingValues:q4,defaultFormattingWidth:"wide"})};function vu(n){return(e,t={})=>{const i=t.width,a=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],d=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(d)?Q4(d,T=>T.test(c)):K4(d,T=>T.test(c));let g;g=n.valueCallback?n.valueCallback(m):m,g=t.valueCallback?t.valueCallback(g):g;const v=e.slice(c.length);return{value:g,rest:v}}}function K4(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Q4(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function W4(n){return(e,t={})=>{const i=e.match(n.matchPattern);if(!i)return null;const a=i[0],l=e.match(n.parsePattern);if(!l)return null;let c=n.valueCallback?n.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}const X4=/^(\d+)(th|st|nd|rd)?/i,Z4=/\d+/i,J4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eU={any:[/^b/i,/^(a|c)/i]},tU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nU={any:[/1/i,/2/i,/3/i,/4/i]},rU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uU={ordinalNumber:W4({matchPattern:X4,parsePattern:Z4,valueCallback:n=>parseInt(n,10)}),era:vu({matchPatterns:J4,defaultMatchWidth:"wide",parsePatterns:eU,defaultParseWidth:"any"}),quarter:vu({matchPatterns:tU,defaultMatchWidth:"wide",parsePatterns:nU,defaultParseWidth:"any",valueCallback:n=>n+1}),month:vu({matchPatterns:rU,defaultMatchWidth:"wide",parsePatterns:iU,defaultParseWidth:"any"}),day:vu({matchPatterns:sU,defaultMatchWidth:"wide",parsePatterns:aU,defaultParseWidth:"any"}),dayPeriod:vu({matchPatterns:oU,defaultMatchWidth:"any",parsePatterns:lU,defaultParseWidth:"any"})},cU={code:"en-US",formatDistance:M4,formatLong:L4,formatRelative:j4,localize:Y4,match:uU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fU(n,e){const t=Bt(n,e==null?void 0:e.in);return S4(t,D4(t))+1}function hU(n,e){const t=Bt(n,e==null?void 0:e.in),i=+xh(t)-+A4(t);return Math.round(i/KA)+1}function JA(n,e){var v,T,b,w;const t=Bt(n,e==null?void 0:e.in),i=t.getFullYear(),a=fc(),l=(e==null?void 0:e.firstWeekContainsDate)??((T=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(b=a.locale)==null?void 0:b.options)==null?void 0:w.firstWeekContainsDate)??1,c=Xn((e==null?void 0:e.in)||n,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const d=Ko(c,e),m=Xn((e==null?void 0:e.in)||n,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const g=Ko(m,e);return+t>=+d?i+1:+t>=+g?i:i-1}function dU(n,e){var d,m,g,v;const t=fc(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??t.firstWeekContainsDate??((v=(g=t.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,a=JA(n,e),l=Xn((e==null?void 0:e.in)||n,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Ko(l,e)}function mU(n,e){const t=Bt(n,e==null?void 0:e.in),i=+Ko(t,e)-+dU(t,e);return Math.round(i/KA)+1}function We(n,e){const t=n<0?"-":"",i=Math.abs(n).toString().padStart(e,"0");return t+i}const cs={y(n,e){const t=n.getFullYear(),i=t>0?t:1-t;return We(e==="yy"?i%100:i,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):We(t+1,2)},d(n,e){return We(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return We(n.getHours()%12||12,e.length)},H(n,e){return We(n.getHours(),e.length)},m(n,e){return We(n.getMinutes(),e.length)},s(n,e){return We(n.getSeconds(),e.length)},S(n,e){const t=e.length,i=n.getMilliseconds(),a=Math.trunc(i*Math.pow(10,t-3));return We(a,e.length)}},Co={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ib={G:function(n,e,t){const i=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const i=n.getFullYear(),a=i>0?i:1-i;return t.ordinalNumber(a,{unit:"year"})}return cs.y(n,e)},Y:function(n,e,t,i){const a=JA(n,i),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return We(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):We(l,e.length)},R:function(n,e){const t=ZA(n);return We(t,e.length)},u:function(n,e){const t=n.getFullYear();return We(t,e.length)},Q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return We(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,e,t){const i=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return We(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,e,t){const i=n.getMonth();switch(e){case"M":case"MM":return cs.M(n,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(n,e,t){const i=n.getMonth();switch(e){case"L":return String(i+1);case"LL":return We(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(n,e,t,i){const a=mU(n,i);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):We(a,e.length)},I:function(n,e,t){const i=hU(n);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):We(i,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):cs.d(n,e)},D:function(n,e,t){const i=fU(n);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):We(i,e.length)},E:function(n,e,t){const i=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(n,e,t,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return We(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(n,e,t,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return We(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(n,e,t){const i=n.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return We(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(n,e,t){const a=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,e,t){const i=n.getHours();let a;switch(i===12?a=Co.noon:i===0?a=Co.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,e,t){const i=n.getHours();let a;switch(i>=17?a=Co.evening:i>=12?a=Co.afternoon:i>=4?a=Co.morning:a=Co.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let i=n.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return cs.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):cs.H(n,e)},K:function(n,e,t){const i=n.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):We(i,e.length)},k:function(n,e,t){let i=n.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):We(i,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):cs.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):cs.s(n,e)},S:function(n,e){return cs.S(n,e)},X:function(n,e,t){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return ab(i);case"XXXX":case"XX":return ga(i);case"XXXXX":case"XXX":default:return ga(i,":")}},x:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"x":return ab(i);case"xxxx":case"xx":return ga(i);case"xxxxx":case"xxx":default:return ga(i,":")}},O:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sb(i,":");case"OOOO":default:return"GMT"+ga(i,":")}},z:function(n,e,t){const i=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sb(i,":");case"zzzz":default:return"GMT"+ga(i,":")}},t:function(n,e,t){const i=Math.trunc(+n/1e3);return We(i,e.length)},T:function(n,e,t){return We(+n,e.length)}};function sb(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),a=Math.trunc(i/60),l=i%60;return l===0?t+String(a):t+String(a)+e+We(l,2)}function ab(n,e){return n%60===0?(n>0?"-":"+")+We(Math.abs(n)/60,2):ga(n,e)}function ga(n,e=""){const t=n>0?"-":"+",i=Math.abs(n),a=We(Math.trunc(i/60),2),l=We(i%60,2);return t+a+e+l}const ob=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},eR=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},gU=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],i=t[1],a=t[2];if(!a)return ob(n,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",ob(i,e)).replace("{{time}}",eR(a,e))},pU={p:eR,P:gU},yU=/^D+$/,vU=/^Y+$/,_U=["D","DD","YY","YYYY"];function EU(n){return yU.test(n)}function TU(n){return vU.test(n)}function bU(n,e,t){const i=wU(n,e,t);if(console.warn(i),_U.includes(n))throw new RangeError(i)}function wU(n,e,t){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const SU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,AU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RU=/^'([^]*?)'?$/,CU=/''/g,xU=/[a-zA-Z]/;function da(n,e,t){var v,T,b,w;const i=fc(),a=i.locale??cU,l=i.firstWeekContainsDate??((T=(v=i.locale)==null?void 0:v.options)==null?void 0:T.firstWeekContainsDate)??1,c=i.weekStartsOn??((w=(b=i.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??0,d=Bt(n,t==null?void 0:t.in);if(!C4(d))throw new RangeError("Invalid time value");let m=e.match(AU).map(x=>{const P=x[0];if(P==="p"||P==="P"){const k=pU[P];return k(x,a.formatLong)}return x}).join("").match(SU).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const P=x[0];if(P==="'")return{isToken:!1,value:IU(x)};if(ib[P])return{isToken:!0,value:x};if(P.match(xU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(m=a.localize.preprocessor(d,m));const g={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return m.map(x=>{if(!x.isToken)return x.value;const P=x.value;(TU(P)||EU(P))&&bU(P,e,String(n));const k=ib[P[0]];return k(d,P,a.localize,g)}).join("")}function IU(n){const e=n.match(RU);return e?e[1].replace(CU,"'"):n}function DU(n,e,t){const[i,a]=Fy(t==null?void 0:t.in,n,e);return i.getFullYear()===a.getFullYear()&&i.getMonth()===a.getMonth()}function OU(n,e){const t=()=>Xn(e==null?void 0:e.in,NaN),a=kU(n);let l;if(a.date){const g=VU(a.date,2);l=LU(g.restDateString,g.year)}if(!l||isNaN(+l))return t();const c=+l;let d=0,m;if(a.time&&(d=UU(a.time),isNaN(d)))return t();if(a.timezone){if(m=jU(a.timezone),isNaN(m))return t()}else{const g=new Date(c+d),v=Bt(0,e==null?void 0:e.in);return v.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),v.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),v}return Bt(c+d+m,e==null?void 0:e.in)}const Hf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},NU=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,MU=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,PU=/^([+-])(\d{2})(?::?(\d{2}))?$/;function kU(n){const e={},t=n.split(Hf.dateTimeDelimiter);let i;if(t.length>2)return e;if(/:/.test(t[0])?i=t[0]:(e.date=t[0],i=t[1],Hf.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Hf.timeZoneDelimiter)[0],i=n.substr(e.date.length,n.length))),i){const a=Hf.timezone.exec(i);a?(e.time=i.replace(a[1],""),e.timezone=a[1]):e.time=i}return e}function VU(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=n.match(t);if(!i)return{year:NaN,restDateString:""};const a=i[1]?parseInt(i[1]):null,l=i[2]?parseInt(i[2]):null;return{year:l===null?a:l*100,restDateString:n.slice((i[1]||i[2]).length)}}function LU(n,e){if(e===null)return new Date(NaN);const t=n.match(NU);if(!t)return new Date(NaN);const i=!!t[4],a=_u(t[1]),l=_u(t[2])-1,c=_u(t[3]),d=_u(t[4]),m=_u(t[5])-1;if(i)return $U(e,d,m)?FU(e,d,m):new Date(NaN);{const g=new Date(0);return!zU(e,l,c)||!HU(e,a)?new Date(NaN):(g.setUTCFullYear(e,l,Math.max(a,c)),g)}}function _u(n){return n?parseInt(n):1}function UU(n){const e=n.match(MU);if(!e)return NaN;const t=Lg(e[1]),i=Lg(e[2]),a=Lg(e[3]);return qU(t,i,a)?t*WA+i*QA+a*1e3:NaN}function Lg(n){return n&&parseFloat(n.replace(",","."))||0}function jU(n){if(n==="Z")return 0;const e=n.match(PU);if(!e)return 0;const t=e[1]==="+"?-1:1,i=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return GU(i,a)?t*(i*WA+a*QA):NaN}function FU(n,e,t){const i=new Date(0);i.setUTCFullYear(n,0,4);const a=i.getUTCDay()||7,l=(e-1)*7+t+1-a;return i.setUTCDate(i.getUTCDate()+l),i}const BU=[31,null,31,30,31,30,31,31,30,31,30,31];function tR(n){return n%400===0||n%4===0&&n%100!==0}function zU(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(BU[e]||(tR(n)?29:28))}function HU(n,e){return e>=1&&e<=(tR(n)?366:365)}function $U(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function qU(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function GU(n,e){return e>=0&&e<=59}function YU(n,e,t){return XA(n,-1,t)}/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nR=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>S.createElement("svg",{ref:m,...QU,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:nR("lucide",a),...d},[...c.map(([g,v])=>S.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=(n,e)=>{const t=S.forwardRef(({className:i,...a},l)=>S.createElement(WU,{ref:l,iconNode:e,className:nR(`lucide-${KU(n)}`,i),...a}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ZU=By("ChevronLeft",XU);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],e6=By("ChevronRight",JU);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],n6=By("CirclePlus",t6),r6=({isAdmin:n})=>{const[e,t]=S.useState(new Date),[i,a]=S.useState(null),[l,c]=S.useState([]),[d,m]=S.useState(""),[g,v]=S.useState(""),[T,b]=S.useState(null),w=I4(e),x=x4(e),P=Ko(w),k=O4(x),j=[];let G=P;for(;G<=k;)j.push(G),G=b4(G,1);const $=()=>t(YU(e)),te=()=>t(XA(e,1));S.useEffect(()=>{(async()=>{const N=(await qk(MT(Mo,"events"))).docs.map(Se=>({id:Se.id,...Se.data()}));c(N)})()},[]);const ne=async()=>{if(i&&d.trim()){const D={date:da(i,"yyyy-MM-dd"),title:d,time:g},F=await Qk(MT(Mo,"events"),D);c([...l,{id:F.id,...D}]),m(""),v("")}},le=async D=>{await Kk(qu(Mo,"events",D)),c(l.filter(F=>F.id!==D))},V=D=>{b(D.id),m(D.title),v(D.time||"")},I=async()=>{if(T&&d.trim()){const D={title:d,time:g},F=qu(Mo,"events",T);await Yk(F,D),c(l.map(N=>N.id===T?{...N,...D}:N)),b(null),m(""),v("")}},C=D=>l.filter(F=>F.date===da(D,"yyyy-MM-dd")),O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return U.jsxs("div",{className:"relative w-full max-w-7xl flex flex-col items-center p-6 bg-gray-800 rounded-lg shadow-lg",children:[U.jsx("input",{type:"date",value:da(e,"yyyy-MM-dd"),onChange:D=>t(OU(D.target.value)),className:"mb-4 p-2 rounded bg-gray-700 text-white border border-gray-600 focus:outline-none"}),U.jsxs("div",{className:"flex items-center justify-between w-full mb-4",children:[U.jsx("button",{onClick:$,className:"p-2 rounded-full bg-gray-700 text-white hover:bg-gray-600 transition",children:U.jsx(ZU,{size:24})}),U.jsx("h2",{className:"text-3xl font-bold text-white",children:da(e,"MMMM yyyy")}),U.jsx("button",{onClick:te,className:"p-2 rounded-full bg-gray-700 text-white hover:bg-gray-600 transition",children:U.jsx(e6,{size:24})})]}),U.jsx("div",{className:"grid grid-cols-7 gap-2 w-full text-center text-gray-400 font-semibold text-lg",children:O.map((D,F)=>U.jsx("div",{className:"py-3",children:D},F))}),U.jsx("div",{className:"grid grid-cols-7 gap-2 w-full",children:j.map((D,F)=>{const N=rb(D,new Date),Se=i&&rb(D,i),Le=C(D),ae=DU(D,e);return U.jsxs("div",{onClick:()=>a(D),className:`relative flex flex-col items-start p-1 border border-gray-600 rounded-lg cursor-pointer transition duration-200 overflow-hidden
              ${N?"bg-blue-500 text-white font-bold":"bg-gray-900 text-gray-300"}
              ${Se?"outline outline-4 outline-yellow-500":""}
              ${ae?"":"opacity-50"}`,style:{aspectRatio:"1.25 / 1"},children:[U.jsx("span",{className:"text-sm md:text-xl font-semibold",children:da(D,"d")}),U.jsxs("div",{className:"mt-2 text-sm text-yellow-400 w-full overflow-hidden",children:[Le.slice(0,2).map((he,Z)=>U.jsxs("p",{className:"truncate",children:[he.title," ",U.jsx("br",{})," ",he.time&&U.jsxs("span",{className:"text-gray-400",children:["at ",he.time]})]},Z)),Le.length>2&&U.jsx("p",{className:"text-xs text-gray-400",children:"+ more"})]})]},F)})}),n&&i&&U.jsxs("div",{className:"w-full p-4 bg-gray-700 rounded-lg shadow-lg mt-4",children:[U.jsxs("h3",{className:"text-lg font-bold text-white mb-2",children:["Add Event for ",da(i,"MMMM d, yyyy")]}),U.jsxs("div",{className:"flex items-center mb-4",children:[U.jsx("input",{type:"text",value:d,onChange:D=>m(D.target.value),className:"flex-1 p-3 bg-gray-800 text-white rounded border border-gray-600",placeholder:"Event title..."}),U.jsx("input",{type:"time",className:"ml-2 p-3 bg-gray-800 text-white rounded border border-gray-600",value:g,onChange:D=>v(D.target.value),placeholder:"Event time"}),U.jsx("button",{onClick:ne,className:"ml-2 p-3 bg-blue-500 text-white rounded hover:bg-blue-600 transition",children:U.jsx(n6,{size:24})})]})]}),i&&U.jsxs("div",{className:"bg-gray-800 p-3 rounded-lg mt-4 w-full",children:[U.jsxs("h4",{className:"text-white font-semibold mb-2",children:["Events for ",da(i,"MMMM d, yyyy"),":"]}),C(i).map((D,F)=>U.jsxs("div",{className:"flex justify-between items-center mb-2 p-4 bg-gray-900 rounded-lg hover:bg-gray-700 transition duration-300 ease-in-out",children:[U.jsxs("span",{className:"text-yellow-400",children:[D.title," at ",D.time]}),n&&U.jsxs(U.Fragment,{children:[U.jsx("button",{onClick:()=>V(D),className:"text-blue-500 font-semibold px-4 py-2 rounded hover:bg-blue-600 hover:text-white transition duration-200",children:"Edit"}),U.jsx("button",{onClick:()=>le(D.id),className:"text-red-500 font-semibold px-4 py-2 rounded hover:bg-red-600 hover:text-white transition duration-200",children:"Delete"})]})]},F))]}),T&&U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900/50",children:U.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-sm",children:[U.jsx("button",{onClick:()=>b(null),className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900",children:"✕"}),U.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Edit Event"}),U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Title"}),U.jsx("input",{type:"text",value:d,onChange:D=>m(D.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 focus:outline-indigo-600 sm:text-sm",placeholder:"Event title"})]}),U.jsxs("div",{className:"mb-4",children:[U.jsx("label",{className:"block text-sm font-medium text-gray-900",children:"Time"}),U.jsx("input",{type:"time",value:g,onChange:D=>v(D.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 focus:outline-indigo-600 sm:text-sm"})]}),U.jsxs("div",{className:"flex justify-between",children:[U.jsx("button",{onClick:()=>b(null),className:"px-4 py-2 bg-gray-400 text-white rounded-md hover:bg-gray-500",children:"Cancel"}),U.jsx("button",{onClick:I,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:"Save"})]})]})})]})};function i6(){return U.jsx("section",{className:"p-10 bg-gray-800 rounded-lg shadow-lg",children:U.jsxs("div",{className:"container px-6 py-10 mx-auto",children:[U.jsx("h1",{className:"text-4xl font-bold text-gray-100 text-center",children:"Weekly Schedule"}),U.jsx("hr",{className:"my-6 border-gray-700"}),U.jsx("ul",{className:"text-gray-300 space-y-10",children:[{day:"Monday",events:["5:00 PM - Taekwondo / Kids (Under 12)","6:00 PM - Taekwondo / Adults (Over 12)"]},{day:"Tuesday",events:["4:00 PM - Little Tigers (Ages 4-5)","5:00 PM - Taekwondo Sparring / Kids (Under 12)","6:00 PM - Taekwondo Sparring / Adults (Over 12)"]},{day:"Wednesday",events:["5:00 PM - Taekwondo Forms / Kids (Under 12)","6:00 PM - Taekwondo Forms / Adults (Over 12)"]},{day:"Thursday",events:["4:00 PM - Little Tigers (Ages 4-5)","5:00 PM - Judo | Hapkido / Kids (Under 12)","6:00 PM - Judo | Hapkido / Adults (Over 12)"]},{day:"Saturday",events:["8:00 AM - Advanced Strength & Conditioning","9:30 AM - Beginning Strength & Conditioning"]}].map(({day:n,events:e})=>U.jsxs("li",{className:"flex flex-col gap-4 bg-gray-900 p-4 rounded-md shadow-md",children:[U.jsxs("strong",{className:"text-2xl text-gray-100 border-l-4 border-yellow-500 pl-4",children:[n,":"]}),e.map((t,i)=>U.jsx("span",{className:"ml-6 text-lg text-gray-300",children:t},i))]},n))})]})})}function s6({isAdmin:n}){return U.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen custom-bg custom-dark py-12 px-4 sm:px-6 lg:px-8",children:U.jsxs("div",{className:"w-full max-w-7xl space-y-8 items-center justify-center",children:[U.jsx("h1",{className:"text-4xl font-bold text-gray-100 text-center",children:"Events & Schedule"}),U.jsx(r6,{isAdmin:n}),U.jsx(i6,{})]})})}const a6=[{name:"forms",description:"Go to the forms page so you can study and learn the different Forms of Kyuki-Do."},{name:"tenets",description:`There are SIX different Tenets of Kyuki-do.
Go to the Tenets Page to learn the different tenets and how we can exhibit them.`},{name:"pledges",description:`Along with our Tenets, there are also FIVE pledges that students must make.
Go to the Pledges page to learn the different pledges.`},{name:"judo",description:`Judo is a wonderful martial art that we like to participate in occasionally.
In class, we will talk about different judo throws, using their Japanese names.
To help with recognizing these throws and their names, go to the Judo page to learn them.`}];function o6(){return U.jsxs("section",{className:"flex flex-col gap-8 items-center justify-start pt-20 h-full w-full",children:[U.jsx("h2",{className:"text-4xl font-bold tracking-tight text-white mb-10",children:"Resources"}),U.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-8 w-full max-w-6xl",children:a6.map(n=>U.jsx(fn,{to:`/resources/${n.name}`,className:"w-full transition-transform duration-300 ease-in-out hover:scale-105",children:U.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-lg hover:shadow-2xl border border-gray-700 hover:border-yellow-500 transition-colors h-[250px] flex flex-col items-center justify-center text-center",children:[U.jsx("h3",{className:"text-3xl font-semibold text-white capitalize mb-2",children:n.name}),U.jsx("div",{className:"text-lg text-gray-400 leading-relaxed overflow-hidden line-clamp-4",children:n.description.split(`
`).map((e,t)=>U.jsx("p",{children:e},t))})]})},n.name))})]})}function l6(){return U.jsxs("div",{children:[U.jsx(fn,{to:"/resources",children:U.jsx("h1",{children:"Back to Resources"})}),U.jsx("h1",{children:"Forms Page"}),U.jsx("p",{children:"This is the Forms page."})]})}function u6(){return U.jsxs("div",{children:[U.jsx(fn,{to:"/resources",children:U.jsx("h1",{children:"Back to Resources"})}),U.jsx("h1",{children:"Tenets Page"}),U.jsx("p",{children:"This is the Tenets page."})]})}function c6(){return U.jsxs("div",{children:[U.jsx(fn,{to:"/resources",children:U.jsx("h1",{children:"Back to Resources"})}),U.jsx("h1",{children:"Pledges Page"}),U.jsx("p",{children:"This is the Pledge page."})]})}function f6(){return U.jsxs("div",{children:[U.jsx(fn,{to:"/resources",children:U.jsx("h1",{children:"Back to Resources"})}),U.jsx("h1",{children:"Judo Page"}),U.jsx("p",{children:"This is the Judo page."})]})}function h6(){const[n,e]=S.useState(()=>{const c=localStorage.getItem("isSignedIn");return c?JSON.parse(c):!1}),[t,i]=S.useState(()=>localStorage.getItem("userRole")),a=c=>{e(!0),i(c),localStorage.setItem("isSignedIn",JSON.stringify(!0)),localStorage.setItem("userRole",c)},l=()=>{e(!1),i(null),localStorage.removeItem("isSignedIn"),localStorage.removeItem("userRole")};return S.useEffect(()=>{const c=localStorage.getItem("isSignedIn"),d=localStorage.getItem("userRole");c&&e(JSON.parse(c)),d&&i(d)},[]),U.jsx(XC,{children:U.jsxs("div",{className:"App",children:[U.jsx(g4,{isSignedIn:n,onSignInSuccess:a,onSignOut:l}),U.jsxs(xC,{children:[U.jsx(Rr,{path:"/",element:U.jsx(RC,{to:"/dashboard"})}),U.jsx(Rr,{path:"/dashboard",element:U.jsx(E4,{})}),U.jsx(Rr,{path:"/team",element:U.jsx("div",{children:"Team Component"})}),U.jsx(Rr,{path:"/resources",element:U.jsx(o6,{})}),U.jsx(Rr,{path:"/events-schedule",element:U.jsx(s6,{isAdmin:t==="admin"})}),U.jsx(Rr,{path:"/resources/forms",element:U.jsx(l6,{})}),U.jsx(Rr,{path:"/resources/tenets",element:U.jsx(u6,{})}),U.jsx(Rr,{path:"/resources/pledges",element:U.jsx(c6,{})}),U.jsx(Rr,{path:"/resources/judo",element:U.jsx(f6,{})})]})]})})}L1.createRoot(document.getElementById("root")).render(U.jsx(S.StrictMode,{children:U.jsx("div",{className:"min-h-screen custom-bg custom-dark",children:U.jsx(h6,{})})}));
